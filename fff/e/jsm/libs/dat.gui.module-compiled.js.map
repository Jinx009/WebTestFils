{"version":3,"sources":["dat.gui.module.js"],"names":[],"mappings":"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","file":"dat.gui.module-compiled.js","sourcesContent":["/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction ___$insertStyle( css ) {\n\n\tif ( ! css ) {\n\n\t\treturn;\n\n\t}\n\tif ( typeof window === 'undefined' ) {\n\n\t\treturn;\n\n\t}\n\n\tvar style = document.createElement( 'style' );\n\n\tstyle.setAttribute( 'type', 'text/css' );\n\tstyle.innerHTML = css;\n\tdocument.head.appendChild( style );\n\n\treturn css;\n\n}\n\nfunction colorToString( color, forceCSSHex ) {\n\n\tvar colorFormat = color.__state.conversionName.toString();\n\tvar r = Math.round( color.r );\n\tvar g = Math.round( color.g );\n\tvar b = Math.round( color.b );\n\tvar a = color.a;\n\tvar h = Math.round( color.h );\n\tvar s = color.s.toFixed( 1 );\n\tvar v = color.v.toFixed( 1 );\n\tif ( forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX' ) {\n\n\t\tvar str = color.hex.toString( 16 );\n\t\twhile ( str.length < 6 ) {\n\n\t\t\tstr = '0' + str;\n\n\t\t}\n\t\treturn '#' + str;\n\n\t} else if ( colorFormat === 'CSS_RGB' ) {\n\n\t\treturn 'rgb(' + r + ',' + g + ',' + b + ')';\n\n\t} else if ( colorFormat === 'CSS_RGBA' ) {\n\n\t\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n\t} else if ( colorFormat === 'HEX' ) {\n\n\t\treturn '0x' + color.hex.toString( 16 );\n\n\t} else if ( colorFormat === 'RGB_ARRAY' ) {\n\n\t\treturn '[' + r + ',' + g + ',' + b + ']';\n\n\t} else if ( colorFormat === 'RGBA_ARRAY' ) {\n\n\t\treturn '[' + r + ',' + g + ',' + b + ',' + a + ']';\n\n\t} else if ( colorFormat === 'RGB_OBJ' ) {\n\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + '}';\n\n\t} else if ( colorFormat === 'RGBA_OBJ' ) {\n\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n\n\t} else if ( colorFormat === 'HSV_OBJ' ) {\n\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + '}';\n\n\t} else if ( colorFormat === 'HSVA_OBJ' ) {\n\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n\n\t}\n\treturn 'unknown format';\n\n}\n\nvar ARR_EACH = Array.prototype.forEach;\nvar ARR_SLICE = Array.prototype.slice;\nvar Common = {\n\tBREAK: {},\n\textend: function extend( target ) {\n\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\n\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\n\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\tif ( ! this.isUndefined( obj[ key ] ) ) {\n\n\t\t\t\t\ttarget[ key ] = obj[ key ];\n\n\t\t\t\t}\n\n\t\t\t}.bind( this ) );\n\n\t\t}, this );\n\t\treturn target;\n\n\t},\n\tdefaults: function defaults( target ) {\n\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\n\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\n\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\tif ( this.isUndefined( target[ key ] ) ) {\n\n\t\t\t\t\ttarget[ key ] = obj[ key ];\n\n\t\t\t\t}\n\n\t\t\t}.bind( this ) );\n\n\t\t}, this );\n\t\treturn target;\n\n\t},\n\tcompose: function compose() {\n\n\t\tvar toCall = ARR_SLICE.call( arguments );\n\t\treturn function () {\n\n\t\t\tvar args = ARR_SLICE.call( arguments );\n\t\t\tfor ( var i = toCall.length - 1; i >= 0; i -- ) {\n\n\t\t\t\targs = [ toCall[ i ].apply( this, args ) ];\n\n\t\t\t}\n\t\t\treturn args[ 0 ];\n\n\t\t};\n\n\t},\n\teach: function each( obj, itr, scope ) {\n\n\t\tif ( ! obj ) {\n\n\t\t\treturn;\n\n\t\t}\n\t\tif ( ARR_EACH && obj.forEach && obj.forEach === ARR_EACH ) {\n\n\t\t\tobj.forEach( itr, scope );\n\n\t\t} else if ( obj.length === obj.length + 0 ) {\n\n\t\t\tvar key = void 0;\n\t\t\tvar l = void 0;\n\t\t\tfor ( key = 0, l = obj.length; key < l; key ++ ) {\n\n\t\t\t\tif ( key in obj && itr.call( scope, obj[ key ], key ) === this.BREAK ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfor ( var _key in obj ) {\n\n\t\t\t\tif ( itr.call( scope, obj[ _key ], _key ) === this.BREAK ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\tdefer: function defer( fnc ) {\n\n\t\tsetTimeout( fnc, 0 );\n\n\t},\n\tdebounce: function debounce( func, threshold, callImmediately ) {\n\n\t\tvar timeout = void 0;\n\t\treturn function () {\n\n\t\t\tvar obj = this;\n\t\t\tvar args = arguments;\n\t\t\tfunction delayed() {\n\n\t\t\t\ttimeout = null;\n\t\t\t\tif ( ! callImmediately ) func.apply( obj, args );\n\n\t\t\t}\n\t\t\tvar callNow = callImmediately || ! timeout;\n\t\t\tclearTimeout( timeout );\n\t\t\ttimeout = setTimeout( delayed, threshold );\n\t\t\tif ( callNow ) {\n\n\t\t\t\tfunc.apply( obj, args );\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\ttoArray: function toArray( obj ) {\n\n\t\tif ( obj.toArray ) return obj.toArray();\n\t\treturn ARR_SLICE.call( obj );\n\n\t},\n\tisUndefined: function isUndefined( obj ) {\n\n\t\treturn obj === undefined;\n\n\t},\n\tisNull: function isNull( obj ) {\n\n\t\treturn obj === null;\n\n\t},\n\tisNaN: function ( _isNaN ) {\n\n\t\tfunction isNaN() {\n\n\t\t\treturn _isNaN.apply( this, arguments );\n\n\t\t}\n\t\tisNaN.toString = function () {\n\n\t\t\treturn _isNaN.toString();\n\n\t\t};\n\t\treturn isNaN;\n\n\t}( function ( obj ) {\n\n\t\treturn isNaN( obj );\n\n\t} ),\n\tisArray: Array.isArray || function ( obj ) {\n\n\t\treturn obj.constructor === Array;\n\n\t},\n\tisObject: function isObject( obj ) {\n\n\t\treturn obj === Object( obj );\n\n\t},\n\tisNumber: function isNumber( obj ) {\n\n\t\treturn obj === obj + 0;\n\n\t},\n\tisString: function isString( obj ) {\n\n\t\treturn obj === obj + '';\n\n\t},\n\tisBoolean: function isBoolean( obj ) {\n\n\t\treturn obj === false || obj === true;\n\n\t},\n\tisFunction: function isFunction( obj ) {\n\n\t\treturn Object.prototype.toString.call( obj ) === '[object Function]';\n\n\t}\n};\n\nvar INTERPRETATIONS = [\n\t{\n\t\tlitmus: Common.isString,\n\t\tconversions: {\n\t\t\tTHREE_CHAR_HEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9])([A-F0-9])([A-F0-9])$/i );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString() + test[ 1 ].toString() + test[ 2 ].toString() + test[ 2 ].toString() + test[ 3 ].toString() + test[ 3 ].toString(), 0 )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tSIX_CHAR_HEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9]{6})$/i );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString(), 0 )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tCSS_RGB: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tCSS_RGBA: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] ),\n\t\t\t\t\t\ta: parseFloat( test[ 4 ] )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isNumber,\n\t\tconversions: {\n\t\t\tHEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: original,\n\t\t\t\t\t\tconversionName: 'HEX'\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn color.hex;\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isArray,\n\t\tconversions: {\n\t\t\tRGB_ARRAY: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( original.length !== 3 ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: original[ 0 ],\n\t\t\t\t\t\tg: original[ 1 ],\n\t\t\t\t\t\tb: original[ 2 ]\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn [ color.r, color.g, color.b ];\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tRGBA_ARRAY: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( original.length !== 4 ) return false;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: original[ 0 ],\n\t\t\t\t\t\tg: original[ 1 ],\n\t\t\t\t\t\tb: original[ 2 ],\n\t\t\t\t\t\ta: original[ 3 ]\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn [ color.r, color.g, color.b, color.a ];\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isObject,\n\t\tconversions: {\n\t\t\tRGBA_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) && Common.isNumber( original.a ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\t\tr: original.r,\n\t\t\t\t\t\t\tg: original.g,\n\t\t\t\t\t\t\tb: original.b,\n\t\t\t\t\t\t\ta: original.a\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tr: color.r,\n\t\t\t\t\t\tg: color.g,\n\t\t\t\t\t\tb: color.b,\n\t\t\t\t\t\ta: color.a\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tRGB_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\t\tr: original.r,\n\t\t\t\t\t\t\tg: original.g,\n\t\t\t\t\t\t\tb: original.b\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tr: color.r,\n\t\t\t\t\t\tg: color.g,\n\t\t\t\t\t\tb: color.b\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tHSVA_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) && Common.isNumber( original.a ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'HSV',\n\t\t\t\t\t\t\th: original.h,\n\t\t\t\t\t\t\ts: original.s,\n\t\t\t\t\t\t\tv: original.v,\n\t\t\t\t\t\t\ta: original.a\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\th: color.h,\n\t\t\t\t\t\ts: color.s,\n\t\t\t\t\t\tv: color.v,\n\t\t\t\t\t\ta: color.a\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tHSV_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'HSV',\n\t\t\t\t\t\t\th: original.h,\n\t\t\t\t\t\t\ts: original.s,\n\t\t\t\t\t\t\tv: original.v\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\th: color.h,\n\t\t\t\t\t\ts: color.s,\n\t\t\t\t\t\tv: color.v\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} ];\nvar result = void 0;\nvar toReturn = void 0;\nvar interpret = function interpret() {\n\n\ttoReturn = false;\n\tvar original = arguments.length > 1 ? Common.toArray( arguments ) : arguments[ 0 ];\n\tCommon.each( INTERPRETATIONS, function ( family ) {\n\n\t\tif ( family.litmus( original ) ) {\n\n\t\t\tCommon.each( family.conversions, function ( conversion, conversionName ) {\n\n\t\t\t\tresult = conversion.read( original );\n\t\t\t\tif ( toReturn === false && result !== false ) {\n\n\t\t\t\t\ttoReturn = result;\n\t\t\t\t\tresult.conversionName = conversionName;\n\t\t\t\t\tresult.conversion = conversion;\n\t\t\t\t\treturn Common.BREAK;\n\n\t\t\t\t}\n\n\t\t\t} );\n\t\t\treturn Common.BREAK;\n\n\t\t}\n\n\t} );\n\treturn toReturn;\n\n};\n\nvar tmpComponent = void 0;\nvar ColorMath = {\n\thsv_to_rgb: function hsv_to_rgb( h, s, v ) {\n\n\t\tvar hi = Math.floor( h / 60 ) % 6;\n\t\tvar f = h / 60 - Math.floor( h / 60 );\n\t\tvar p = v * ( 1.0 - s );\n\t\tvar q = v * ( 1.0 - f * s );\n\t\tvar t = v * ( 1.0 - ( 1.0 - f ) * s );\n\t\tvar c = [[ v, t, p ], [ q, v, p ], [ p, v, t ], [ p, q, v ], [ t, p, v ], [ v, p, q ]][ hi ];\n\t\treturn {\n\t\t\tr: c[ 0 ] * 255,\n\t\t\tg: c[ 1 ] * 255,\n\t\t\tb: c[ 2 ] * 255\n\t\t};\n\n\t},\n\trgb_to_hsv: function rgb_to_hsv( r, g, b ) {\n\n\t\tvar min = Math.min( r, g, b );\n\t\tvar max = Math.max( r, g, b );\n\t\tvar delta = max - min;\n\t\tvar h = void 0;\n\t\tvar s = void 0;\n\t\tif ( max !== 0 ) {\n\n\t\t\ts = delta / max;\n\n\t\t} else {\n\n\t\t\treturn {\n\t\t\t\th: NaN,\n\t\t\t\ts: 0,\n\t\t\t\tv: 0\n\t\t\t};\n\n\t\t}\n\t\tif ( r === max ) {\n\n\t\t\th = ( g - b ) / delta;\n\n\t\t} else if ( g === max ) {\n\n\t\t\th = 2 + ( b - r ) / delta;\n\n\t\t} else {\n\n\t\t\th = 4 + ( r - g ) / delta;\n\n\t\t}\n\t\th /= 6;\n\t\tif ( h < 0 ) {\n\n\t\t\th += 1;\n\n\t\t}\n\t\treturn {\n\t\t\th: h * 360,\n\t\t\ts: s,\n\t\t\tv: max / 255\n\t\t};\n\n\t},\n\trgb_to_hex: function rgb_to_hex( r, g, b ) {\n\n\t\tvar hex = this.hex_with_component( 0, 2, r );\n\t\thex = this.hex_with_component( hex, 1, g );\n\t\thex = this.hex_with_component( hex, 0, b );\n\t\treturn hex;\n\n\t},\n\tcomponent_from_hex: function component_from_hex( hex, componentIndex ) {\n\n\t\treturn hex >> componentIndex * 8 & 0xFF;\n\n\t},\n\thex_with_component: function hex_with_component( hex, componentIndex, value ) {\n\n\t\treturn value << ( tmpComponent = componentIndex * 8 ) | hex & ~ ( 0xFF << tmpComponent );\n\n\t}\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function ( obj ) {\n\n\treturn typeof obj;\n\n} : function ( obj ) {\n\n\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function ( instance, Constructor ) {\n\n\tif ( ! ( instance instanceof Constructor ) ) {\n\n\t\tthrow new TypeError( \"Cannot call a class as a function\" );\n\n\t}\n\n};\n\nvar createClass = function () {\n\n\tfunction defineProperties( target, props ) {\n\n\t\tfor ( var i = 0; i < props.length; i ++ ) {\n\n\t\t\tvar descriptor = props[ i ];\n\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\n\t\t\tdescriptor.configurable = true;\n\t\t\tif ( \"value\" in descriptor ) descriptor.writable = true;\n\t\t\tObject.defineProperty( target, descriptor.key, descriptor );\n\n\t\t}\n\n\t}\n\n\treturn function ( Constructor, protoProps, staticProps ) {\n\n\t\tif ( protoProps ) defineProperties( Constructor.prototype, protoProps );\n\t\tif ( staticProps ) defineProperties( Constructor, staticProps );\n\t\treturn Constructor;\n\n\t};\n\n}();\n\n\n\n\n\n\n\nvar get = function get( object, property, receiver ) {\n\n\tif ( object === null ) object = Function.prototype;\n\tvar desc = Object.getOwnPropertyDescriptor( object, property );\n\n\tif ( desc === undefined ) {\n\n\t\tvar parent = Object.getPrototypeOf( object );\n\n\t\tif ( parent === null ) {\n\n\t\t\treturn undefined;\n\n\t\t} else {\n\n\t\t\treturn get( parent, property, receiver );\n\n\t\t}\n\n\t} else if ( \"value\" in desc ) {\n\n\t\treturn desc.value;\n\n\t} else {\n\n\t\tvar getter = desc.get;\n\n\t\tif ( getter === undefined ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn getter.call( receiver );\n\n\t}\n\n};\n\nvar inherits = function ( subClass, superClass ) {\n\n\tif ( typeof superClass !== \"function\" && superClass !== null ) {\n\n\t\tthrow new TypeError( \"Super expression must either be null or a function, not \" + typeof superClass );\n\n\t}\n\n\tsubClass.prototype = Object.create( superClass && superClass.prototype, {\n\t\tconstructor: {\n\t\t\tvalue: subClass,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t} );\n\tif ( superClass ) Object.setPrototypeOf ? Object.setPrototypeOf( subClass, superClass ) : subClass.__proto__ = superClass;\n\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function ( self, call ) {\n\n\tif ( ! self ) {\n\n\t\tthrow new ReferenceError( \"this hasn't been initialised - super() hasn't been called\" );\n\n\t}\n\n\treturn call && ( typeof call === \"object\" || typeof call === \"function\" ) ? call : self;\n\n};\n\nvar Color = function () {\n\n\tfunction Color() {\n\n\t\tclassCallCheck( this, Color );\n\t\tthis.__state = interpret.apply( this, arguments );\n\t\tif ( this.__state === false ) {\n\n\t\t\tthrow new Error( 'Failed to interpret color arguments' );\n\n\t\t}\n\t\tthis.__state.a = this.__state.a || 1;\n\n\t}\n\tcreateClass( Color, [ {\n\t\tkey: 'toString',\n\t\tvalue: function toString() {\n\n\t\t\treturn colorToString( this );\n\n\t\t}\n\t}, {\n\t\tkey: 'toHexString',\n\t\tvalue: function toHexString() {\n\n\t\t\treturn colorToString( this, true );\n\n\t\t}\n\t}, {\n\t\tkey: 'toOriginal',\n\t\tvalue: function toOriginal() {\n\n\t\t\treturn this.__state.conversion.write( this );\n\n\t\t}\n\t} ] );\n\treturn Color;\n\n}();\nfunction defineRGBComponent( target, component, componentHexIndex ) {\n\n\tObject.defineProperty( target, component, {\n\t\tget: function get$$1() {\n\n\t\t\tif ( this.__state.space === 'RGB' ) {\n\n\t\t\t\treturn this.__state[ component ];\n\n\t\t\t}\n\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\n\t\t\treturn this.__state[ component ];\n\n\t\t},\n\t\tset: function set$$1( v ) {\n\n\t\t\tif ( this.__state.space !== 'RGB' ) {\n\n\t\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\n\t\t\t\tthis.__state.space = 'RGB';\n\n\t\t\t}\n\t\t\tthis.__state[ component ] = v;\n\n\t\t}\n\t} );\n\n}\nfunction defineHSVComponent( target, component ) {\n\n\tObject.defineProperty( target, component, {\n\t\tget: function get$$1() {\n\n\t\t\tif ( this.__state.space === 'HSV' ) {\n\n\t\t\t\treturn this.__state[ component ];\n\n\t\t\t}\n\t\t\tColor.recalculateHSV( this );\n\t\t\treturn this.__state[ component ];\n\n\t\t},\n\t\tset: function set$$1( v ) {\n\n\t\t\tif ( this.__state.space !== 'HSV' ) {\n\n\t\t\t\tColor.recalculateHSV( this );\n\t\t\t\tthis.__state.space = 'HSV';\n\n\t\t\t}\n\t\t\tthis.__state[ component ] = v;\n\n\t\t}\n\t} );\n\n}\nColor.recalculateRGB = function ( color, component, componentHexIndex ) {\n\n\tif ( color.__state.space === 'HEX' ) {\n\n\t\tcolor.__state[ component ] = ColorMath.component_from_hex( color.__state.hex, componentHexIndex );\n\n\t} else if ( color.__state.space === 'HSV' ) {\n\n\t\tCommon.extend( color.__state, ColorMath.hsv_to_rgb( color.__state.h, color.__state.s, color.__state.v ) );\n\n\t} else {\n\n\t\tthrow new Error( 'Corrupted color state' );\n\n\t}\n\n};\nColor.recalculateHSV = function ( color ) {\n\n\tvar result = ColorMath.rgb_to_hsv( color.r, color.g, color.b );\n\tCommon.extend( color.__state, {\n\t\ts: result.s,\n\t\tv: result.v\n\t} );\n\tif ( ! Common.isNaN( result.h ) ) {\n\n\t\tcolor.__state.h = result.h;\n\n\t} else if ( Common.isUndefined( color.__state.h ) ) {\n\n\t\tcolor.__state.h = 0;\n\n\t}\n\n};\nColor.COMPONENTS = [ 'r', 'g', 'b', 'h', 's', 'v', 'hex', 'a' ];\ndefineRGBComponent( Color.prototype, 'r', 2 );\ndefineRGBComponent( Color.prototype, 'g', 1 );\ndefineRGBComponent( Color.prototype, 'b', 0 );\ndefineHSVComponent( Color.prototype, 'h' );\ndefineHSVComponent( Color.prototype, 's' );\ndefineHSVComponent( Color.prototype, 'v' );\nObject.defineProperty( Color.prototype, 'a', {\n\tget: function get$$1() {\n\n\t\treturn this.__state.a;\n\n\t},\n\tset: function set$$1( v ) {\n\n\t\tthis.__state.a = v;\n\n\t}\n} );\nObject.defineProperty( Color.prototype, 'hex', {\n\tget: function get$$1() {\n\n\t\tif ( ! this.__state.space !== 'HEX' ) {\n\n\t\t\tthis.__state.hex = ColorMath.rgb_to_hex( this.r, this.g, this.b );\n\n\t\t}\n\t\treturn this.__state.hex;\n\n\t},\n\tset: function set$$1( v ) {\n\n\t\tthis.__state.space = 'HEX';\n\t\tthis.__state.hex = v;\n\n\t}\n} );\n\nvar Controller = function () {\n\n\tfunction Controller( object, property ) {\n\n\t\tclassCallCheck( this, Controller );\n\t\tthis.initialValue = object[ property ];\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.object = object;\n\t\tthis.property = property;\n\t\tthis.__onChange = undefined;\n\t\tthis.__onFinishChange = undefined;\n\n\t}\n\tcreateClass( Controller, [ {\n\t\tkey: 'onChange',\n\t\tvalue: function onChange( fnc ) {\n\n\t\t\tthis.__onChange = fnc;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'onFinishChange',\n\t\tvalue: function onFinishChange( fnc ) {\n\n\t\t\tthis.__onFinishChange = fnc;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( newValue ) {\n\n\t\t\tthis.object[ this.property ] = newValue;\n\t\t\tif ( this.__onChange ) {\n\n\t\t\t\tthis.__onChange.call( this, newValue );\n\n\t\t\t}\n\t\t\tthis.updateDisplay();\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'getValue',\n\t\tvalue: function getValue() {\n\n\t\t\treturn this.object[ this.property ];\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'isModified',\n\t\tvalue: function isModified() {\n\n\t\t\treturn this.initialValue !== this.getValue();\n\n\t\t}\n\t} ] );\n\treturn Controller;\n\n}();\n\nvar EVENT_MAP = {\n\tHTMLEvents: [ 'change' ],\n\tMouseEvents: [ 'click', 'mousemove', 'mousedown', 'mouseup', 'mouseover' ],\n\tKeyboardEvents: [ 'keydown' ]\n};\nvar EVENT_MAP_INV = {};\nCommon.each( EVENT_MAP, function ( v, k ) {\n\n\tCommon.each( v, function ( e ) {\n\n\t\tEVENT_MAP_INV[ e ] = k;\n\n\t} );\n\n} );\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\nfunction cssValueToPixels( val ) {\n\n\tif ( val === '0' || Common.isUndefined( val ) ) {\n\n\t\treturn 0;\n\n\t}\n\tvar match = val.match( CSS_VALUE_PIXELS );\n\tif ( ! Common.isNull( match ) ) {\n\n\t\treturn parseFloat( match[ 1 ] );\n\n\t}\n\treturn 0;\n\n}\nvar dom = {\n\tmakeSelectable: function makeSelectable( elem, selectable ) {\n\n\t\tif ( elem === undefined || elem.style === undefined ) return;\n\t\telem.onselectstart = selectable ? function () {\n\n\t\t\treturn false;\n\n\t\t} : function () {};\n\t\telem.style.MozUserSelect = selectable ? 'auto' : 'none';\n\t\telem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n\t\telem.unselectable = selectable ? 'on' : 'off';\n\n\t},\n\tmakeFullscreen: function makeFullscreen( elem, hor, vert ) {\n\n\t\tvar vertical = vert;\n\t\tvar horizontal = hor;\n\t\tif ( Common.isUndefined( horizontal ) ) {\n\n\t\t\thorizontal = true;\n\n\t\t}\n\t\tif ( Common.isUndefined( vertical ) ) {\n\n\t\t\tvertical = true;\n\n\t\t}\n\t\telem.style.position = 'absolute';\n\t\tif ( horizontal ) {\n\n\t\t\telem.style.left = 0;\n\t\t\telem.style.right = 0;\n\n\t\t}\n\t\tif ( vertical ) {\n\n\t\t\telem.style.top = 0;\n\t\t\telem.style.bottom = 0;\n\n\t\t}\n\n\t},\n\tfakeEvent: function fakeEvent( elem, eventType, pars, aux ) {\n\n\t\tvar params = pars || {};\n\t\tvar className = EVENT_MAP_INV[ eventType ];\n\t\tif ( ! className ) {\n\n\t\t\tthrow new Error( 'Event type ' + eventType + ' not supported.' );\n\n\t\t}\n\t\tvar evt = document.createEvent( className );\n\t\tswitch ( className ) {\n\n\t\t\tcase 'MouseEvents':\n\t\t\t{\n\n\t\t\t\tvar clientX = params.x || params.clientX || 0;\n\t\t\t\tvar clientY = params.y || params.clientY || 0;\n\t\t\t\tevt.initMouseEvent( eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\n\t\t\t\t\t0,\n\t\t\t\t\tclientX,\n\t\t\t\t\tclientY,\n\t\t\t\t\tfalse, false, false, false, 0, null );\n\t\t\t\tbreak;\n\n\t\t\t}\n\t\t\tcase 'KeyboardEvents':\n\t\t\t{\n\n\t\t\t\tvar init = evt.initKeyboardEvent || evt.initKeyEvent;\n\t\t\t\tCommon.defaults( params, {\n\t\t\t\t\tcancelable: true,\n\t\t\t\t\tctrlKey: false,\n\t\t\t\t\taltKey: false,\n\t\t\t\t\tshiftKey: false,\n\t\t\t\t\tmetaKey: false,\n\t\t\t\t\tkeyCode: undefined,\n\t\t\t\t\tcharCode: undefined\n\t\t\t\t} );\n\t\t\t\tinit( eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode );\n\t\t\t\tbreak;\n\n\t\t\t}\n\t\t\tdefault:\n\t\t\t{\n\n\t\t\t\tevt.initEvent( eventType, params.bubbles || false, params.cancelable || true );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\t\tCommon.defaults( evt, aux );\n\t\telem.dispatchEvent( evt );\n\n\t},\n\tbind: function bind( elem, event, func, newBool ) {\n\n\t\tvar bool = newBool || false;\n\t\tif ( elem.addEventListener ) {\n\n\t\t\telem.addEventListener( event, func, bool );\n\n\t\t} else if ( elem.attachEvent ) {\n\n\t\t\telem.attachEvent( 'on' + event, func );\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\tunbind: function unbind( elem, event, func, newBool ) {\n\n\t\tvar bool = newBool || false;\n\t\tif ( elem.removeEventListener ) {\n\n\t\t\telem.removeEventListener( event, func, bool );\n\n\t\t} else if ( elem.detachEvent ) {\n\n\t\t\telem.detachEvent( 'on' + event, func );\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\taddClass: function addClass( elem, className ) {\n\n\t\tif ( elem.className === undefined ) {\n\n\t\t\telem.className = className;\n\n\t\t} else if ( elem.className !== className ) {\n\n\t\t\tvar classes = elem.className.split( / +/ );\n\t\t\tif ( classes.indexOf( className ) === - 1 ) {\n\n\t\t\t\tclasses.push( className );\n\t\t\t\telem.className = classes.join( ' ' ).replace( /^\\s+/, '' ).replace( /\\s+$/, '' );\n\n\t\t\t}\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\tremoveClass: function removeClass( elem, className ) {\n\n\t\tif ( className ) {\n\n\t\t\tif ( elem.className === className ) {\n\n\t\t\t\telem.removeAttribute( 'class' );\n\n\t\t\t} else {\n\n\t\t\t\tvar classes = elem.className.split( / +/ );\n\t\t\t\tvar index = classes.indexOf( className );\n\t\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\t\tclasses.splice( index, 1 );\n\t\t\t\t\telem.className = classes.join( ' ' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\telem.className = undefined;\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\thasClass: function hasClass( elem, className ) {\n\n\t\treturn new RegExp( '(?:^|\\\\s+)' + className + '(?:\\\\s+|$)' ).test( elem.className ) || false;\n\n\t},\n\tgetWidth: function getWidth( elem ) {\n\n\t\tvar style = getComputedStyle( elem );\n\t\treturn cssValueToPixels( style[ 'border-left-width' ] ) + cssValueToPixels( style[ 'border-right-width' ] ) + cssValueToPixels( style[ 'padding-left' ] ) + cssValueToPixels( style[ 'padding-right' ] ) + cssValueToPixels( style.width );\n\n\t},\n\tgetHeight: function getHeight( elem ) {\n\n\t\tvar style = getComputedStyle( elem );\n\t\treturn cssValueToPixels( style[ 'border-top-width' ] ) + cssValueToPixels( style[ 'border-bottom-width' ] ) + cssValueToPixels( style[ 'padding-top' ] ) + cssValueToPixels( style[ 'padding-bottom' ] ) + cssValueToPixels( style.height );\n\n\t},\n\tgetOffset: function getOffset( el ) {\n\n\t\tvar elem = el;\n\t\tvar offset = { left: 0, top: 0 };\n\t\tif ( elem.offsetParent ) {\n\n\t\t\tdo {\n\n\t\t\t\toffset.left += elem.offsetLeft;\n\t\t\t\toffset.top += elem.offsetTop;\n\t\t\t\telem = elem.offsetParent;\n\n\t\t\t} while ( elem );\n\n\t\t}\n\t\treturn offset;\n\n\t},\n\tisActive: function isActive( elem ) {\n\n\t\treturn elem === document.activeElement && ( elem.type || elem.href );\n\n\t}\n};\n\nvar BooleanController = function ( _Controller ) {\n\n\tinherits( BooleanController, _Controller );\n\tfunction BooleanController( object, property ) {\n\n\t\tclassCallCheck( this, BooleanController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( BooleanController.__proto__ || Object.getPrototypeOf( BooleanController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\t_this2.__prev = _this2.getValue();\n\t\t_this2.__checkbox = document.createElement( 'input' );\n\t\t_this2.__checkbox.setAttribute( 'type', 'checkbox' );\n\t\tfunction onChange() {\n\n\t\t\t_this.setValue( ! _this.__prev );\n\n\t\t}\n\t\tdom.bind( _this2.__checkbox, 'change', onChange, false );\n\t\t_this2.domElement.appendChild( _this2.__checkbox );\n\t\t_this2.updateDisplay();\n\t\treturn _this2;\n\n\t}\n\tcreateClass( BooleanController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar toReturn = get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'setValue', this ).call( this, v );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\t\t\tthis.__prev = this.getValue();\n\t\t\treturn toReturn;\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( this.getValue() === true ) {\n\n\t\t\t\tthis.__checkbox.setAttribute( 'checked', 'checked' );\n\t\t\t\tthis.__checkbox.checked = true;\n\t\t\t\tthis.__prev = true;\n\n\t\t\t} else {\n\n\t\t\t\tthis.__checkbox.checked = false;\n\t\t\t\tthis.__prev = false;\n\n\t\t\t}\n\t\t\treturn get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn BooleanController;\n\n}( Controller );\n\nvar OptionController = function ( _Controller ) {\n\n\tinherits( OptionController, _Controller );\n\tfunction OptionController( object, property, opts ) {\n\n\t\tclassCallCheck( this, OptionController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( OptionController.__proto__ || Object.getPrototypeOf( OptionController ) ).call( this, object, property ) );\n\t\tvar options = opts;\n\t\tvar _this = _this2;\n\t\t_this2.__select = document.createElement( 'select' );\n\t\tif ( Common.isArray( options ) ) {\n\n\t\t\tvar map = {};\n\t\t\tCommon.each( options, function ( element ) {\n\n\t\t\t\tmap[ element ] = element;\n\n\t\t\t} );\n\t\t\toptions = map;\n\n\t\t}\n\t\tCommon.each( options, function ( value, key ) {\n\n\t\t\tvar opt = document.createElement( 'option' );\n\t\t\topt.innerHTML = key;\n\t\t\topt.setAttribute( 'value', value );\n\t\t\t_this.__select.appendChild( opt );\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\tdom.bind( _this2.__select, 'change', function () {\n\n\t\t\tvar desiredValue = this.options[ this.selectedIndex ].value;\n\t\t\t_this.setValue( desiredValue );\n\n\t\t} );\n\t\t_this2.domElement.appendChild( _this2.__select );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( OptionController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar toReturn = get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'setValue', this ).call( this, v );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\t\t\treturn toReturn;\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( dom.isActive( this.__select ) ) return this;\n\t\t\tthis.__select.value = this.getValue();\n\t\t\treturn get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn OptionController;\n\n}( Controller );\n\nvar StringController = function ( _Controller ) {\n\n\tinherits( StringController, _Controller );\n\tfunction StringController( object, property ) {\n\n\t\tclassCallCheck( this, StringController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( StringController.__proto__ || Object.getPrototypeOf( StringController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\tfunction onChange() {\n\n\t\t\t_this.setValue( _this.__input.value );\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.setAttribute( 'type', 'text' );\n\t\tdom.bind( _this2.__input, 'keyup', onChange );\n\t\tdom.bind( _this2.__input, 'change', onChange );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\tthis.blur();\n\n\t\t\t}\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( StringController, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( ! dom.isActive( this.__input ) ) {\n\n\t\t\t\tthis.__input.value = this.getValue();\n\n\t\t\t}\n\t\t\treturn get( StringController.prototype.__proto__ || Object.getPrototypeOf( StringController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn StringController;\n\n}( Controller );\n\nfunction numDecimals( x ) {\n\n\tvar _x = x.toString();\n\tif ( _x.indexOf( '.' ) > - 1 ) {\n\n\t\treturn _x.length - _x.indexOf( '.' ) - 1;\n\n\t}\n\treturn 0;\n\n}\nvar NumberController = function ( _Controller ) {\n\n\tinherits( NumberController, _Controller );\n\tfunction NumberController( object, property, params ) {\n\n\t\tclassCallCheck( this, NumberController );\n\t\tvar _this = possibleConstructorReturn( this, ( NumberController.__proto__ || Object.getPrototypeOf( NumberController ) ).call( this, object, property ) );\n\t\tvar _params = params || {};\n\t\t_this.__min = _params.min;\n\t\t_this.__max = _params.max;\n\t\t_this.__step = _params.step;\n\t\tif ( Common.isUndefined( _this.__step ) ) {\n\n\t\t\tif ( _this.initialValue === 0 ) {\n\n\t\t\t\t_this.__impliedStep = 1;\n\n\t\t\t} else {\n\n\t\t\t\t_this.__impliedStep = Math.pow( 10, Math.floor( Math.log( Math.abs( _this.initialValue ) ) / Math.LN10 ) ) / 10;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_this.__impliedStep = _this.__step;\n\n\t\t}\n\t\t_this.__precision = numDecimals( _this.__impliedStep );\n\t\treturn _this;\n\n\t}\n\tcreateClass( NumberController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar _v = v;\n\t\t\tif ( this.__min !== undefined && _v < this.__min ) {\n\n\t\t\t\t_v = this.__min;\n\n\t\t\t} else if ( this.__max !== undefined && _v > this.__max ) {\n\n\t\t\t\t_v = this.__max;\n\n\t\t\t}\n\t\t\tif ( this.__step !== undefined && _v % this.__step !== 0 ) {\n\n\t\t\t\t_v = Math.round( _v / this.__step ) * this.__step;\n\n\t\t\t}\n\t\t\treturn get( NumberController.prototype.__proto__ || Object.getPrototypeOf( NumberController.prototype ), 'setValue', this ).call( this, _v );\n\n\t\t}\n\t}, {\n\t\tkey: 'min',\n\t\tvalue: function min( minValue ) {\n\n\t\t\tthis.__min = minValue;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'max',\n\t\tvalue: function max( maxValue ) {\n\n\t\t\tthis.__max = maxValue;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'step',\n\t\tvalue: function step( stepValue ) {\n\n\t\t\tthis.__step = stepValue;\n\t\t\tthis.__impliedStep = stepValue;\n\t\t\tthis.__precision = numDecimals( stepValue );\n\t\t\treturn this;\n\n\t\t}\n\t} ] );\n\treturn NumberController;\n\n}( Controller );\n\nfunction roundToDecimal( value, decimals ) {\n\n\tvar tenTo = Math.pow( 10, decimals );\n\treturn Math.round( value * tenTo ) / tenTo;\n\n}\nvar NumberControllerBox = function ( _NumberController ) {\n\n\tinherits( NumberControllerBox, _NumberController );\n\tfunction NumberControllerBox( object, property, params ) {\n\n\t\tclassCallCheck( this, NumberControllerBox );\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerBox.__proto__ || Object.getPrototypeOf( NumberControllerBox ) ).call( this, object, property, params ) );\n\t\t_this2.__truncationSuspended = false;\n\t\tvar _this = _this2;\n\t\tvar prevY = void 0;\n\t\tfunction onChange() {\n\n\t\t\tvar attempted = parseFloat( _this.__input.value );\n\t\t\tif ( ! Common.isNaN( attempted ) ) {\n\n\t\t\t\t_this.setValue( attempted );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onFinish() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onMouseDrag( e ) {\n\n\t\t\tvar diff = prevY - e.clientY;\n\t\t\t_this.setValue( _this.getValue() + diff * _this.__impliedStep );\n\t\t\tprevY = e.clientY;\n\n\t\t}\n\t\tfunction onMouseUp() {\n\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onMouseDown( e ) {\n\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\n\t\t\tprevY = e.clientY;\n\n\t\t}\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.setAttribute( 'type', 'text' );\n\t\tdom.bind( _this2.__input, 'change', onChange );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__input, 'mousedown', onMouseDown );\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\t_this.__truncationSuspended = true;\n\t\t\t\tthis.blur();\n\t\t\t\t_this.__truncationSuspended = false;\n\t\t\t\tonFinish();\n\n\t\t\t}\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( NumberControllerBox, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tthis.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal( this.getValue(), this.__precision );\n\t\t\treturn get( NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf( NumberControllerBox.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn NumberControllerBox;\n\n}( NumberController );\n\nfunction map( v, i1, i2, o1, o2 ) {\n\n\treturn o1 + ( o2 - o1 ) * ( ( v - i1 ) / ( i2 - i1 ) );\n\n}\nvar NumberControllerSlider = function ( _NumberController ) {\n\n\tinherits( NumberControllerSlider, _NumberController );\n\tfunction NumberControllerSlider( object, property, min, max, step ) {\n\n\t\tclassCallCheck( this, NumberControllerSlider );\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerSlider.__proto__ || Object.getPrototypeOf( NumberControllerSlider ) ).call( this, object, property, { min: min, max: max, step: step } ) );\n\t\tvar _this = _this2;\n\t\t_this2.__background = document.createElement( 'div' );\n\t\t_this2.__foreground = document.createElement( 'div' );\n\t\tdom.bind( _this2.__background, 'mousedown', onMouseDown );\n\t\tdom.bind( _this2.__background, 'touchstart', onTouchStart );\n\t\tdom.addClass( _this2.__background, 'slider' );\n\t\tdom.addClass( _this2.__foreground, 'slider-fg' );\n\t\tfunction onMouseDown( e ) {\n\n\t\t\tdocument.activeElement.blur();\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\n\t\t\tonMouseDrag( e );\n\n\t\t}\n\t\tfunction onMouseDrag( e ) {\n\n\t\t\te.preventDefault();\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\n\t\t\t_this.setValue( map( e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\n\t\t\treturn false;\n\n\t\t}\n\t\tfunction onMouseUp() {\n\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onTouchStart( e ) {\n\n\t\t\tif ( e.touches.length !== 1 ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tdom.bind( window, 'touchmove', onTouchMove );\n\t\t\tdom.bind( window, 'touchend', onTouchEnd );\n\t\t\tonTouchMove( e );\n\n\t\t}\n\t\tfunction onTouchMove( e ) {\n\n\t\t\tvar clientX = e.touches[ 0 ].clientX;\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\n\t\t\t_this.setValue( map( clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\n\n\t\t}\n\t\tfunction onTouchEnd() {\n\n\t\t\tdom.unbind( window, 'touchmove', onTouchMove );\n\t\t\tdom.unbind( window, 'touchend', onTouchEnd );\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.updateDisplay();\n\t\t_this2.__background.appendChild( _this2.__foreground );\n\t\t_this2.domElement.appendChild( _this2.__background );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( NumberControllerSlider, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tvar pct = ( this.getValue() - this.__min ) / ( this.__max - this.__min );\n\t\t\tthis.__foreground.style.width = pct * 100 + '%';\n\t\t\treturn get( NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf( NumberControllerSlider.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn NumberControllerSlider;\n\n}( NumberController );\n\nvar FunctionController = function ( _Controller ) {\n\n\tinherits( FunctionController, _Controller );\n\tfunction FunctionController( object, property, text ) {\n\n\t\tclassCallCheck( this, FunctionController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( FunctionController.__proto__ || Object.getPrototypeOf( FunctionController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\t_this2.__button = document.createElement( 'div' );\n\t\t_this2.__button.innerHTML = text === undefined ? 'Fire' : text;\n\t\tdom.bind( _this2.__button, 'click', function ( e ) {\n\n\t\t\te.preventDefault();\n\t\t\t_this.fire();\n\t\t\treturn false;\n\n\t\t} );\n\t\tdom.addClass( _this2.__button, 'button' );\n\t\t_this2.domElement.appendChild( _this2.__button );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( FunctionController, [ {\n\t\tkey: 'fire',\n\t\tvalue: function fire() {\n\n\t\t\tif ( this.__onChange ) {\n\n\t\t\t\tthis.__onChange.call( this );\n\n\t\t\t}\n\t\t\tthis.getValue().call( this.object );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t} ] );\n\treturn FunctionController;\n\n}( Controller );\n\nvar ColorController = function ( _Controller ) {\n\n\tinherits( ColorController, _Controller );\n\tfunction ColorController( object, property ) {\n\n\t\tclassCallCheck( this, ColorController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( ColorController.__proto__ || Object.getPrototypeOf( ColorController ) ).call( this, object, property ) );\n\t\t_this2.__color = new Color( _this2.getValue() );\n\t\t_this2.__temp = new Color( 0 );\n\t\tvar _this = _this2;\n\t\t_this2.domElement = document.createElement( 'div' );\n\t\tdom.makeSelectable( _this2.domElement, false );\n\t\t_this2.__selector = document.createElement( 'div' );\n\t\t_this2.__selector.className = 'selector';\n\t\t_this2.__saturation_field = document.createElement( 'div' );\n\t\t_this2.__saturation_field.className = 'saturation-field';\n\t\t_this2.__field_knob = document.createElement( 'div' );\n\t\t_this2.__field_knob.className = 'field-knob';\n\t\t_this2.__field_knob_border = '2px solid ';\n\t\t_this2.__hue_knob = document.createElement( 'div' );\n\t\t_this2.__hue_knob.className = 'hue-knob';\n\t\t_this2.__hue_field = document.createElement( 'div' );\n\t\t_this2.__hue_field.className = 'hue-field';\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.type = 'text';\n\t\t_this2.__input_textShadow = '0 1px 1px ';\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\tonBlur.call( this );\n\n\t\t\t}\n\n\t\t} );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__selector, 'mousedown', function () {\n\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'mouseup', function () {\n\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\n\n\t\t\t} );\n\n\t\t} );\n\t\tdom.bind( _this2.__selector, 'touchstart', function () {\n\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'touchend', function () {\n\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\n\n\t\t\t} );\n\n\t\t} );\n\t\tvar valueField = document.createElement( 'div' );\n\t\tCommon.extend( _this2.__selector.style, {\n\t\t\twidth: '122px',\n\t\t\theight: '102px',\n\t\t\tpadding: '3px',\n\t\t\tbackgroundColor: '#222',\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n\t\t} );\n\t\tCommon.extend( _this2.__field_knob.style, {\n\t\t\tposition: 'absolute',\n\t\t\twidth: '12px',\n\t\t\theight: '12px',\n\t\t\tborder: _this2.__field_knob_border + ( _this2.__color.v < 0.5 ? '#fff' : '#000' ),\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n\t\t\tborderRadius: '12px',\n\t\t\tzIndex: 1\n\t\t} );\n\t\tCommon.extend( _this2.__hue_knob.style, {\n\t\t\tposition: 'absolute',\n\t\t\twidth: '15px',\n\t\t\theight: '2px',\n\t\t\tborderRight: '4px solid #fff',\n\t\t\tzIndex: 1\n\t\t} );\n\t\tCommon.extend( _this2.__saturation_field.style, {\n\t\t\twidth: '100px',\n\t\t\theight: '100px',\n\t\t\tborder: '1px solid #555',\n\t\t\tmarginRight: '3px',\n\t\t\tdisplay: 'inline-block',\n\t\t\tcursor: 'pointer'\n\t\t} );\n\t\tCommon.extend( valueField.style, {\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\tbackground: 'none'\n\t\t} );\n\t\tlinearGradient( valueField, 'top', 'rgba(0,0,0,0)', '#000' );\n\t\tCommon.extend( _this2.__hue_field.style, {\n\t\t\twidth: '15px',\n\t\t\theight: '100px',\n\t\t\tborder: '1px solid #555',\n\t\t\tcursor: 'ns-resize',\n\t\t\tposition: 'absolute',\n\t\t\ttop: '3px',\n\t\t\tright: '3px'\n\t\t} );\n\t\thueGradient( _this2.__hue_field );\n\t\tCommon.extend( _this2.__input.style, {\n\t\t\toutline: 'none',\n\t\t\ttextAlign: 'center',\n\t\t\tcolor: '#fff',\n\t\t\tborder: 0,\n\t\t\tfontWeight: 'bold',\n\t\t\ttextShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\n\t\t} );\n\t\tdom.bind( _this2.__saturation_field, 'mousedown', fieldDown );\n\t\tdom.bind( _this2.__saturation_field, 'touchstart', fieldDown );\n\t\tdom.bind( _this2.__field_knob, 'mousedown', fieldDown );\n\t\tdom.bind( _this2.__field_knob, 'touchstart', fieldDown );\n\t\tdom.bind( _this2.__hue_field, 'mousedown', fieldDownH );\n\t\tdom.bind( _this2.__hue_field, 'touchstart', fieldDownH );\n\t\tfunction fieldDown( e ) {\n\n\t\t\tsetSV( e );\n\t\t\tdom.bind( window, 'mousemove', setSV );\n\t\t\tdom.bind( window, 'touchmove', setSV );\n\t\t\tdom.bind( window, 'mouseup', fieldUpSV );\n\t\t\tdom.bind( window, 'touchend', fieldUpSV );\n\n\t\t}\n\t\tfunction fieldDownH( e ) {\n\n\t\t\tsetH( e );\n\t\t\tdom.bind( window, 'mousemove', setH );\n\t\t\tdom.bind( window, 'touchmove', setH );\n\t\t\tdom.bind( window, 'mouseup', fieldUpH );\n\t\t\tdom.bind( window, 'touchend', fieldUpH );\n\n\t\t}\n\t\tfunction fieldUpSV() {\n\n\t\t\tdom.unbind( window, 'mousemove', setSV );\n\t\t\tdom.unbind( window, 'touchmove', setSV );\n\t\t\tdom.unbind( window, 'mouseup', fieldUpSV );\n\t\t\tdom.unbind( window, 'touchend', fieldUpSV );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction fieldUpH() {\n\n\t\t\tdom.unbind( window, 'mousemove', setH );\n\t\t\tdom.unbind( window, 'touchmove', setH );\n\t\t\tdom.unbind( window, 'mouseup', fieldUpH );\n\t\t\tdom.unbind( window, 'touchend', fieldUpH );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tvar i = interpret( this.value );\n\t\t\tif ( i !== false ) {\n\n\t\t\t\t_this.__color.__state = i;\n\t\t\t\t_this.setValue( _this.__color.toOriginal() );\n\n\t\t\t} else {\n\n\t\t\t\tthis.value = _this.__color.toString();\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onFinish() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.__color.toOriginal() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.__saturation_field.appendChild( valueField );\n\t\t_this2.__selector.appendChild( _this2.__field_knob );\n\t\t_this2.__selector.appendChild( _this2.__saturation_field );\n\t\t_this2.__selector.appendChild( _this2.__hue_field );\n\t\t_this2.__hue_field.appendChild( _this2.__hue_knob );\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\t_this2.domElement.appendChild( _this2.__selector );\n\t\t_this2.updateDisplay();\n\t\tfunction setSV( e ) {\n\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t}\n\t\t\tvar fieldRect = _this.__saturation_field.getBoundingClientRect();\n\t\t\tvar _ref = e.touches && e.touches[ 0 ] || e,\n\t\t\t\tclientX = _ref.clientX,\n\t\t\t\tclientY = _ref.clientY;\n\t\t\tvar s = ( clientX - fieldRect.left ) / ( fieldRect.right - fieldRect.left );\n\t\t\tvar v = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\n\t\t\tif ( v > 1 ) {\n\n\t\t\t\tv = 1;\n\n\t\t\t} else if ( v < 0 ) {\n\n\t\t\t\tv = 0;\n\n\t\t\t}\n\t\t\tif ( s > 1 ) {\n\n\t\t\t\ts = 1;\n\n\t\t\t} else if ( s < 0 ) {\n\n\t\t\t\ts = 0;\n\n\t\t\t}\n\t\t\t_this.__color.v = v;\n\t\t\t_this.__color.s = s;\n\t\t\t_this.setValue( _this.__color.toOriginal() );\n\t\t\treturn false;\n\n\t\t}\n\t\tfunction setH( e ) {\n\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t}\n\t\t\tvar fieldRect = _this.__hue_field.getBoundingClientRect();\n\t\t\tvar _ref2 = e.touches && e.touches[ 0 ] || e,\n\t\t\t\tclientY = _ref2.clientY;\n\t\t\tvar h = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\n\t\t\tif ( h > 1 ) {\n\n\t\t\t\th = 1;\n\n\t\t\t} else if ( h < 0 ) {\n\n\t\t\t\th = 0;\n\n\t\t\t}\n\t\t\t_this.__color.h = h * 360;\n\t\t\t_this.setValue( _this.__color.toOriginal() );\n\t\t\treturn false;\n\n\t\t}\n\t\treturn _this2;\n\n\t}\n\tcreateClass( ColorController, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tvar i = interpret( this.getValue() );\n\t\t\tif ( i !== false ) {\n\n\t\t\t\tvar mismatch = false;\n\t\t\t\tCommon.each( Color.COMPONENTS, function ( component ) {\n\n\t\t\t\t\tif ( ! Common.isUndefined( i[ component ] ) && ! Common.isUndefined( this.__color.__state[ component ] ) && i[ component ] !== this.__color.__state[ component ] ) {\n\n\t\t\t\t\t\tmismatch = true;\n\t\t\t\t\t\treturn {};\n\n\t\t\t\t\t}\n\n\t\t\t\t}, this );\n\t\t\t\tif ( mismatch ) {\n\n\t\t\t\t\tCommon.extend( this.__color.__state, i );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tCommon.extend( this.__temp.__state, this.__color.__state );\n\t\t\tthis.__temp.a = 1;\n\t\t\tvar flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\n\t\t\tvar _flip = 255 - flip;\n\t\t\tCommon.extend( this.__field_knob.style, {\n\t\t\t\tmarginLeft: 100 * this.__color.s - 7 + 'px',\n\t\t\t\tmarginTop: 100 * ( 1 - this.__color.v ) - 7 + 'px',\n\t\t\t\tbackgroundColor: this.__temp.toHexString(),\n\t\t\t\tborder: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n\t\t\t} );\n\t\t\tthis.__hue_knob.style.marginTop = ( 1 - this.__color.h / 360 ) * 100 + 'px';\n\t\t\tthis.__temp.s = 1;\n\t\t\tthis.__temp.v = 1;\n\t\t\tlinearGradient( this.__saturation_field, 'left', '#fff', this.__temp.toHexString() );\n\t\t\tthis.__input.value = this.__color.toString();\n\t\t\tCommon.extend( this.__input.style, {\n\t\t\t\tbackgroundColor: this.__color.toHexString(),\n\t\t\t\tcolor: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n\t\t\t\ttextShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n\t\t\t} );\n\n\t\t}\n\t} ] );\n\treturn ColorController;\n\n}( Controller );\nvar vendors = [ '-moz-', '-o-', '-webkit-', '-ms-', '' ];\nfunction linearGradient( elem, x, a, b ) {\n\n\telem.style.background = '';\n\tCommon.each( vendors, function ( vendor ) {\n\n\t\telem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n\n\t} );\n\n}\nfunction hueGradient( elem ) {\n\n\telem.style.background = '';\n\telem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n\telem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\n}\n\nvar css = {\n\tload: function load( url, indoc ) {\n\n\t\tvar doc = indoc || document;\n\t\tvar link = doc.createElement( 'link' );\n\t\tlink.type = 'text/css';\n\t\tlink.rel = 'stylesheet';\n\t\tlink.href = url;\n\t\tdoc.getElementsByTagName( 'head' )[ 0 ].appendChild( link );\n\n\t},\n\tinject: function inject( cssContent, indoc ) {\n\n\t\tvar doc = indoc || document;\n\t\tvar injected = document.createElement( 'style' );\n\t\tinjected.type = 'text/css';\n\t\tinjected.innerHTML = cssContent;\n\t\tvar head = doc.getElementsByTagName( 'head' )[ 0 ];\n\t\ttry {\n\n\t\t\thead.appendChild( injected );\n\n\t\t} catch ( e ) {\n\t\t}\n\n\t}\n};\n\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\n\nvar ControllerFactory = function ControllerFactory( object, property ) {\n\n\tvar initialValue = object[ property ];\n\tif ( Common.isArray( arguments[ 2 ] ) || Common.isObject( arguments[ 2 ] ) ) {\n\n\t\treturn new OptionController( object, property, arguments[ 2 ] );\n\n\t}\n\tif ( Common.isNumber( initialValue ) ) {\n\n\t\tif ( Common.isNumber( arguments[ 2 ] ) && Common.isNumber( arguments[ 3 ] ) ) {\n\n\t\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\n\n\t\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] );\n\n\t\t\t}\n\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ] );\n\n\t\t}\n\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\n\n\t\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ], step: arguments[ 4 ] } );\n\n\t\t}\n\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ] } );\n\n\t}\n\tif ( Common.isString( initialValue ) ) {\n\n\t\treturn new StringController( object, property );\n\n\t}\n\tif ( Common.isFunction( initialValue ) ) {\n\n\t\treturn new FunctionController( object, property, '' );\n\n\t}\n\tif ( Common.isBoolean( initialValue ) ) {\n\n\t\treturn new BooleanController( object, property );\n\n\t}\n\treturn null;\n\n};\n\nfunction requestAnimationFrame( callback ) {\n\n\tsetTimeout( callback, 1000 / 60 );\n\n}\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\n\nvar CenteredDiv = function () {\n\n\tfunction CenteredDiv() {\n\n\t\tclassCallCheck( this, CenteredDiv );\n\t\tthis.backgroundElement = document.createElement( 'div' );\n\t\tCommon.extend( this.backgroundElement.style, {\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tdisplay: 'none',\n\t\t\tzIndex: '1000',\n\t\t\topacity: 0,\n\t\t\tWebkitTransition: 'opacity 0.2s linear',\n\t\t\ttransition: 'opacity 0.2s linear'\n\t\t} );\n\t\tdom.makeFullscreen( this.backgroundElement );\n\t\tthis.backgroundElement.style.position = 'fixed';\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tCommon.extend( this.domElement.style, {\n\t\t\tposition: 'fixed',\n\t\t\tdisplay: 'none',\n\t\t\tzIndex: '1001',\n\t\t\topacity: 0,\n\t\t\tWebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n\t\t\ttransition: 'transform 0.2s ease-out, opacity 0.2s linear'\n\t\t} );\n\t\tdocument.body.appendChild( this.backgroundElement );\n\t\tdocument.body.appendChild( this.domElement );\n\t\tvar _this = this;\n\t\tdom.bind( this.backgroundElement, 'click', function () {\n\n\t\t\t_this.hide();\n\n\t\t} );\n\n\t}\n\tcreateClass( CenteredDiv, [ {\n\t\tkey: 'show',\n\t\tvalue: function show() {\n\n\t\t\tvar _this = this;\n\t\t\tthis.backgroundElement.style.display = 'block';\n\t\t\tthis.domElement.style.display = 'block';\n\t\t\tthis.domElement.style.opacity = 0;\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\n\t\t\tthis.layout();\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.backgroundElement.style.opacity = 1;\n\t\t\t\t_this.domElement.style.opacity = 1;\n\t\t\t\t_this.domElement.style.webkitTransform = 'scale(1)';\n\n\t\t\t} );\n\n\t\t}\n\t}, {\n\t\tkey: 'hide',\n\t\tvalue: function hide() {\n\n\t\t\tvar _this = this;\n\t\t\tvar hide = function hide() {\n\n\t\t\t\t_this.domElement.style.display = 'none';\n\t\t\t\t_this.backgroundElement.style.display = 'none';\n\t\t\t\tdom.unbind( _this.domElement, 'webkitTransitionEnd', hide );\n\t\t\t\tdom.unbind( _this.domElement, 'transitionend', hide );\n\t\t\t\tdom.unbind( _this.domElement, 'oTransitionEnd', hide );\n\n\t\t\t};\n\t\t\tdom.bind( this.domElement, 'webkitTransitionEnd', hide );\n\t\t\tdom.bind( this.domElement, 'transitionend', hide );\n\t\t\tdom.bind( this.domElement, 'oTransitionEnd', hide );\n\t\t\tthis.backgroundElement.style.opacity = 0;\n\t\t\tthis.domElement.style.opacity = 0;\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\n\n\t\t}\n\t}, {\n\t\tkey: 'layout',\n\t\tvalue: function layout() {\n\n\t\t\tthis.domElement.style.left = window.innerWidth / 2 - dom.getWidth( this.domElement ) / 2 + 'px';\n\t\t\tthis.domElement.style.top = window.innerHeight / 2 - dom.getHeight( this.domElement ) / 2 + 'px';\n\n\t\t}\n\t} ] );\n\treturn CenteredDiv;\n\n}();\n\nvar styleSheet = ___$insertStyle( \".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\" );\n\ncss.inject( styleSheet );\nvar CSS_NAMESPACE = 'dg';\nvar HIDE_KEY_CODE = 72;\nvar CLOSE_BUTTON_HEIGHT = 20;\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\nvar SUPPORTS_LOCAL_STORAGE = function () {\n\n\ttry {\n\n\t\treturn !! window.localStorage;\n\n\t} catch ( e ) {\n\n\t\treturn false;\n\n\t}\n\n}();\nvar SAVE_DIALOGUE = void 0;\nvar autoPlaceVirgin = true;\nvar autoPlaceContainer = void 0;\nvar hide = false;\nvar hideableGuis = [];\nvar GUI = function GUI( pars ) {\n\n\tvar _this = this;\n\tvar params = pars || {};\n\tthis.domElement = document.createElement( 'div' );\n\tthis.__ul = document.createElement( 'ul' );\n\tthis.domElement.appendChild( this.__ul );\n\tdom.addClass( this.domElement, CSS_NAMESPACE );\n\tthis.__folders = {};\n\tthis.__controllers = [];\n\tthis.__rememberedObjects = [];\n\tthis.__rememberedObjectIndecesToControllers = [];\n\tthis.__listening = [];\n\tparams = Common.defaults( params, {\n\t\tcloseOnTop: false,\n\t\tautoPlace: true,\n\t\twidth: GUI.DEFAULT_WIDTH\n\t} );\n\tparams = Common.defaults( params, {\n\t\tresizable: params.autoPlace,\n\t\thideable: params.autoPlace\n\t} );\n\tif ( ! Common.isUndefined( params.load ) ) {\n\n\t\tif ( params.preset ) {\n\n\t\t\tparams.load.preset = params.preset;\n\n\t\t}\n\n\t} else {\n\n\t\tparams.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\n\t}\n\tif ( Common.isUndefined( params.parent ) && params.hideable ) {\n\n\t\thideableGuis.push( this );\n\n\t}\n\tparams.resizable = Common.isUndefined( params.parent ) && params.resizable;\n\tif ( params.autoPlace && Common.isUndefined( params.scrollable ) ) {\n\n\t\tparams.scrollable = true;\n\n\t}\n\tvar useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( this, 'isLocal' ) ) === 'true';\n\tvar saveToLocalStorage = void 0;\n\tvar titleRow = void 0;\n\tObject.defineProperties( this,\n\t\t{\n\t\t\tparent: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.parent;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tscrollable: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.scrollable;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tautoPlace: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.autoPlace;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcloseOnTop: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.closeOnTop;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tpreset: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\tif ( _this.parent ) {\n\n\t\t\t\t\t\treturn _this.getRoot().preset;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn params.load.preset;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tif ( _this.parent ) {\n\n\t\t\t\t\t\t_this.getRoot().preset = v;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tparams.load.preset = v;\n\n\t\t\t\t\t}\n\t\t\t\t\tsetPresetSelectIndex( this );\n\t\t\t\t\t_this.revert();\n\n\t\t\t\t}\n\t\t\t},\n\t\t\twidth: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.width;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.width = v;\n\t\t\t\t\tsetWidth( _this, v );\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tname: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.name;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.name = v;\n\t\t\t\t\tif ( titleRow ) {\n\n\t\t\t\t\t\ttitleRow.innerHTML = params.name;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tclosed: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.closed;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.closed = v;\n\t\t\t\t\tif ( params.closed ) {\n\n\t\t\t\t\t\tdom.addClass( _this.__ul, GUI.CLASS_CLOSED );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdom.removeClass( _this.__ul, GUI.CLASS_CLOSED );\n\n\t\t\t\t\t}\n\t\t\t\t\tthis.onResize();\n\t\t\t\t\tif ( _this.__closeButton ) {\n\n\t\t\t\t\t\t_this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tload: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.load;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tuseLocalStorage: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn useLocalStorage;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( bool ) {\n\n\t\t\t\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\t\t\t\t\tuseLocalStorage = bool;\n\t\t\t\t\t\tif ( bool ) {\n\n\t\t\t\t\t\t\tdom.bind( window, 'unload', saveToLocalStorage );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdom.unbind( window, 'unload', saveToLocalStorage );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'isLocal' ), bool );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\tif ( Common.isUndefined( params.parent ) ) {\n\n\t\tthis.closed = params.closed || false;\n\t\tdom.addClass( this.domElement, GUI.CLASS_MAIN );\n\t\tdom.makeSelectable( this.domElement, false );\n\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\t\tif ( useLocalStorage ) {\n\n\t\t\t\t_this.useLocalStorage = true;\n\t\t\t\tvar savedGui = localStorage.getItem( getLocalStorageHash( this, 'gui' ) );\n\t\t\t\tif ( savedGui ) {\n\n\t\t\t\t\tparams.load = JSON.parse( savedGui );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\tthis.__closeButton = document.createElement( 'div' );\n\t\tthis.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BUTTON );\n\t\tif ( params.closeOnTop ) {\n\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_TOP );\n\t\t\tthis.domElement.insertBefore( this.__closeButton, this.domElement.childNodes[ 0 ] );\n\n\t\t} else {\n\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BOTTOM );\n\t\t\tthis.domElement.appendChild( this.__closeButton );\n\n\t\t}\n\t\tdom.bind( this.__closeButton, 'click', function () {\n\n\t\t\t_this.closed = ! _this.closed;\n\n\t\t} );\n\n\t} else {\n\n\t\tif ( params.closed === undefined ) {\n\n\t\t\tparams.closed = true;\n\n\t\t}\n\t\tvar titleRowName = document.createTextNode( params.name );\n\t\tdom.addClass( titleRowName, 'controller-name' );\n\t\ttitleRow = addRow( _this, titleRowName );\n\t\tvar onClickTitle = function onClickTitle( e ) {\n\n\t\t\te.preventDefault();\n\t\t\t_this.closed = ! _this.closed;\n\t\t\treturn false;\n\n\t\t};\n\t\tdom.addClass( this.__ul, GUI.CLASS_CLOSED );\n\t\tdom.addClass( titleRow, 'title' );\n\t\tdom.bind( titleRow, 'click', onClickTitle );\n\t\tif ( ! params.closed ) {\n\n\t\t\tthis.closed = false;\n\n\t\t}\n\n\t}\n\tif ( params.autoPlace ) {\n\n\t\tif ( Common.isUndefined( params.parent ) ) {\n\n\t\t\tif ( autoPlaceVirgin ) {\n\n\t\t\t\tautoPlaceContainer = document.createElement( 'div' );\n\t\t\t\tdom.addClass( autoPlaceContainer, CSS_NAMESPACE );\n\t\t\t\tdom.addClass( autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER );\n\t\t\t\tdocument.body.appendChild( autoPlaceContainer );\n\t\t\t\tautoPlaceVirgin = false;\n\n\t\t\t}\n\t\t\tautoPlaceContainer.appendChild( this.domElement );\n\t\t\tdom.addClass( this.domElement, GUI.CLASS_AUTO_PLACE );\n\n\t\t}\n\t\tif ( ! this.parent ) {\n\n\t\t\tsetWidth( _this, params.width );\n\n\t\t}\n\n\t}\n\tthis.__resizeHandler = function () {\n\n\t\t_this.onResizeDebounced();\n\n\t};\n\tdom.bind( window, 'resize', this.__resizeHandler );\n\tdom.bind( this.__ul, 'webkitTransitionEnd', this.__resizeHandler );\n\tdom.bind( this.__ul, 'transitionend', this.__resizeHandler );\n\tdom.bind( this.__ul, 'oTransitionEnd', this.__resizeHandler );\n\tthis.onResize();\n\tif ( params.resizable ) {\n\n\t\taddResizeHandle( this );\n\n\t}\n\tsaveToLocalStorage = function saveToLocalStorage() {\n\n\t\tif ( SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( _this, 'isLocal' ) ) === 'true' ) {\n\n\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'gui' ), JSON.stringify( _this.getSaveObject() ) );\n\n\t\t}\n\n\t};\n\tthis.saveToLocalStorageIfPossible = saveToLocalStorage;\n\tfunction resetWidth() {\n\n\t\tvar root = _this.getRoot();\n\t\troot.width += 1;\n\t\tCommon.defer( function () {\n\n\t\t\troot.width -= 1;\n\n\t\t} );\n\n\t}\n\tif ( ! params.parent ) {\n\n\t\tresetWidth();\n\n\t}\n\n};\nGUI.toggleHide = function () {\n\n\thide = ! hide;\n\tCommon.each( hideableGuis, function ( gui ) {\n\n\t\tgui.domElement.style.display = hide ? 'none' : '';\n\n\t} );\n\n};\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\nGUI._keydownHandler = function ( e ) {\n\n\tif ( document.activeElement.type !== 'text' && ( e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE ) ) {\n\n\t\tGUI.toggleHide();\n\n\t}\n\n};\ndom.bind( window, 'keydown', GUI._keydownHandler, false );\nCommon.extend( GUI.prototype,\n\t{\n\t\tadd: function add( object, property ) {\n\n\t\t\treturn _add( this, object, property, {\n\t\t\t\tfactoryArgs: Array.prototype.slice.call( arguments, 2 )\n\t\t\t} );\n\n\t\t},\n\t\taddColor: function addColor( object, property ) {\n\n\t\t\treturn _add( this, object, property, {\n\t\t\t\tcolor: true\n\t\t\t} );\n\n\t\t},\n\t\tremove: function remove( controller ) {\n\n\t\t\tthis.__ul.removeChild( controller.__li );\n\t\t\tthis.__controllers.splice( this.__controllers.indexOf( controller ), 1 );\n\t\t\tvar _this = this;\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.onResize();\n\n\t\t\t} );\n\n\t\t},\n\t\tdestroy: function destroy() {\n\n\t\t\tif ( this.parent ) {\n\n\t\t\t\tthrow new Error( 'Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.' );\n\n\t\t\t}\n\t\t\tif ( this.autoPlace ) {\n\n\t\t\t\tautoPlaceContainer.removeChild( this.domElement );\n\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tCommon.each( this.__folders, function ( subfolder ) {\n\n\t\t\t\t_this.removeFolder( subfolder );\n\n\t\t\t} );\n\t\t\tdom.unbind( window, 'keydown', GUI._keydownHandler, false );\n\t\t\tremoveListeners( this );\n\n\t\t},\n\t\taddFolder: function addFolder( name ) {\n\n\t\t\tif ( this.__folders[ name ] !== undefined ) {\n\n\t\t\t\tthrow new Error( 'You already have a folder in this GUI by the' + ' name \"' + name + '\"' );\n\n\t\t\t}\n\t\t\tvar newGuiParams = { name: name, parent: this };\n\t\t\tnewGuiParams.autoPlace = this.autoPlace;\n\t\t\tif ( this.load &&\n    this.load.folders &&\n    this.load.folders[ name ] ) {\n\n\t\t\t\tnewGuiParams.closed = this.load.folders[ name ].closed;\n\t\t\t\tnewGuiParams.load = this.load.folders[ name ];\n\n\t\t\t}\n\t\t\tvar gui = new GUI( newGuiParams );\n\t\t\tthis.__folders[ name ] = gui;\n\t\t\tvar li = addRow( this, gui.domElement );\n\t\t\tdom.addClass( li, 'folder' );\n\t\t\treturn gui;\n\n\t\t},\n\t\tremoveFolder: function removeFolder( folder ) {\n\n\t\t\tthis.__ul.removeChild( folder.domElement.parentElement );\n\t\t\tdelete this.__folders[ folder.name ];\n\t\t\tif ( this.load &&\n    this.load.folders &&\n    this.load.folders[ folder.name ] ) {\n\n\t\t\t\tdelete this.load.folders[ folder.name ];\n\n\t\t\t}\n\t\t\tremoveListeners( folder );\n\t\t\tvar _this = this;\n\t\t\tCommon.each( folder.__folders, function ( subfolder ) {\n\n\t\t\t\tfolder.removeFolder( subfolder );\n\n\t\t\t} );\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.onResize();\n\n\t\t\t} );\n\n\t\t},\n\t\topen: function open() {\n\n\t\t\tthis.closed = false;\n\n\t\t},\n\t\tclose: function close() {\n\n\t\t\tthis.closed = true;\n\n\t\t},\n\t\thide: function hide() {\n\n\t\t\tthis.domElement.style.display = 'none';\n\n\t\t},\n\t\tshow: function show() {\n\n\t\t\tthis.domElement.style.display = '';\n\n\t\t},\n\t\tonResize: function onResize() {\n\n\t\t\tvar root = this.getRoot();\n\t\t\tif ( root.scrollable ) {\n\n\t\t\t\tvar top = dom.getOffset( root.__ul ).top;\n\t\t\t\tvar h = 0;\n\t\t\t\tCommon.each( root.__ul.childNodes, function ( node ) {\n\n\t\t\t\t\tif ( ! ( root.autoPlace && node === root.__save_row ) ) {\n\n\t\t\t\t\t\th += dom.getHeight( node );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tif ( window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h ) {\n\n\t\t\t\t\tdom.addClass( root.domElement, GUI.CLASS_TOO_TALL );\n\t\t\t\t\troot.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdom.removeClass( root.domElement, GUI.CLASS_TOO_TALL );\n\t\t\t\t\troot.__ul.style.height = 'auto';\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif ( root.__resize_handle ) {\n\n\t\t\t\tCommon.defer( function () {\n\n\t\t\t\t\troot.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n\n\t\t\t\t} );\n\n\t\t\t}\n\t\t\tif ( root.__closeButton ) {\n\n\t\t\t\troot.__closeButton.style.width = root.width + 'px';\n\n\t\t\t}\n\n\t\t},\n\t\tonResizeDebounced: Common.debounce( function () {\n\n\t\t\tthis.onResize();\n\n\t\t}, 50 ),\n\t\tremember: function remember() {\n\n\t\t\tif ( Common.isUndefined( SAVE_DIALOGUE ) ) {\n\n\t\t\t\tSAVE_DIALOGUE = new CenteredDiv();\n\t\t\t\tSAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\n\n\t\t\t}\n\t\t\tif ( this.parent ) {\n\n\t\t\t\tthrow new Error( 'You can only call remember on a top level GUI.' );\n\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tCommon.each( Array.prototype.slice.call( arguments ), function ( object ) {\n\n\t\t\t\tif ( _this.__rememberedObjects.length === 0 ) {\n\n\t\t\t\t\taddSaveMenu( _this );\n\n\t\t\t\t}\n\t\t\t\tif ( _this.__rememberedObjects.indexOf( object ) === - 1 ) {\n\n\t\t\t\t\t_this.__rememberedObjects.push( object );\n\n\t\t\t\t}\n\n\t\t\t} );\n\t\t\tif ( this.autoPlace ) {\n\n\t\t\t\tsetWidth( this, this.width );\n\n\t\t\t}\n\n\t\t},\n\t\tgetRoot: function getRoot() {\n\n\t\t\tvar gui = this;\n\t\t\twhile ( gui.parent ) {\n\n\t\t\t\tgui = gui.parent;\n\n\t\t\t}\n\t\t\treturn gui;\n\n\t\t},\n\t\tgetSaveObject: function getSaveObject() {\n\n\t\t\tvar toReturn = this.load;\n\t\t\ttoReturn.closed = this.closed;\n\t\t\tif ( this.__rememberedObjects.length > 0 ) {\n\n\t\t\t\ttoReturn.preset = this.preset;\n\t\t\t\tif ( ! toReturn.remembered ) {\n\n\t\t\t\t\ttoReturn.remembered = {};\n\n\t\t\t\t}\n\t\t\t\ttoReturn.remembered[ this.preset ] = getCurrentPreset( this );\n\n\t\t\t}\n\t\t\ttoReturn.folders = {};\n\t\t\tCommon.each( this.__folders, function ( element, key ) {\n\n\t\t\t\ttoReturn.folders[ key ] = element.getSaveObject();\n\n\t\t\t} );\n\t\t\treturn toReturn;\n\n\t\t},\n\t\tsave: function save() {\n\n\t\t\tif ( ! this.load.remembered ) {\n\n\t\t\t\tthis.load.remembered = {};\n\n\t\t\t}\n\t\t\tthis.load.remembered[ this.preset ] = getCurrentPreset( this );\n\t\t\tmarkPresetModified( this, false );\n\t\t\tthis.saveToLocalStorageIfPossible();\n\n\t\t},\n\t\tsaveAs: function saveAs( presetName ) {\n\n\t\t\tif ( ! this.load.remembered ) {\n\n\t\t\t\tthis.load.remembered = {};\n\t\t\t\tthis.load.remembered[ DEFAULT_DEFAULT_PRESET_NAME ] = getCurrentPreset( this, true );\n\n\t\t\t}\n\t\t\tthis.load.remembered[ presetName ] = getCurrentPreset( this );\n\t\t\tthis.preset = presetName;\n\t\t\taddPresetOption( this, presetName, true );\n\t\t\tthis.saveToLocalStorageIfPossible();\n\n\t\t},\n\t\trevert: function revert( gui ) {\n\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\n\n\t\t\t\tif ( ! this.getRoot().load.remembered ) {\n\n\t\t\t\t\tcontroller.setValue( controller.initialValue );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trecallSavedValue( gui || this.getRoot(), controller );\n\n\t\t\t\t}\n\t\t\t\tif ( controller.__onFinishChange ) {\n\n\t\t\t\t\tcontroller.__onFinishChange.call( controller, controller.getValue() );\n\n\t\t\t\t}\n\n\t\t\t}, this );\n\t\t\tCommon.each( this.__folders, function ( folder ) {\n\n\t\t\t\tfolder.revert( folder );\n\n\t\t\t} );\n\t\t\tif ( ! gui ) {\n\n\t\t\t\tmarkPresetModified( this.getRoot(), false );\n\n\t\t\t}\n\n\t\t},\n\t\tlisten: function listen( controller ) {\n\n\t\t\tvar init = this.__listening.length === 0;\n\t\t\tthis.__listening.push( controller );\n\t\t\tif ( init ) {\n\n\t\t\t\tupdateDisplays( this.__listening );\n\n\t\t\t}\n\n\t\t},\n\t\tupdateDisplay: function updateDisplay() {\n\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\n\n\t\t\t\tcontroller.updateDisplay();\n\n\t\t\t} );\n\t\t\tCommon.each( this.__folders, function ( folder ) {\n\n\t\t\t\tfolder.updateDisplay();\n\n\t\t\t} );\n\n\t\t}\n\t} );\nfunction addRow( gui, newDom, liBefore ) {\n\n\tvar li = document.createElement( 'li' );\n\tif ( newDom ) {\n\n\t\tli.appendChild( newDom );\n\n\t}\n\tif ( liBefore ) {\n\n\t\tgui.__ul.insertBefore( li, liBefore );\n\n\t} else {\n\n\t\tgui.__ul.appendChild( li );\n\n\t}\n\tgui.onResize();\n\treturn li;\n\n}\nfunction removeListeners( gui ) {\n\n\tdom.unbind( window, 'resize', gui.__resizeHandler );\n\tif ( gui.saveToLocalStorageIfPossible ) {\n\n\t\tdom.unbind( window, 'unload', gui.saveToLocalStorageIfPossible );\n\n\t}\n\n}\nfunction markPresetModified( gui, modified ) {\n\n\tvar opt = gui.__preset_select[ gui.__preset_select.selectedIndex ];\n\tif ( modified ) {\n\n\t\topt.innerHTML = opt.value + '*';\n\n\t} else {\n\n\t\topt.innerHTML = opt.value;\n\n\t}\n\n}\nfunction augmentController( gui, li, controller ) {\n\n\tcontroller.__li = li;\n\tcontroller.__gui = gui;\n\tCommon.extend( controller, {\n\t\toptions: function options( _options ) {\n\n\t\t\tif ( arguments.length > 1 ) {\n\n\t\t\t\tvar nextSibling = controller.__li.nextElementSibling;\n\t\t\t\tcontroller.remove();\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: nextSibling,\n\t\t\t\t\tfactoryArgs: [ Common.toArray( arguments ) ]\n\t\t\t\t} );\n\n\t\t\t}\n\t\t\tif ( Common.isArray( _options ) || Common.isObject( _options ) ) {\n\n\t\t\t\tvar _nextSibling = controller.__li.nextElementSibling;\n\t\t\t\tcontroller.remove();\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: _nextSibling,\n\t\t\t\t\tfactoryArgs: [ _options ]\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\t\tname: function name( _name ) {\n\n\t\t\tcontroller.__li.firstElementChild.firstElementChild.innerHTML = _name;\n\t\t\treturn controller;\n\n\t\t},\n\t\tlisten: function listen() {\n\n\t\t\tcontroller.__gui.listen( controller );\n\t\t\treturn controller;\n\n\t\t},\n\t\tremove: function remove() {\n\n\t\t\tcontroller.__gui.remove( controller );\n\t\t\treturn controller;\n\n\t\t}\n\t} );\n\tif ( controller instanceof NumberControllerSlider ) {\n\n\t\tvar box = new NumberControllerBox( controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step } );\n\t\tCommon.each( [ 'updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max' ], function ( method ) {\n\n\t\t\tvar pc = controller[ method ];\n\t\t\tvar pb = box[ method ];\n\t\t\tcontroller[ method ] = box[ method ] = function () {\n\n\t\t\t\tvar args = Array.prototype.slice.call( arguments );\n\t\t\t\tpb.apply( box, args );\n\t\t\t\treturn pc.apply( controller, args );\n\n\t\t\t};\n\n\t\t} );\n\t\tdom.addClass( li, 'has-slider' );\n\t\tcontroller.domElement.insertBefore( box.domElement, controller.domElement.firstElementChild );\n\n\t} else if ( controller instanceof NumberControllerBox ) {\n\n\t\tvar r = function r( returned ) {\n\n\t\t\tif ( Common.isNumber( controller.__min ) && Common.isNumber( controller.__max ) ) {\n\n\t\t\t\tvar oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n\t\t\t\tvar wasListening = controller.__gui.__listening.indexOf( controller ) > - 1;\n\t\t\t\tcontroller.remove();\n\t\t\t\tvar newController = _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: controller.__li.nextElementSibling,\n\t\t\t\t\tfactoryArgs: [ controller.__min, controller.__max, controller.__step ]\n\t\t\t\t} );\n\t\t\t\tnewController.name( oldName );\n\t\t\t\tif ( wasListening ) newController.listen();\n\t\t\t\treturn newController;\n\n\t\t\t}\n\t\t\treturn returned;\n\n\t\t};\n\t\tcontroller.min = Common.compose( r, controller.min );\n\t\tcontroller.max = Common.compose( r, controller.max );\n\n\t} else if ( controller instanceof BooleanController ) {\n\n\t\tdom.bind( li, 'click', function () {\n\n\t\t\tdom.fakeEvent( controller.__checkbox, 'click' );\n\n\t\t} );\n\t\tdom.bind( controller.__checkbox, 'click', function ( e ) {\n\n\t\t\te.stopPropagation();\n\n\t\t} );\n\n\t} else if ( controller instanceof FunctionController ) {\n\n\t\tdom.bind( li, 'click', function () {\n\n\t\t\tdom.fakeEvent( controller.__button, 'click' );\n\n\t\t} );\n\t\tdom.bind( li, 'mouseover', function () {\n\n\t\t\tdom.addClass( controller.__button, 'hover' );\n\n\t\t} );\n\t\tdom.bind( li, 'mouseout', function () {\n\n\t\t\tdom.removeClass( controller.__button, 'hover' );\n\n\t\t} );\n\n\t} else if ( controller instanceof ColorController ) {\n\n\t\tdom.addClass( li, 'color' );\n\t\tcontroller.updateDisplay = Common.compose( function ( val ) {\n\n\t\t\tli.style.borderLeftColor = controller.__color.toString();\n\t\t\treturn val;\n\n\t\t}, controller.updateDisplay );\n\t\tcontroller.updateDisplay();\n\n\t}\n\tcontroller.setValue = Common.compose( function ( val ) {\n\n\t\tif ( gui.getRoot().__preset_select && controller.isModified() ) {\n\n\t\t\tmarkPresetModified( gui.getRoot(), true );\n\n\t\t}\n\t\treturn val;\n\n\t}, controller.setValue );\n\n}\nfunction recallSavedValue( gui, controller ) {\n\n\tvar root = gui.getRoot();\n\tvar matchedIndex = root.__rememberedObjects.indexOf( controller.object );\n\tif ( matchedIndex !== - 1 ) {\n\n\t\tvar controllerMap = root.__rememberedObjectIndecesToControllers[ matchedIndex ];\n\t\tif ( controllerMap === undefined ) {\n\n\t\t\tcontrollerMap = {};\n\t\t\troot.__rememberedObjectIndecesToControllers[ matchedIndex ] = controllerMap;\n\n\t\t}\n\t\tcontrollerMap[ controller.property ] = controller;\n\t\tif ( root.load && root.load.remembered ) {\n\n\t\t\tvar presetMap = root.load.remembered;\n\t\t\tvar preset = void 0;\n\t\t\tif ( presetMap[ gui.preset ] ) {\n\n\t\t\t\tpreset = presetMap[ gui.preset ];\n\n\t\t\t} else if ( presetMap[ DEFAULT_DEFAULT_PRESET_NAME ] ) {\n\n\t\t\t\tpreset = presetMap[ DEFAULT_DEFAULT_PRESET_NAME ];\n\n\t\t\t} else {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif ( preset[ matchedIndex ] && preset[ matchedIndex ][ controller.property ] !== undefined ) {\n\n\t\t\t\tvar value = preset[ matchedIndex ][ controller.property ];\n\t\t\t\tcontroller.initialValue = value;\n\t\t\t\tcontroller.setValue( value );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\nfunction _add( gui, object, property, params ) {\n\n\tif ( object[ property ] === undefined ) {\n\n\t\tthrow new Error( 'Object \"' + object + '\" has no property \"' + property + '\"' );\n\n\t}\n\tvar controller = void 0;\n\tif ( params.color ) {\n\n\t\tcontroller = new ColorController( object, property );\n\n\t} else {\n\n\t\tvar factoryArgs = [ object, property ].concat( params.factoryArgs );\n\t\tcontroller = ControllerFactory.apply( gui, factoryArgs );\n\n\t}\n\tif ( params.before instanceof Controller ) {\n\n\t\tparams.before = params.before.__li;\n\n\t}\n\trecallSavedValue( gui, controller );\n\tdom.addClass( controller.domElement, 'c' );\n\tvar name = document.createElement( 'span' );\n\tdom.addClass( name, 'property-name' );\n\tname.innerHTML = controller.property;\n\tvar container = document.createElement( 'div' );\n\tcontainer.appendChild( name );\n\tcontainer.appendChild( controller.domElement );\n\tvar li = addRow( gui, container, params.before );\n\tdom.addClass( li, GUI.CLASS_CONTROLLER_ROW );\n\tif ( controller instanceof ColorController ) {\n\n\t\tdom.addClass( li, 'color' );\n\n\t} else {\n\n\t\tdom.addClass( li, _typeof( controller.getValue() ) );\n\n\t}\n\taugmentController( gui, li, controller );\n\tgui.__controllers.push( controller );\n\treturn controller;\n\n}\nfunction getLocalStorageHash( gui, key ) {\n\n\treturn document.location.href + '.' + key;\n\n}\nfunction addPresetOption( gui, name, setSelected ) {\n\n\tvar opt = document.createElement( 'option' );\n\topt.innerHTML = name;\n\topt.value = name;\n\tgui.__preset_select.appendChild( opt );\n\tif ( setSelected ) {\n\n\t\tgui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n\n\t}\n\n}\nfunction showHideExplain( gui, explain ) {\n\n\texplain.style.display = gui.useLocalStorage ? 'block' : 'none';\n\n}\nfunction addSaveMenu( gui ) {\n\n\tvar div = gui.__save_row = document.createElement( 'li' );\n\tdom.addClass( gui.domElement, 'has-save' );\n\tgui.__ul.insertBefore( div, gui.__ul.firstChild );\n\tdom.addClass( div, 'save-row' );\n\tvar gears = document.createElement( 'span' );\n\tgears.innerHTML = '&nbsp;';\n\tdom.addClass( gears, 'button gears' );\n\tvar button = document.createElement( 'span' );\n\tbutton.innerHTML = 'Save';\n\tdom.addClass( button, 'button' );\n\tdom.addClass( button, 'save' );\n\tvar button2 = document.createElement( 'span' );\n\tbutton2.innerHTML = 'New';\n\tdom.addClass( button2, 'button' );\n\tdom.addClass( button2, 'save-as' );\n\tvar button3 = document.createElement( 'span' );\n\tbutton3.innerHTML = 'Revert';\n\tdom.addClass( button3, 'button' );\n\tdom.addClass( button3, 'revert' );\n\tvar select = gui.__preset_select = document.createElement( 'select' );\n\tif ( gui.load && gui.load.remembered ) {\n\n\t\tCommon.each( gui.load.remembered, function ( value, key ) {\n\n\t\t\taddPresetOption( gui, key, key === gui.preset );\n\n\t\t} );\n\n\t} else {\n\n\t\taddPresetOption( gui, DEFAULT_DEFAULT_PRESET_NAME, false );\n\n\t}\n\tdom.bind( select, 'change', function () {\n\n\t\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\n\n\t\t\tgui.__preset_select[ index ].innerHTML = gui.__preset_select[ index ].value;\n\n\t\t}\n\t\tgui.preset = this.value;\n\n\t} );\n\tdiv.appendChild( select );\n\tdiv.appendChild( gears );\n\tdiv.appendChild( button );\n\tdiv.appendChild( button2 );\n\tdiv.appendChild( button3 );\n\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\tvar explain = document.getElementById( 'dg-local-explain' );\n\t\tvar localStorageCheckBox = document.getElementById( 'dg-local-storage' );\n\t\tvar saveLocally = document.getElementById( 'dg-save-locally' );\n\t\tsaveLocally.style.display = 'block';\n\t\tif ( localStorage.getItem( getLocalStorageHash( gui, 'isLocal' ) ) === 'true' ) {\n\n\t\t\tlocalStorageCheckBox.setAttribute( 'checked', 'checked' );\n\n\t\t}\n\t\tshowHideExplain( gui, explain );\n\t\tdom.bind( localStorageCheckBox, 'change', function () {\n\n\t\t\tgui.useLocalStorage = ! gui.useLocalStorage;\n\t\t\tshowHideExplain( gui, explain );\n\n\t\t} );\n\n\t}\n\tvar newConstructorTextArea = document.getElementById( 'dg-new-constructor' );\n\tdom.bind( newConstructorTextArea, 'keydown', function ( e ) {\n\n\t\tif ( e.metaKey && ( e.which === 67 || e.keyCode === 67 ) ) {\n\n\t\t\tSAVE_DIALOGUE.hide();\n\n\t\t}\n\n\t} );\n\tdom.bind( gears, 'click', function () {\n\n\t\tnewConstructorTextArea.innerHTML = JSON.stringify( gui.getSaveObject(), undefined, 2 );\n\t\tSAVE_DIALOGUE.show();\n\t\tnewConstructorTextArea.focus();\n\t\tnewConstructorTextArea.select();\n\n\t} );\n\tdom.bind( button, 'click', function () {\n\n\t\tgui.save();\n\n\t} );\n\tdom.bind( button2, 'click', function () {\n\n\t\tvar presetName = prompt( 'Enter a new preset name.' );\n\t\tif ( presetName ) {\n\n\t\t\tgui.saveAs( presetName );\n\n\t\t}\n\n\t} );\n\tdom.bind( button3, 'click', function () {\n\n\t\tgui.revert();\n\n\t} );\n\n}\nfunction addResizeHandle( gui ) {\n\n\tvar pmouseX = void 0;\n\tgui.__resize_handle = document.createElement( 'div' );\n\tCommon.extend( gui.__resize_handle.style, {\n\t\twidth: '6px',\n\t\tmarginLeft: '-3px',\n\t\theight: '200px',\n\t\tcursor: 'ew-resize',\n\t\tposition: 'absolute'\n\t} );\n\tfunction drag( e ) {\n\n\t\te.preventDefault();\n\t\tgui.width += pmouseX - e.clientX;\n\t\tgui.onResize();\n\t\tpmouseX = e.clientX;\n\t\treturn false;\n\n\t}\n\tfunction dragStop() {\n\n\t\tdom.removeClass( gui.__closeButton, GUI.CLASS_DRAG );\n\t\tdom.unbind( window, 'mousemove', drag );\n\t\tdom.unbind( window, 'mouseup', dragStop );\n\n\t}\n\tfunction dragStart( e ) {\n\n\t\te.preventDefault();\n\t\tpmouseX = e.clientX;\n\t\tdom.addClass( gui.__closeButton, GUI.CLASS_DRAG );\n\t\tdom.bind( window, 'mousemove', drag );\n\t\tdom.bind( window, 'mouseup', dragStop );\n\t\treturn false;\n\n\t}\n\tdom.bind( gui.__resize_handle, 'mousedown', dragStart );\n\tdom.bind( gui.__closeButton, 'mousedown', dragStart );\n\tgui.domElement.insertBefore( gui.__resize_handle, gui.domElement.firstElementChild );\n\n}\nfunction setWidth( gui, w ) {\n\n\tgui.domElement.style.width = w + 'px';\n\tif ( gui.__save_row && gui.autoPlace ) {\n\n\t\tgui.__save_row.style.width = w + 'px';\n\n\t}\n\tif ( gui.__closeButton ) {\n\n\t\tgui.__closeButton.style.width = w + 'px';\n\n\t}\n\n}\nfunction getCurrentPreset( gui, useInitialValues ) {\n\n\tvar toReturn = {};\n\tCommon.each( gui.__rememberedObjects, function ( val, index ) {\n\n\t\tvar savedValues = {};\n\t\tvar controllerMap = gui.__rememberedObjectIndecesToControllers[ index ];\n\t\tCommon.each( controllerMap, function ( controller, property ) {\n\n\t\t\tsavedValues[ property ] = useInitialValues ? controller.initialValue : controller.getValue();\n\n\t\t} );\n\t\ttoReturn[ index ] = savedValues;\n\n\t} );\n\treturn toReturn;\n\n}\nfunction setPresetSelectIndex( gui ) {\n\n\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\n\n\t\tif ( gui.__preset_select[ index ].value === gui.preset ) {\n\n\t\t\tgui.__preset_select.selectedIndex = index;\n\n\t\t}\n\n\t}\n\n}\nfunction updateDisplays( controllerArray ) {\n\n\tif ( controllerArray.length !== 0 ) {\n\n\t\trequestAnimationFrame$1.call( window, function () {\n\n\t\t\tupdateDisplays( controllerArray );\n\n\t\t} );\n\n\t}\n\tCommon.each( controllerArray, function ( c ) {\n\n\t\tc.updateDisplay();\n\n\t} );\n\n}\n\nvar color = {\n\tColor: Color,\n\tmath: ColorMath,\n\tinterpret: interpret\n};\nvar controllers = {\n\tController: Controller,\n\tBooleanController: BooleanController,\n\tOptionController: OptionController,\n\tStringController: StringController,\n\tNumberController: NumberController,\n\tNumberControllerBox: NumberControllerBox,\n\tNumberControllerSlider: NumberControllerSlider,\n\tFunctionController: FunctionController,\n\tColorController: ColorController\n};\nvar dom$1 = { dom: dom };\nvar gui = { GUI: GUI };\nvar GUI$1 = GUI;\nvar index = {\n\tcolor: color,\n\tcontrollers: controllers,\n\tdom: dom$1,\n\tgui: gui,\n\tGUI: GUI$1\n};\n\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\nexport default index;\n"]}