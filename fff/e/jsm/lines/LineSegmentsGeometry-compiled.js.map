{"version":3,"sources":["LineSegmentsGeometry.js"],"names":[],"mappings":"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","file":"LineSegmentsGeometry-compiled.js","sourcesContent":["/**\n * @author WestLangley / http://github.com/WestLangley\n *\n */\n\nimport {\n\tBox3,\n\tFloat32BufferAttribute,\n\tInstancedBufferGeometry,\n\tInstancedInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tSphere,\n\tVector3,\n\tWireframeGeometry\n} from \"../../../build/three.module.js\";\n\nvar LineSegmentsGeometry = function () {\n\n\tInstancedBufferGeometry.call( this );\n\n\tthis.type = 'LineSegmentsGeometry';\n\n\tvar positions = [ - 1, 2, 0, 1, 2, 0, - 1, 1, 0, 1, 1, 0, - 1, 0, 0, 1, 0, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\tvar uvs = [ - 1, 2, 1, 2, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 2, 1, - 2 ];\n\tvar index = [ 0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5 ];\n\n\tthis.setIndex( index );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n};\n\nLineSegmentsGeometry.prototype = Object.assign( Object.create( InstancedBufferGeometry.prototype ), {\n\n\tconstructor: LineSegmentsGeometry,\n\n\tisLineSegmentsGeometry: true,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar start = this.attributes.instanceStart;\n\t\tvar end = this.attributes.instanceEnd;\n\n\t\tif ( start !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( start );\n\n\t\t\tmatrix.applyToBufferAttribute( end );\n\n\t\t\tstart.data.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetPositions: function ( array ) {\n\n\t\tvar lineSegments;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\tlineSegments = array;\n\n\t\t} else if ( Array.isArray( array ) ) {\n\n\t\t\tlineSegments = new Float32Array( array );\n\n\t\t}\n\n\t\tvar instanceBuffer = new InstancedInterleavedBuffer( lineSegments, 6, 1 ); // xyz, xyz\n\n\t\tthis.setAttribute( 'instanceStart', new InterleavedBufferAttribute( instanceBuffer, 3, 0 ) ); // xyz\n\t\tthis.setAttribute( 'instanceEnd', new InterleavedBufferAttribute( instanceBuffer, 3, 3 ) ); // xyz\n\n\t\t//\n\n\t\tthis.computeBoundingBox();\n\t\tthis.computeBoundingSphere();\n\n\t\treturn this;\n\n\t},\n\n\tsetColors: function ( array ) {\n\n\t\tvar colors;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\tcolors = array;\n\n\t\t} else if ( Array.isArray( array ) ) {\n\n\t\t\tcolors = new Float32Array( array );\n\n\t\t}\n\n\t\tvar instanceColorBuffer = new InstancedInterleavedBuffer( colors, 6, 1 ); // rgb, rgb\n\n\t\tthis.setAttribute( 'instanceColorStart', new InterleavedBufferAttribute( instanceColorBuffer, 3, 0 ) ); // rgb\n\t\tthis.setAttribute( 'instanceColorEnd', new InterleavedBufferAttribute( instanceColorBuffer, 3, 3 ) ); // rgb\n\n\t\treturn this;\n\n\t},\n\n\tfromWireframeGeometry: function ( geometry ) {\n\n\t\tthis.setPositions( geometry.attributes.position.array );\n\n\t\treturn this;\n\n\t},\n\n\tfromEdgesGeometry: function ( geometry ) {\n\n\t\tthis.setPositions( geometry.attributes.position.array );\n\n\t\treturn this;\n\n\t},\n\n\tfromMesh: function ( mesh ) {\n\n\t\tthis.fromWireframeGeometry( new WireframeGeometry( mesh.geometry ) );\n\n\t\t// set colors, maybe\n\n\t\treturn this;\n\n\t},\n\n\tfromLineSegements: function ( lineSegments ) {\n\n\t\tvar geometry = lineSegments.geometry;\n\n\t\tif ( geometry.isGeometry ) {\n\n\t\t\tthis.setPositions( geometry.vertices );\n\n\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\tthis.setPositions( geometry.position.array ); // assumes non-indexed\n\n\t\t}\n\n\t\t// set colors, maybe\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function computeBoundingBox() {\n\n\t\t\tif ( this.boundingBox === null ) {\n\n\t\t\t\tthis.boundingBox = new Box3();\n\n\t\t\t}\n\n\t\t\tvar start = this.attributes.instanceStart;\n\t\t\tvar end = this.attributes.instanceEnd;\n\n\t\t\tif ( start !== undefined && end !== undefined ) {\n\n\t\t\t\tthis.boundingBox.setFromBufferAttribute( start );\n\n\t\t\t\tbox.setFromBufferAttribute( end );\n\n\t\t\t\tthis.boundingBox.union( box );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar vector = new Vector3();\n\n\t\treturn function computeBoundingSphere() {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t\t}\n\n\t\t\tif ( this.boundingBox === null ) {\n\n\t\t\t\tthis.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\tvar start = this.attributes.instanceStart;\n\t\t\tvar end = this.attributes.instanceEnd;\n\n\t\t\tif ( start !== undefined && end !== undefined ) {\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tthis.boundingBox.getCenter( center );\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = start.count; i < il; i ++ ) {\n\n\t\t\t\t\tvector.fromBufferAttribute( start, i );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t\tvector.fromBufferAttribute( end, i );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.', this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoJSON: function () {\n\n\t\t// todo\n\n\t}\n\n} );\n\nexport { LineSegmentsGeometry };\n"]}