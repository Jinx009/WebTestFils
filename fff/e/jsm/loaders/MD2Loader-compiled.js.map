{"version":3,"sources":["MD2Loader.js"],"names":[],"mappings":"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","file":"MD2Loader-compiled.js","sourcesContent":["/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport {\n\tAnimationClip,\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tLoader,\n\tVector3\n} from \"../../../build/three.module.js\";\n\nvar MD2Loader = function ( manager ) {\n\n\tLoader.call( this, manager );\n\n};\n\nMD2Loader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MD2Loader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tonLoad( scope.parse( buffer ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: ( function () {\n\n\t\tvar normalData = [\n\t\t\t[ - 0.525731, 0.000000, 0.850651 ], [ - 0.442863, 0.238856, 0.864188 ],\n\t\t\t[ - 0.295242, 0.000000, 0.955423 ], [ - 0.309017, 0.500000, 0.809017 ],\n\t\t\t[ - 0.162460, 0.262866, 0.951056 ], [ 0.000000, 0.000000, 1.000000 ],\n\t\t\t[ 0.000000, 0.850651, 0.525731 ], [ - 0.147621, 0.716567, 0.681718 ],\n\t\t\t[ 0.147621, 0.716567, 0.681718 ], [ 0.000000, 0.525731, 0.850651 ],\n\t\t\t[ 0.309017, 0.500000, 0.809017 ], [ 0.525731, 0.000000, 0.850651 ],\n\t\t\t[ 0.295242, 0.000000, 0.955423 ], [ 0.442863, 0.238856, 0.864188 ],\n\t\t\t[ 0.162460, 0.262866, 0.951056 ], [ - 0.681718, 0.147621, 0.716567 ],\n\t\t\t[ - 0.809017, 0.309017, 0.500000 ], [ - 0.587785, 0.425325, 0.688191 ],\n\t\t\t[ - 0.850651, 0.525731, 0.000000 ], [ - 0.864188, 0.442863, 0.238856 ],\n\t\t\t[ - 0.716567, 0.681718, 0.147621 ], [ - 0.688191, 0.587785, 0.425325 ],\n\t\t\t[ - 0.500000, 0.809017, 0.309017 ], [ - 0.238856, 0.864188, 0.442863 ],\n\t\t\t[ - 0.425325, 0.688191, 0.587785 ], [ - 0.716567, 0.681718, - 0.147621 ],\n\t\t\t[ - 0.500000, 0.809017, - 0.309017 ], [ - 0.525731, 0.850651, 0.000000 ],\n\t\t\t[ 0.000000, 0.850651, - 0.525731 ], [ - 0.238856, 0.864188, - 0.442863 ],\n\t\t\t[ 0.000000, 0.955423, - 0.295242 ], [ - 0.262866, 0.951056, - 0.162460 ],\n\t\t\t[ 0.000000, 1.000000, 0.000000 ], [ 0.000000, 0.955423, 0.295242 ],\n\t\t\t[ - 0.262866, 0.951056, 0.162460 ], [ 0.238856, 0.864188, 0.442863 ],\n\t\t\t[ 0.262866, 0.951056, 0.162460 ], [ 0.500000, 0.809017, 0.309017 ],\n\t\t\t[ 0.238856, 0.864188, - 0.442863 ], [ 0.262866, 0.951056, - 0.162460 ],\n\t\t\t[ 0.500000, 0.809017, - 0.309017 ], [ 0.850651, 0.525731, 0.000000 ],\n\t\t\t[ 0.716567, 0.681718, 0.147621 ], [ 0.716567, 0.681718, - 0.147621 ],\n\t\t\t[ 0.525731, 0.850651, 0.000000 ], [ 0.425325, 0.688191, 0.587785 ],\n\t\t\t[ 0.864188, 0.442863, 0.238856 ], [ 0.688191, 0.587785, 0.425325 ],\n\t\t\t[ 0.809017, 0.309017, 0.500000 ], [ 0.681718, 0.147621, 0.716567 ],\n\t\t\t[ 0.587785, 0.425325, 0.688191 ], [ 0.955423, 0.295242, 0.000000 ],\n\t\t\t[ 1.000000, 0.000000, 0.000000 ], [ 0.951056, 0.162460, 0.262866 ],\n\t\t\t[ 0.850651, - 0.525731, 0.000000 ], [ 0.955423, - 0.295242, 0.000000 ],\n\t\t\t[ 0.864188, - 0.442863, 0.238856 ], [ 0.951056, - 0.162460, 0.262866 ],\n\t\t\t[ 0.809017, - 0.309017, 0.500000 ], [ 0.681718, - 0.147621, 0.716567 ],\n\t\t\t[ 0.850651, 0.000000, 0.525731 ], [ 0.864188, 0.442863, - 0.238856 ],\n\t\t\t[ 0.809017, 0.309017, - 0.500000 ], [ 0.951056, 0.162460, - 0.262866 ],\n\t\t\t[ 0.525731, 0.000000, - 0.850651 ], [ 0.681718, 0.147621, - 0.716567 ],\n\t\t\t[ 0.681718, - 0.147621, - 0.716567 ], [ 0.850651, 0.000000, - 0.525731 ],\n\t\t\t[ 0.809017, - 0.309017, - 0.500000 ], [ 0.864188, - 0.442863, - 0.238856 ],\n\t\t\t[ 0.951056, - 0.162460, - 0.262866 ], [ 0.147621, 0.716567, - 0.681718 ],\n\t\t\t[ 0.309017, 0.500000, - 0.809017 ], [ 0.425325, 0.688191, - 0.587785 ],\n\t\t\t[ 0.442863, 0.238856, - 0.864188 ], [ 0.587785, 0.425325, - 0.688191 ],\n\t\t\t[ 0.688191, 0.587785, - 0.425325 ], [ - 0.147621, 0.716567, - 0.681718 ],\n\t\t\t[ - 0.309017, 0.500000, - 0.809017 ], [ 0.000000, 0.525731, - 0.850651 ],\n\t\t\t[ - 0.525731, 0.000000, - 0.850651 ], [ - 0.442863, 0.238856, - 0.864188 ],\n\t\t\t[ - 0.295242, 0.000000, - 0.955423 ], [ - 0.162460, 0.262866, - 0.951056 ],\n\t\t\t[ 0.000000, 0.000000, - 1.000000 ], [ 0.295242, 0.000000, - 0.955423 ],\n\t\t\t[ 0.162460, 0.262866, - 0.951056 ], [ - 0.442863, - 0.238856, - 0.864188 ],\n\t\t\t[ - 0.309017, - 0.500000, - 0.809017 ], [ - 0.162460, - 0.262866, - 0.951056 ],\n\t\t\t[ 0.000000, - 0.850651, - 0.525731 ], [ - 0.147621, - 0.716567, - 0.681718 ],\n\t\t\t[ 0.147621, - 0.716567, - 0.681718 ], [ 0.000000, - 0.525731, - 0.850651 ],\n\t\t\t[ 0.309017, - 0.500000, - 0.809017 ], [ 0.442863, - 0.238856, - 0.864188 ],\n\t\t\t[ 0.162460, - 0.262866, - 0.951056 ], [ 0.238856, - 0.864188, - 0.442863 ],\n\t\t\t[ 0.500000, - 0.809017, - 0.309017 ], [ 0.425325, - 0.688191, - 0.587785 ],\n\t\t\t[ 0.716567, - 0.681718, - 0.147621 ], [ 0.688191, - 0.587785, - 0.425325 ],\n\t\t\t[ 0.587785, - 0.425325, - 0.688191 ], [ 0.000000, - 0.955423, - 0.295242 ],\n\t\t\t[ 0.000000, - 1.000000, 0.000000 ], [ 0.262866, - 0.951056, - 0.162460 ],\n\t\t\t[ 0.000000, - 0.850651, 0.525731 ], [ 0.000000, - 0.955423, 0.295242 ],\n\t\t\t[ 0.238856, - 0.864188, 0.442863 ], [ 0.262866, - 0.951056, 0.162460 ],\n\t\t\t[ 0.500000, - 0.809017, 0.309017 ], [ 0.716567, - 0.681718, 0.147621 ],\n\t\t\t[ 0.525731, - 0.850651, 0.000000 ], [ - 0.238856, - 0.864188, - 0.442863 ],\n\t\t\t[ - 0.500000, - 0.809017, - 0.309017 ], [ - 0.262866, - 0.951056, - 0.162460 ],\n\t\t\t[ - 0.850651, - 0.525731, 0.000000 ], [ - 0.716567, - 0.681718, - 0.147621 ],\n\t\t\t[ - 0.716567, - 0.681718, 0.147621 ], [ - 0.525731, - 0.850651, 0.000000 ],\n\t\t\t[ - 0.500000, - 0.809017, 0.309017 ], [ - 0.238856, - 0.864188, 0.442863 ],\n\t\t\t[ - 0.262866, - 0.951056, 0.162460 ], [ - 0.864188, - 0.442863, 0.238856 ],\n\t\t\t[ - 0.809017, - 0.309017, 0.500000 ], [ - 0.688191, - 0.587785, 0.425325 ],\n\t\t\t[ - 0.681718, - 0.147621, 0.716567 ], [ - 0.442863, - 0.238856, 0.864188 ],\n\t\t\t[ - 0.587785, - 0.425325, 0.688191 ], [ - 0.309017, - 0.500000, 0.809017 ],\n\t\t\t[ - 0.147621, - 0.716567, 0.681718 ], [ - 0.425325, - 0.688191, 0.587785 ],\n\t\t\t[ - 0.162460, - 0.262866, 0.951056 ], [ 0.442863, - 0.238856, 0.864188 ],\n\t\t\t[ 0.162460, - 0.262866, 0.951056 ], [ 0.309017, - 0.500000, 0.809017 ],\n\t\t\t[ 0.147621, - 0.716567, 0.681718 ], [ 0.000000, - 0.525731, 0.850651 ],\n\t\t\t[ 0.425325, - 0.688191, 0.587785 ], [ 0.587785, - 0.425325, 0.688191 ],\n\t\t\t[ 0.688191, - 0.587785, 0.425325 ], [ - 0.955423, 0.295242, 0.000000 ],\n\t\t\t[ - 0.951056, 0.162460, 0.262866 ], [ - 1.000000, 0.000000, 0.000000 ],\n\t\t\t[ - 0.850651, 0.000000, 0.525731 ], [ - 0.955423, - 0.295242, 0.000000 ],\n\t\t\t[ - 0.951056, - 0.162460, 0.262866 ], [ - 0.864188, 0.442863, - 0.238856 ],\n\t\t\t[ - 0.951056, 0.162460, - 0.262866 ], [ - 0.809017, 0.309017, - 0.500000 ],\n\t\t\t[ - 0.864188, - 0.442863, - 0.238856 ], [ - 0.951056, - 0.162460, - 0.262866 ],\n\t\t\t[ - 0.809017, - 0.309017, - 0.500000 ], [ - 0.681718, 0.147621, - 0.716567 ],\n\t\t\t[ - 0.681718, - 0.147621, - 0.716567 ], [ - 0.850651, 0.000000, - 0.525731 ],\n\t\t\t[ - 0.688191, 0.587785, - 0.425325 ], [ - 0.587785, 0.425325, - 0.688191 ],\n\t\t\t[ - 0.425325, 0.688191, - 0.587785 ], [ - 0.425325, - 0.688191, - 0.587785 ],\n\t\t\t[ - 0.587785, - 0.425325, - 0.688191 ], [ - 0.688191, - 0.587785, - 0.425325 ]\n\t\t];\n\n\t\treturn function ( buffer ) {\n\n\t\t\tconsole.time( 'MD2Loader' );\n\n\t\t\tvar data = new DataView( buffer );\n\n\t\t\t// http://tfc.duke.free.fr/coding/md2-specs-en.html\n\n\t\t\tvar header = {};\n\t\t\tvar headerNames = [\n\t\t\t\t'ident', 'version',\n\t\t\t\t'skinwidth', 'skinheight',\n\t\t\t\t'framesize',\n\t\t\t\t'num_skins', 'num_vertices', 'num_st', 'num_tris', 'num_glcmds', 'num_frames',\n\t\t\t\t'offset_skins', 'offset_st', 'offset_tris', 'offset_frames', 'offset_glcmds', 'offset_end'\n\t\t\t];\n\n\t\t\tfor ( var i = 0; i < headerNames.length; i ++ ) {\n\n\t\t\t\theader[ headerNames[ i ] ] = data.getInt32( i * 4, true );\n\n\t\t\t}\n\n\t\t\tif ( header.ident !== 844121161 || header.version !== 8 ) {\n\n\t\t\t\tconsole.error( 'Not a valid MD2 file' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( header.offset_end !== data.byteLength ) {\n\n\t\t\t\tconsole.error( 'Corrupted MD2 file' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\t// uvs\n\n\t\t\tvar uvsTemp = [];\n\t\t\tvar offset = header.offset_st;\n\n\t\t\tfor ( var i = 0, l = header.num_st; i < l; i ++ ) {\n\n\t\t\t\tvar u = data.getInt16( offset + 0, true );\n\t\t\t\tvar v = data.getInt16( offset + 2, true );\n\n\t\t\t\tuvsTemp.push( u / header.skinwidth, 1 - ( v / header.skinheight ) );\n\n\t\t\t\toffset += 4;\n\n\t\t\t}\n\n\t\t\t// triangles\n\n\t\t\toffset = header.offset_tris;\n\n\t\t\tvar vertexIndices = [];\n\t\t\tvar uvIndices = [];\n\n\t\t\tfor ( var i = 0, l = header.num_tris; i < l; i ++ ) {\n\n\t\t\t\tvertexIndices.push(\n\t\t\t\t\tdata.getUint16( offset + 0, true ),\n\t\t\t\t\tdata.getUint16( offset + 2, true ),\n\t\t\t\t\tdata.getUint16( offset + 4, true )\n\t\t\t\t);\n\n\t\t\t\tuvIndices.push(\n\t\t\t\t\tdata.getUint16( offset + 6, true ),\n\t\t\t\t\tdata.getUint16( offset + 8, true ),\n\t\t\t\t\tdata.getUint16( offset + 10, true )\n\t\t\t\t);\n\n\t\t\t\toffset += 12;\n\n\t\t\t}\n\n\t\t\t// frames\n\n\t\t\tvar translation = new Vector3();\n\t\t\tvar scale = new Vector3();\n\t\t\tvar string = [];\n\n\t\t\tvar frames = [];\n\n\t\t\toffset = header.offset_frames;\n\n\t\t\tfor ( var i = 0, l = header.num_frames; i < l; i ++ ) {\n\n\t\t\t\tscale.set(\n\t\t\t\t\tdata.getFloat32( offset + 0, true ),\n\t\t\t\t\tdata.getFloat32( offset + 4, true ),\n\t\t\t\t\tdata.getFloat32( offset + 8, true )\n\t\t\t\t);\n\n\t\t\t\ttranslation.set(\n\t\t\t\t\tdata.getFloat32( offset + 12, true ),\n\t\t\t\t\tdata.getFloat32( offset + 16, true ),\n\t\t\t\t\tdata.getFloat32( offset + 20, true )\n\t\t\t\t);\n\n\t\t\t\toffset += 24;\n\n\t\t\t\tfor ( var j = 0; j < 16; j ++ ) {\n\n\t\t\t\t\tvar character = data.getUint8( offset + j, true );\n\t\t\t\t\tif ( character === 0 ) break;\n\n\t\t\t\t\tstring[ j ] = character;\n\n\t\t\t\t}\n\n\t\t\t\tvar frame = {\n\t\t\t\t\tname: String.fromCharCode.apply( null, string ),\n\t\t\t\t\tvertices: [],\n\t\t\t\t\tnormals: []\n\t\t\t\t};\n\n\t\t\t\toffset += 16;\n\n\t\t\t\tfor ( var j = 0; j < header.num_vertices; j ++ ) {\n\n\t\t\t\t\tvar x = data.getUint8( offset ++, true );\n\t\t\t\t\tvar y = data.getUint8( offset ++, true );\n\t\t\t\t\tvar z = data.getUint8( offset ++, true );\n\t\t\t\t\tvar n = normalData[ data.getUint8( offset ++, true ) ];\n\n\t\t\t\t\tx = x * scale.x + translation.x;\n\t\t\t\t\ty = y * scale.y + translation.y;\n\t\t\t\t\tz = z * scale.z + translation.z;\n\n\t\t\t\t\tframe.vertices.push( x, z, y ); // convert to Y-up\n\t\t\t\t\tframe.normals.push( n[ 0 ], n[ 2 ], n[ 1 ] ); // convert to Y-up\n\n\t\t\t\t}\n\n\t\t\t\tframes.push( frame );\n\n\t\t\t}\n\n\t\t\t// static\n\n\t\t\tvar positions = [];\n\t\t\tvar normals = [];\n\t\t\tvar uvs = [];\n\n\t\t\tvar verticesTemp = frames[ 0 ].vertices;\n\t\t\tvar normalsTemp = frames[ 0 ].normals;\n\n\t\t\tfor ( var i = 0, l = vertexIndices.length; i < l; i ++ ) {\n\n\t\t\t\tvar vertexIndex = vertexIndices[ i ];\n\t\t\t\tvar stride = vertexIndex * 3;\n\n\t\t\t\t//\n\n\t\t\t\tvar x = verticesTemp[ stride ];\n\t\t\t\tvar y = verticesTemp[ stride + 1 ];\n\t\t\t\tvar z = verticesTemp[ stride + 2 ];\n\n\t\t\t\tpositions.push( x, y, z );\n\n\t\t\t\t//\n\n\t\t\t\tvar nx = normalsTemp[ stride ];\n\t\t\t\tvar ny = normalsTemp[ stride + 1 ];\n\t\t\t\tvar nz = normalsTemp[ stride + 2 ];\n\n\t\t\t\tnormals.push( nx, ny, nz );\n\n\t\t\t\t//\n\n\t\t\t\tvar uvIndex = uvIndices[ i ];\n\t\t\t\tstride = uvIndex * 2;\n\n\t\t\t\tvar u = uvsTemp[ stride ];\n\t\t\t\tvar v = uvsTemp[ stride + 1 ];\n\n\t\t\t\tuvs.push( u, v );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t\t// animation\n\n\t\t\tvar morphPositions = [];\n\t\t\tvar morphNormals = [];\n\n\t\t\tfor ( var i = 0, l = frames.length; i < l; i ++ ) {\n\n\t\t\t\tvar frame = frames[ i ];\n\t\t\t\tvar attributeName = frame.name;\n\n\t\t\t\tif ( frame.vertices.length > 0 ) {\n\n\t\t\t\t\tvar positions = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = vertexIndices.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar vertexIndex = vertexIndices[ j ];\n\t\t\t\t\t\tvar stride = vertexIndex * 3;\n\n\t\t\t\t\t\tvar x = frame.vertices[ stride ];\n\t\t\t\t\t\tvar y = frame.vertices[ stride + 1 ];\n\t\t\t\t\t\tvar z = frame.vertices[ stride + 2 ];\n\n\t\t\t\t\t\tpositions.push( x, y, z );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar positionAttribute = new Float32BufferAttribute( positions, 3 );\n\t\t\t\t\tpositionAttribute.name = attributeName;\n\n\t\t\t\t\tmorphPositions.push( positionAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tif ( frame.normals.length > 0 ) {\n\n\t\t\t\t\tvar normals = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = vertexIndices.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar vertexIndex = vertexIndices[ j ];\n\t\t\t\t\t\tvar stride = vertexIndex * 3;\n\n\t\t\t\t\t\tvar nx = frame.normals[ stride ];\n\t\t\t\t\t\tvar ny = frame.normals[ stride + 1 ];\n\t\t\t\t\t\tvar nz = frame.normals[ stride + 2 ];\n\n\t\t\t\t\t\tnormals.push( nx, ny, nz );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar normalAttribute = new Float32BufferAttribute( normals, 3 );\n\t\t\t\t\tnormalAttribute.name = attributeName;\n\n\t\t\t\t\tmorphNormals.push( normalAttribute );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.morphAttributes.position = morphPositions;\n\t\t\tgeometry.morphAttributes.normal = morphNormals;\n\n\t\t\tgeometry.animations = AnimationClip.CreateClipsFromMorphTargetSequences( frames, 10 );\n\n\t\t\tconsole.timeEnd( 'MD2Loader' );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t} )()\n\n} );\n\nexport { MD2Loader };\n"]}