{"version":3,"sources":["Ocean.js"],"names":[],"mappings":"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","file":"Ocean-compiled.js","sourcesContent":["console.warn( \"THREE.Ocean: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/#manual/en/introduction/Installation.\" );\n\nTHREE.Ocean = function ( renderer, camera, scene, options ) {\n\n\t// flag used to trigger parameter changes\n\tthis.changed = true;\n\tthis.initial = true;\n\n\t// Assign required parameters as object properties\n\tthis.oceanCamera = new THREE.OrthographicCamera(); //camera.clone();\n\tthis.oceanCamera.position.z = 1;\n\tthis.renderer = renderer;\n\tthis.renderer.clearColor( 0xffffff );\n\n\tthis.scene = new THREE.Scene();\n\n\t// Assign optional parameters as variables and object properties\n\tfunction optionalParameter( value, defaultValue ) {\n\n\t\treturn value !== undefined ? value : defaultValue;\n\n\t}\n\n\toptions = options || {};\n\tthis.clearColor = optionalParameter( options.CLEAR_COLOR, [ 1.0, 1.0, 1.0, 0.0 ] );\n\tthis.geometryOrigin = optionalParameter( options.GEOMETRY_ORIGIN, [ - 1000.0, - 1000.0 ] );\n\tthis.sunDirectionX = optionalParameter( options.SUN_DIRECTION[ 0 ], - 1.0 );\n\tthis.sunDirectionY = optionalParameter( options.SUN_DIRECTION[ 1 ], 1.0 );\n\tthis.sunDirectionZ = optionalParameter( options.SUN_DIRECTION[ 2 ], 1.0 );\n\tthis.oceanColor = optionalParameter( options.OCEAN_COLOR, new THREE.Vector3( 0.004, 0.016, 0.047 ) );\n\tthis.skyColor = optionalParameter( options.SKY_COLOR, new THREE.Vector3( 3.2, 9.6, 12.8 ) );\n\tthis.exposure = optionalParameter( options.EXPOSURE, 0.35 );\n\tthis.geometryResolution = optionalParameter( options.GEOMETRY_RESOLUTION, 32 );\n\tthis.geometrySize = optionalParameter( options.GEOMETRY_SIZE, 2000 );\n\tthis.resolution = optionalParameter( options.RESOLUTION, 64 );\n\tthis.floatSize = optionalParameter( options.SIZE_OF_FLOAT, 4 );\n\tthis.windX = optionalParameter( options.INITIAL_WIND[ 0 ], 10.0 );\n\tthis.windY = optionalParameter( options.INITIAL_WIND[ 1 ], 10.0 );\n\tthis.size = optionalParameter( options.INITIAL_SIZE, 250.0 );\n\tthis.choppiness = optionalParameter( options.INITIAL_CHOPPINESS, 1.5 );\n\n\t//\n\tthis.matrixNeedsUpdate = false;\n\n\t// Setup framebuffer pipeline\n\tvar renderTargetType = optionalParameter( options.USE_HALF_FLOAT, false ) ? THREE.HalfFloatType : THREE.FloatType;\n\tvar LinearClampParams = {\n\t\tminFilter: THREE.LinearFilter,\n\t\tmagFilter: THREE.LinearFilter,\n\t\twrapS: THREE.ClampToEdgeWrapping,\n\t\twrapT: THREE.ClampToEdgeWrapping,\n\t\tformat: THREE.RGBAFormat,\n\t\tdepthBuffer: false,\n\t\tpremultiplyAlpha: false,\n\t\ttype: renderTargetType\n\t};\n\tvar NearestClampParams = {\n\t\tminFilter: THREE.NearestFilter,\n\t\tmagFilter: THREE.NearestFilter,\n\t\twrapS: THREE.ClampToEdgeWrapping,\n\t\twrapT: THREE.ClampToEdgeWrapping,\n\t\tformat: THREE.RGBAFormat,\n\t\tdepthBuffer: false,\n\t\tpremultiplyAlpha: false,\n\t\ttype: renderTargetType\n\t};\n\tvar NearestRepeatParams = {\n\t\tminFilter: THREE.NearestFilter,\n\t\tmagFilter: THREE.NearestFilter,\n\t\twrapS: THREE.RepeatWrapping,\n\t\twrapT: THREE.RepeatWrapping,\n\t\tformat: THREE.RGBAFormat,\n\t\tdepthBuffer: false,\n\t\tpremultiplyAlpha: false,\n\t\ttype: renderTargetType\n\t};\n\tthis.initialSpectrumFramebuffer = new THREE.WebGLRenderTarget( this.resolution, this.resolution, NearestRepeatParams );\n\tthis.spectrumFramebuffer = new THREE.WebGLRenderTarget( this.resolution, this.resolution, NearestClampParams );\n\tthis.pingPhaseFramebuffer = new THREE.WebGLRenderTarget( this.resolution, this.resolution, NearestClampParams );\n\tthis.pongPhaseFramebuffer = new THREE.WebGLRenderTarget( this.resolution, this.resolution, NearestClampParams );\n\tthis.pingTransformFramebuffer = new THREE.WebGLRenderTarget( this.resolution, this.resolution, NearestClampParams );\n\tthis.pongTransformFramebuffer = new THREE.WebGLRenderTarget( this.resolution, this.resolution, NearestClampParams );\n\tthis.displacementMapFramebuffer = new THREE.WebGLRenderTarget( this.resolution, this.resolution, LinearClampParams );\n\tthis.normalMapFramebuffer = new THREE.WebGLRenderTarget( this.resolution, this.resolution, LinearClampParams );\n\n\t// Define shaders and constant uniforms\n\t////////////////////////////////////////\n\n\t// 0 - The vertex shader used in all of the simulation steps\n\tvar fullscreeenVertexShader = THREE.OceanShaders[ \"ocean_sim_vertex\" ];\n\n\t// 1 - Horizontal wave vertices used for FFT\n\tvar oceanHorizontalShader = THREE.OceanShaders[ \"ocean_subtransform\" ];\n\tvar oceanHorizontalUniforms = THREE.UniformsUtils.clone( oceanHorizontalShader.uniforms );\n\tthis.materialOceanHorizontal = new THREE.ShaderMaterial( {\n\t\tuniforms: oceanHorizontalUniforms,\n\t\tvertexShader: fullscreeenVertexShader.vertexShader,\n\t\tfragmentShader: \"#define HORIZONTAL \\n\" + oceanHorizontalShader.fragmentShader\n\t} );\n\tthis.materialOceanHorizontal.uniforms.u_transformSize = { value: this.resolution };\n\tthis.materialOceanHorizontal.uniforms.u_subtransformSize = { value: null };\n\tthis.materialOceanHorizontal.uniforms.u_input = { value: null };\n\tthis.materialOceanHorizontal.depthTest = false;\n\n\t// 2 - Vertical wave vertices used for FFT\n\tvar oceanVerticalShader = THREE.OceanShaders[ \"ocean_subtransform\" ];\n\tvar oceanVerticalUniforms = THREE.UniformsUtils.clone( oceanVerticalShader.uniforms );\n\tthis.materialOceanVertical = new THREE.ShaderMaterial( {\n\t\tuniforms: oceanVerticalUniforms,\n\t\tvertexShader: fullscreeenVertexShader.vertexShader,\n\t\tfragmentShader: oceanVerticalShader.fragmentShader\n\t} );\n\tthis.materialOceanVertical.uniforms.u_transformSize = { value: this.resolution };\n\tthis.materialOceanVertical.uniforms.u_subtransformSize = { value: null };\n\tthis.materialOceanVertical.uniforms.u_input = { value: null };\n\tthis.materialOceanVertical.depthTest = false;\n\n\t// 3 - Initial spectrum used to generate height map\n\tvar initialSpectrumShader = THREE.OceanShaders[ \"ocean_initial_spectrum\" ];\n\tvar initialSpectrumUniforms = THREE.UniformsUtils.clone( initialSpectrumShader.uniforms );\n\tthis.materialInitialSpectrum = new THREE.ShaderMaterial( {\n\t\tuniforms: initialSpectrumUniforms,\n\t\tvertexShader: initialSpectrumShader.vertexShader,\n\t\tfragmentShader: initialSpectrumShader.fragmentShader\n\t} );\n\tthis.materialInitialSpectrum.uniforms.u_wind = { value: new THREE.Vector2() };\n\tthis.materialInitialSpectrum.uniforms.u_resolution = { value: this.resolution };\n\tthis.materialInitialSpectrum.depthTest = false;\n\n\t// 4 - Phases used to animate heightmap\n\tvar phaseShader = THREE.OceanShaders[ \"ocean_phase\" ];\n\tvar phaseUniforms = THREE.UniformsUtils.clone( phaseShader.uniforms );\n\tthis.materialPhase = new THREE.ShaderMaterial( {\n\t\tuniforms: phaseUniforms,\n\t\tvertexShader: fullscreeenVertexShader.vertexShader,\n\t\tfragmentShader: phaseShader.fragmentShader\n\t} );\n\tthis.materialPhase.uniforms.u_resolution = { value: this.resolution };\n\tthis.materialPhase.depthTest = false;\n\n\t// 5 - Shader used to update spectrum\n\tvar spectrumShader = THREE.OceanShaders[ \"ocean_spectrum\" ];\n\tvar spectrumUniforms = THREE.UniformsUtils.clone( spectrumShader.uniforms );\n\tthis.materialSpectrum = new THREE.ShaderMaterial( {\n\t\tuniforms: spectrumUniforms,\n\t\tvertexShader: fullscreeenVertexShader.vertexShader,\n\t\tfragmentShader: spectrumShader.fragmentShader\n\t} );\n\tthis.materialSpectrum.uniforms.u_initialSpectrum = { value: null };\n\tthis.materialSpectrum.uniforms.u_resolution = { value: this.resolution };\n\tthis.materialSpectrum.depthTest = false;\n\n\t// 6 - Shader used to update spectrum normals\n\tvar normalShader = THREE.OceanShaders[ \"ocean_normals\" ];\n\tvar normalUniforms = THREE.UniformsUtils.clone( normalShader.uniforms );\n\tthis.materialNormal = new THREE.ShaderMaterial( {\n\t\tuniforms: normalUniforms,\n\t\tvertexShader: fullscreeenVertexShader.vertexShader,\n\t\tfragmentShader: normalShader.fragmentShader\n\t} );\n\tthis.materialNormal.uniforms.u_displacementMap = { value: null };\n\tthis.materialNormal.uniforms.u_resolution = { value: this.resolution };\n\tthis.materialNormal.depthTest = false;\n\n\t// 7 - Shader used to update normals\n\tvar oceanShader = THREE.OceanShaders[ \"ocean_main\" ];\n\tvar oceanUniforms = THREE.UniformsUtils.clone( oceanShader.uniforms );\n\tthis.materialOcean = new THREE.ShaderMaterial( {\n\t\tuniforms: oceanUniforms,\n\t\tvertexShader: oceanShader.vertexShader,\n\t\tfragmentShader: oceanShader.fragmentShader\n\t} );\n\t// this.materialOcean.wireframe = true;\n\tthis.materialOcean.uniforms.u_geometrySize = { value: this.resolution };\n\tthis.materialOcean.uniforms.u_displacementMap = { value: this.displacementMapFramebuffer.texture };\n\tthis.materialOcean.uniforms.u_normalMap = { value: this.normalMapFramebuffer.texture };\n\tthis.materialOcean.uniforms.u_oceanColor = { value: this.oceanColor };\n\tthis.materialOcean.uniforms.u_skyColor = { value: this.skyColor };\n\tthis.materialOcean.uniforms.u_sunDirection = { value: new THREE.Vector3( this.sunDirectionX, this.sunDirectionY, this.sunDirectionZ ) };\n\tthis.materialOcean.uniforms.u_exposure = { value: this.exposure };\n\tthis.materialOcean.uniforms.u_size = { value: this.size };\n\n\t// Disable blending to prevent default premultiplied alpha values\n\tthis.materialOceanHorizontal.blending = 0;\n\tthis.materialOceanVertical.blending = 0;\n\tthis.materialInitialSpectrum.blending = 0;\n\tthis.materialPhase.blending = 0;\n\tthis.materialSpectrum.blending = 0;\n\tthis.materialNormal.blending = 0;\n\tthis.materialOcean.blending = 0;\n\n\t// Create the simulation plane\n\tthis.screenQuad = new THREE.Mesh( new THREE.PlaneBufferGeometry( 2, 2 ) );\n\tthis.scene.add( this.screenQuad );\n\n\t// Initialise spectrum data\n\tthis.generateSeedPhaseTexture();\n\n\t// Generate the ocean mesh\n\tthis.generateMesh();\n\n};\n\nTHREE.Ocean.prototype.generateMesh = function () {\n\n\tvar geometry = new THREE.PlaneBufferGeometry( this.geometrySize, this.geometrySize, this.geometryResolution, this.geometryResolution );\n\n\tgeometry.rotateX( - Math.PI / 2 );\n\n\tthis.oceanMesh = new THREE.Mesh( geometry, this.materialOcean );\n\n};\n\nTHREE.Ocean.prototype.render = function () {\n\n\tvar currentRenderTarget = this.renderer.getRenderTarget();\n\n\tthis.scene.overrideMaterial = null;\n\n\tif ( this.changed )\n\t\tthis.renderInitialSpectrum();\n\n\tthis.renderWavePhase();\n\tthis.renderSpectrum();\n\tthis.renderSpectrumFFT();\n\tthis.renderNormalMap();\n\tthis.scene.overrideMaterial = null;\n\n\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n};\n\nTHREE.Ocean.prototype.generateSeedPhaseTexture = function () {\n\n\t// Setup the seed texture\n\tthis.pingPhase = true;\n\tvar phaseArray = new window.Float32Array( this.resolution * this.resolution * 4 );\n\tfor ( var i = 0; i < this.resolution; i ++ ) {\n\n\t\tfor ( var j = 0; j < this.resolution; j ++ ) {\n\n\t\t\tphaseArray[ i * this.resolution * 4 + j * 4 ] = Math.random() * 2.0 * Math.PI;\n\t\t\tphaseArray[ i * this.resolution * 4 + j * 4 + 1 ] = 0.0;\n\t\t\tphaseArray[ i * this.resolution * 4 + j * 4 + 2 ] = 0.0;\n\t\t\tphaseArray[ i * this.resolution * 4 + j * 4 + 3 ] = 0.0;\n\n\t\t}\n\n\t}\n\n\tthis.pingPhaseTexture = new THREE.DataTexture( phaseArray, this.resolution, this.resolution, THREE.RGBAFormat );\n\tthis.pingPhaseTexture.wrapS = THREE.ClampToEdgeWrapping;\n\tthis.pingPhaseTexture.wrapT = THREE.ClampToEdgeWrapping;\n\tthis.pingPhaseTexture.type = THREE.FloatType;\n\n};\n\nTHREE.Ocean.prototype.renderInitialSpectrum = function () {\n\n\tthis.scene.overrideMaterial = this.materialInitialSpectrum;\n\tthis.materialInitialSpectrum.uniforms.u_wind.value.set( this.windX, this.windY );\n\tthis.materialInitialSpectrum.uniforms.u_size.value = this.size;\n\n\tthis.renderer.setRenderTarget( this.initialSpectrumFramebuffer );\n\tthis.renderer.clear();\n\tthis.renderer.render( this.scene, this.oceanCamera );\n\n};\n\nTHREE.Ocean.prototype.renderWavePhase = function () {\n\n\tthis.scene.overrideMaterial = this.materialPhase;\n\tthis.screenQuad.material = this.materialPhase;\n\n\tif ( this.initial ) {\n\n\t\tthis.materialPhase.uniforms.u_phases.value = this.pingPhaseTexture;\n\t\tthis.initial = false;\n\n\t} else {\n\n\t\tthis.materialPhase.uniforms.u_phases.value = this.pingPhase ? this.pingPhaseFramebuffer.texture : this.pongPhaseFramebuffer.texture;\n\n\t}\n\n\tthis.materialPhase.uniforms.u_deltaTime.value = this.deltaTime;\n\tthis.materialPhase.uniforms.u_size.value = this.size;\n\tthis.renderer.setRenderTarget( this.pingPhase ? this.pongPhaseFramebuffer : this.pingPhaseFramebuffer );\n\tthis.renderer.render( this.scene, this.oceanCamera );\n\tthis.pingPhase = ! this.pingPhase;\n\n};\n\nTHREE.Ocean.prototype.renderSpectrum = function () {\n\n\tthis.scene.overrideMaterial = this.materialSpectrum;\n\tthis.materialSpectrum.uniforms.u_initialSpectrum.value = this.initialSpectrumFramebuffer.texture;\n\tthis.materialSpectrum.uniforms.u_phases.value = this.pingPhase ? this.pingPhaseFramebuffer.texture : this.pongPhaseFramebuffer.texture;\n\tthis.materialSpectrum.uniforms.u_choppiness.value = this.choppiness;\n\tthis.materialSpectrum.uniforms.u_size.value = this.size;\n\n\tthis.renderer.setRenderTarget( this.spectrumFramebuffer );\n\tthis.renderer.render( this.scene, this.oceanCamera );\n\n};\n\nTHREE.Ocean.prototype.renderSpectrumFFT = function () {\n\n\t// GPU FFT using Stockham formulation\n\tvar iterations = Math.log( this.resolution ) / Math.log( 2 ); // log2\n\n\tthis.scene.overrideMaterial = this.materialOceanHorizontal;\n\n\tfor ( var i = 0; i < iterations; i ++ ) {\n\n\t\tif ( i === 0 ) {\n\n\t\t\tthis.materialOceanHorizontal.uniforms.u_input.value = this.spectrumFramebuffer.texture;\n\t\t\tthis.materialOceanHorizontal.uniforms.u_subtransformSize.value = Math.pow( 2, ( i % ( iterations ) ) + 1 );\n\n\t\t\tthis.renderer.setRenderTarget( this.pingTransformFramebuffer );\n\t\t\tthis.renderer.render( this.scene, this.oceanCamera );\n\n\t\t} else if ( i % 2 === 1 ) {\n\n\t\t\tthis.materialOceanHorizontal.uniforms.u_input.value = this.pingTransformFramebuffer.texture;\n\t\t\tthis.materialOceanHorizontal.uniforms.u_subtransformSize.value = Math.pow( 2, ( i % ( iterations ) ) + 1 );\n\n\t\t\tthis.renderer.setRenderTarget( this.pongTransformFramebuffer );\n\t\t\tthis.renderer.render( this.scene, this.oceanCamera );\n\n\t\t} else {\n\n\t\t\tthis.materialOceanHorizontal.uniforms.u_input.value = this.pongTransformFramebuffer.texture;\n\t\t\tthis.materialOceanHorizontal.uniforms.u_subtransformSize.value = Math.pow( 2, ( i % ( iterations ) ) + 1 );\n\n\t\t\tthis.renderer.setRenderTarget( this.pingTransformFramebuffer );\n\t\t\tthis.renderer.render( this.scene, this.oceanCamera );\n\n\t\t}\n\n\t}\n\n\tthis.scene.overrideMaterial = this.materialOceanVertical;\n\n\tfor ( var i = iterations; i < iterations * 2; i ++ ) {\n\n\t\tif ( i === iterations * 2 - 1 ) {\n\n\t\t\tthis.materialOceanVertical.uniforms.u_input.value = ( iterations % 2 === 0 ) ? this.pingTransformFramebuffer.texture : this.pongTransformFramebuffer.texture;\n\t\t\tthis.materialOceanVertical.uniforms.u_subtransformSize.value = Math.pow( 2, ( i % ( iterations ) ) + 1 );\n\n\t\t\tthis.renderer.setRenderTarget( this.displacementMapFramebuffer );\n\t\t\tthis.renderer.render( this.scene, this.oceanCamera );\n\n\t\t} else if ( i % 2 === 1 ) {\n\n\t\t\tthis.materialOceanVertical.uniforms.u_input.value = this.pingTransformFramebuffer.texture;\n\t\t\tthis.materialOceanVertical.uniforms.u_subtransformSize.value = Math.pow( 2, ( i % ( iterations ) ) + 1 );\n\n\t\t\tthis.renderer.setRenderTarget( this.pongTransformFramebuffer );\n\t\t\tthis.renderer.render( this.scene, this.oceanCamera );\n\n\t\t} else {\n\n\t\t\tthis.materialOceanVertical.uniforms.u_input.value = this.pongTransformFramebuffer.texture;\n\t\t\tthis.materialOceanVertical.uniforms.u_subtransformSize.value = Math.pow( 2, ( i % ( iterations ) ) + 1 );\n\n\t\t\tthis.renderer.setRenderTarget( this.pingTransformFramebuffer );\n\t\t\tthis.renderer.render( this.scene, this.oceanCamera );\n\n\t\t}\n\n\t}\n\n};\n\nTHREE.Ocean.prototype.renderNormalMap = function () {\n\n\tthis.scene.overrideMaterial = this.materialNormal;\n\tif ( this.changed ) this.materialNormal.uniforms.u_size.value = this.size;\n\tthis.materialNormal.uniforms.u_displacementMap.value = this.displacementMapFramebuffer.texture;\n\n\tthis.renderer.setRenderTarget( this.normalMapFramebuffer );\n\tthis.renderer.clear();\n\tthis.renderer.render( this.scene, this.oceanCamera );\n\n};\n"]}