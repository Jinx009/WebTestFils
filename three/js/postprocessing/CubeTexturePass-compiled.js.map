{"version":3,"sources":["CubeTexturePass.js"],"names":[],"mappings":"AAAA,QAAQ,IAAR,CAAc,gTAAd;;AAEA,MAAM,eAAN,GAAwB,UAAW,MAAX,EAAmB,MAAnB,EAA2B,OAA3B,EAAqC;;AAE5D,OAAM,IAAN,CAAW,IAAX,CAAiB,IAAjB;;AAEA,MAAK,MAAL,GAAc,MAAd;;AAEA,MAAK,SAAL,GAAiB,KAAjB;;AAEA,MAAK,UAAL,GAAkB,MAAM,SAAN,CAAiB,MAAjB,CAAlB;AACA,MAAK,QAAL,GAAgB,IAAI,MAAM,IAAV,CACf,IAAI,MAAM,iBAAV,CAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CADe,EAEf,IAAI,MAAM,cAAV,CAA0B;AACzB,YAAU,KAAK,UAAL,CAAgB,QADD;AAEzB,gBAAc,KAAK,UAAL,CAAgB,YAFL;AAGzB,kBAAgB,KAAK,UAAL,CAAgB,cAHP;AAIzB,aAAW,KAJc;AAKzB,cAAY,KALa;AAMzB,QAAM,MAAM;AANa,EAA1B,CAFe,CAAhB;;AAYA,QAAO,cAAP,CAAuB,KAAK,QAAL,CAAc,QAArC,EAA+C,QAA/C,EAAyD;;AAExD,OAAK,YAAY;;AAEhB,UAAO,KAAK,QAAL,CAAc,MAAd,CAAqB,KAA5B;AAEA;;AANuD,EAAzD;;AAUA,MAAK,MAAL,GAAc,MAAd;AACA,MAAK,OAAL,GAAiB,YAAY,SAAd,GAA4B,OAA5B,GAAsC,GAArD;;AAEA,MAAK,SAAL,GAAiB,IAAI,MAAM,KAAV,EAAjB;AACA,MAAK,UAAL,GAAkB,IAAI,MAAM,iBAAV,EAAlB;AACA,MAAK,SAAL,CAAe,GAAf,CAAoB,KAAK,QAAzB;AAEA,CAtCD;;AAwCA,MAAM,eAAN,CAAsB,SAAtB,GAAkC,OAAO,MAAP,CAAe,OAAO,MAAP,CAAe,MAAM,IAAN,CAAW,SAA1B,CAAf,EAAsD;;AAEvF,cAAa,MAAM,eAFoE;;AAIvF,SAAQ,UAAW,QAAX,EAAqB,WAArB,EAAkC,UAAlC,CAA4C,2BAA5C,EAA0E;;AAEjF,MAAI,eAAe,SAAS,SAA5B;AACA,WAAS,SAAT,GAAqB,KAArB;;AAEA,OAAK,UAAL,CAAgB,gBAAhB,CAAiC,IAAjC,CAAuC,KAAK,MAAL,CAAY,gBAAnD;AACA,OAAK,UAAL,CAAgB,UAAhB,CAA2B,qBAA3B,CAAkD,KAAK,MAAL,CAAY,WAA9D;;AAEA,OAAK,QAAL,CAAc,QAAd,CAAuB,QAAvB,CAAgC,MAAhC,CAAuC,KAAvC,GAA+C,KAAK,MAApD;AACA,OAAK,QAAL,CAAc,QAAd,CAAuB,QAAvB,CAAgC,OAAhC,CAAwC,KAAxC,GAAgD,KAAK,OAArD;AACA,OAAK,QAAL,CAAc,QAAd,CAAuB,WAAvB,GAAuC,KAAK,OAAL,GAAe,GAAtD;;AAEA,WAAS,eAAT,CAA0B,KAAK,cAAL,GAAsB,IAAtB,GAA6B,UAAvD;AACA,MAAK,KAAK,KAAV,EAAkB,SAAS,KAAT;AAClB,WAAS,MAAT,CAAiB,KAAK,SAAtB,EAAiC,KAAK,UAAtC;;AAEA,WAAS,SAAT,GAAqB,YAArB;AAEA;;AAtBsF,CAAtD,CAAlC","file":"CubeTexturePass-compiled.js","sourcesContent":["console.warn( \"THREE.CubeTexturePass: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/#manual/en/introduction/Installation.\" );\n\nTHREE.CubeTexturePass = function ( camera, envMap, opacity ) {\n\n\tTHREE.Pass.call( this );\n\n\tthis.camera = camera;\n\n\tthis.needsSwap = false;\n\n\tthis.cubeShader = THREE.ShaderLib[ 'cube' ];\n\tthis.cubeMesh = new THREE.Mesh(\n\t\tnew THREE.BoxBufferGeometry( 10, 10, 10 ),\n\t\tnew THREE.ShaderMaterial( {\n\t\t\tuniforms: this.cubeShader.uniforms,\n\t\t\tvertexShader: this.cubeShader.vertexShader,\n\t\t\tfragmentShader: this.cubeShader.fragmentShader,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\tside: THREE.BackSide\n\t\t} )\n\t);\n\n\tObject.defineProperty( this.cubeMesh.material, 'envMap', {\n\n\t\tget: function () {\n\n\t\t\treturn this.uniforms.envMap.value;\n\n\t\t}\n\n\t} );\n\n\tthis.envMap = envMap;\n\tthis.opacity = ( opacity !== undefined ) ? opacity : 1.0;\n\n\tthis.cubeScene = new THREE.Scene();\n\tthis.cubeCamera = new THREE.PerspectiveCamera();\n\tthis.cubeScene.add( this.cubeMesh );\n\n};\n\nTHREE.CubeTexturePass.prototype = Object.assign( Object.create( THREE.Pass.prototype ), {\n\n\tconstructor: THREE.CubeTexturePass,\n\n\trender: function ( renderer, writeBuffer, readBuffer/*, deltaTime, maskActive*/ ) {\n\n\t\tvar oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tthis.cubeCamera.projectionMatrix.copy( this.camera.projectionMatrix );\n\t\tthis.cubeCamera.quaternion.setFromRotationMatrix( this.camera.matrixWorld );\n\n\t\tthis.cubeMesh.material.uniforms.envMap.value = this.envMap;\n\t\tthis.cubeMesh.material.uniforms.opacity.value = this.opacity;\n\t\tthis.cubeMesh.material.transparent = ( this.opacity < 1.0 );\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.cubeScene, this.cubeCamera );\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n} );\n"]}