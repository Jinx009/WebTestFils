{"version":3,"sources":["UVsDebug.js"],"names":[],"mappings":"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","file":"UVsDebug-compiled.js","sourcesContent":["console.warn( \"THREE.UVsDebug: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/#manual/en/introduction/Installation.\" );\n/**\n * tool for \"unwrapping\" and debugging three.js geometries UV mapping\n *\n * Sample usage:\n *\tdocument.body.appendChild( THREE.UVsDebug( new THREE.SphereBufferGeometry( 10, 10, 10, 10 ) );\n *\n */\n\nTHREE.UVsDebug = function ( geometry, size ) {\n\n\t// handles wrapping of uv.x > 1 only\n\n\tvar abc = 'abc';\n\tvar a = new THREE.Vector2();\n\tvar b = new THREE.Vector2();\n\n\tvar uvs = [\n\t\tnew THREE.Vector2(),\n\t\tnew THREE.Vector2(),\n\t\tnew THREE.Vector2()\n\t];\n\n\tvar face = [];\n\n\tvar canvas = document.createElement( 'canvas' );\n\tvar width = size || 1024; // power of 2 required for wrapping\n\tvar height = size || 1024;\n\tcanvas.width = width;\n\tcanvas.height = height;\n\n\tvar ctx = canvas.getContext( '2d' );\n\tctx.lineWidth = 1;\n\tctx.strokeStyle = 'rgb( 63, 63, 63 )';\n\tctx.textAlign = 'center';\n\n\t// paint background white\n\n\tctx.fillStyle = 'rgb( 255, 255, 255 )';\n\tctx.fillRect( 0, 0, width, height );\n\n\tif ( geometry.isGeometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar uvSet = geometry.faceVertexUvs[ 0 ];\n\n\t\tfor ( var i = 0, il = uvSet.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\t\t\tvar uv = uvSet[ i ];\n\n\t\t\tface[ 0 ] = face.a;\n\t\t\tface[ 1 ] = face.b;\n\t\t\tface[ 2 ] = face.c;\n\n\t\t\tuvs[ 0 ].copy( uv[ 0 ] );\n\t\t\tuvs[ 1 ].copy( uv[ 1 ] );\n\t\t\tuvs[ 2 ].copy( uv[ 2 ] );\n\n\t\t\tprocessFace( face, uvs, i );\n\n\t\t}\n\n\t} else {\n\n\t\tvar index = geometry.index;\n\t\tvar uvAttribute = geometry.attributes.uv;\n\n\t\tif ( index ) {\n\n\t\t\t// indexed geometry\n\n\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\tface[ 0 ] = index.getX( i );\n\t\t\t\tface[ 1 ] = index.getX( i + 1 );\n\t\t\t\tface[ 2 ] = index.getX( i + 2 );\n\n\t\t\t\tuvs[ 0 ].fromBufferAttribute( uvAttribute, face[ 0 ] );\n\t\t\t\tuvs[ 1 ].fromBufferAttribute( uvAttribute, face[ 1 ] );\n\t\t\t\tuvs[ 2 ].fromBufferAttribute( uvAttribute, face[ 2 ] );\n\n\t\t\t\tprocessFace( face, uvs, i / 3 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed geometry\n\n\t\t\tfor ( var i = 0, il = uvAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\tface[ 0 ] = i;\n\t\t\t\tface[ 1 ] = i + 1;\n\t\t\t\tface[ 2 ] = i + 2;\n\n\t\t\t\tuvs[ 0 ].fromBufferAttribute( uvAttribute, face[ 0 ] );\n\t\t\t\tuvs[ 1 ].fromBufferAttribute( uvAttribute, face[ 1 ] );\n\t\t\t\tuvs[ 2 ].fromBufferAttribute( uvAttribute, face[ 2 ] );\n\n\t\t\t\tprocessFace( face, uvs, i / 3 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn canvas;\n\n\tfunction processFace( face, uvs, index ) {\n\n\t\t// draw contour of face\n\n\t\tctx.beginPath();\n\n\t\ta.set( 0, 0 );\n\n\t\tfor ( var j = 0, jl = uvs.length; j < jl; j ++ ) {\n\n\t\t\tvar uv = uvs[ j ];\n\n\t\t\ta.x += uv.x;\n\t\t\ta.y += uv.y;\n\n\t\t\tif ( j === 0 ) {\n\n\t\t\t\tctx.moveTo( uv.x * ( width - 2 ) + 0.5, ( 1 - uv.y ) * ( height - 2 ) + 0.5 );\n\n\t\t\t} else {\n\n\t\t\t\tctx.lineTo( uv.x * ( width - 2 ) + 0.5, ( 1 - uv.y ) * ( height - 2 ) + 0.5 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tctx.closePath();\n\t\tctx.stroke();\n\n\t\t// calculate center of face\n\n\t\ta.divideScalar( uvs.length );\n\n\t\t// label the face number\n\n\t\tctx.font = '18px Arial';\n\t\tctx.fillStyle = 'rgb( 63, 63, 63 )';\n\t\tctx.fillText( index, a.x * width, ( 1 - a.y ) * height );\n\n\t\tif ( a.x > 0.95 ) {\n\n\t\t\t// wrap x // 0.95 is arbitrary\n\n\t\t\tctx.fillText( index, ( a.x % 1 ) * width, ( 1 - a.y ) * height );\n\n\t\t}\n\n\t\t//\n\n\t\tctx.font = '12px Arial';\n\t\tctx.fillStyle = 'rgb( 191, 191, 191 )';\n\n\t\t// label uv edge orders\n\n\t\tfor ( j = 0, jl = uvs.length; j < jl; j ++ ) {\n\n\t\t\tvar uv = uvs[ j ];\n\t\t\tb.addVectors( a, uv ).divideScalar( 2 );\n\n\t\t\tvar vnum = face[ j ];\n\t\t\tctx.fillText( abc[ j ] + vnum, b.x * width, ( 1 - b.y ) * height );\n\n\t\t\tif ( b.x > 0.95 ) {\n\n\t\t\t\t// wrap x\n\n\t\t\t\tctx.fillText( abc[ j ] + vnum, ( b.x % 1 ) * width, ( 1 - b.y ) * height );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n"]}