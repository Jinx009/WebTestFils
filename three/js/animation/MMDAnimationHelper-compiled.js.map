{"version":3,"sources":["MMDAnimationHelper.js"],"names":[],"mappings":"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","file":"MMDAnimationHelper-compiled.js","sourcesContent":["console.warn( \"THREE.MMDAnimationHelper: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/#manual/en/introduction/Installation.\" );\n/**\n * MMDAnimationHelper handles animation of MMD assets loaded by MMDLoader\n * with MMD special features as IK, Grant, and Physics.\n *\n * Dependencies\n *  - ammo.js https://github.com/kripken/ammo.js\n *  - THREE.MMDPhysics\n *  - THREE.CCDIKSolver\n *\n * TODO\n *  - more precise grant skinning support.\n */\n\nTHREE.MMDAnimationHelper = ( function () {\n\n\t/**\n\t * @param {Object} params - (optional)\n\t * @param {boolean} params.sync - Whether animation durations of added objects are synched. Default is true.\n\t * @param {Number} params.afterglow - Default is 0.0.\n\t * @param {boolean} params.resetPhysicsOnLoop - Default is true.\n\t */\n\tfunction MMDAnimationHelper( params ) {\n\n\t\tparams = params || {};\n\n\t\tthis.meshes = [];\n\n\t\tthis.camera = null;\n\t\tthis.cameraTarget = new THREE.Object3D();\n\t\tthis.cameraTarget.name = 'target';\n\n\t\tthis.audio = null;\n\t\tthis.audioManager = null;\n\n\t\tthis.objects = new WeakMap();\n\n\t\tthis.configuration = {\n\t\t\tsync: params.sync !== undefined\n\t\t\t\t? params.sync : true,\n\t\t\tafterglow: params.afterglow !== undefined\n\t\t\t\t? params.afterglow : 0.0,\n\t\t\tresetPhysicsOnLoop: params.resetPhysicsOnLoop !== undefined\n\t\t\t\t? params.resetPhysicsOnLoop : true\n\t\t};\n\n\t\tthis.enabled = {\n\t\t\tanimation: true,\n\t\t\tik: true,\n\t\t\tgrant: true,\n\t\t\tphysics: true,\n\t\t\tcameraAnimation: true\n\t\t};\n\n\t\tthis.onBeforePhysics = function ( /* mesh */ ) {};\n\n\t\t// experimental\n\t\tthis.sharedPhysics = false;\n\t\tthis.masterPhysics = null;\n\n\t}\n\n\tMMDAnimationHelper.prototype = {\n\n\t\tconstructor: MMDAnimationHelper,\n\n\t\t/**\n\t\t * Adds an Three.js Object to helper and setups animation.\n\t\t * The anmation durations of added objects are synched\n\t\t * if this.configuration.sync is true.\n\t\t *\n\t\t * @param {THREE.SkinnedMesh|THREE.Camera|THREE.Audio} object\n\t\t * @param {Object} params - (optional)\n\t\t * @param {THREE.AnimationClip|Array<THREE.AnimationClip>} params.animation - Only for THREE.SkinnedMesh and THREE.Camera. Default is undefined.\n\t\t * @param {boolean} params.physics - Only for THREE.SkinnedMesh. Default is true.\n\t\t * @param {Integer} params.warmup - Only for THREE.SkinnedMesh and physics is true. Default is 60.\n\t\t * @param {Number} params.unitStep - Only for THREE.SkinnedMesh and physics is true. Default is 1 / 65.\n\t\t * @param {Integer} params.maxStepNum - Only for THREE.SkinnedMesh and physics is true. Default is 3.\n\t\t * @param {THREE.Vector3} params.gravity - Only for THREE.SkinnedMesh and physics is true. Default ( 0, - 9.8 * 10, 0 ).\n\t\t * @param {Number} params.delayTime - Only for THREE.Audio. Default is 0.0.\n\t\t * @return {THREE.MMDAnimationHelper}\n\t\t */\n\t\tadd: function ( object, params ) {\n\n\t\t\tparams = params || {};\n\n\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\tthis._addMesh( object, params );\n\n\t\t\t} else if ( object.isCamera ) {\n\n\t\t\t\tthis._setupCamera( object, params );\n\n\t\t\t} else if ( object.type === 'Audio' ) {\n\n\t\t\t\tthis._setupAudio( object, params );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper.add: '\n\t\t\t\t\t+ 'accepts only '\n\t\t\t\t\t+ 'THREE.SkinnedMesh or '\n\t\t\t\t\t+ 'THREE.Camera or '\n\t\t\t\t\t+ 'THREE.Audio instance.' );\n\n\t\t\t}\n\n\t\t\tif ( this.configuration.sync ) this._syncDuration();\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t/**\n\t\t * Removes an Three.js Object from helper.\n\t\t *\n\t\t * @param {THREE.SkinnedMesh|THREE.Camera|THREE.Audio} object\n\t\t * @return {THREE.MMDAnimationHelper}\n\t\t */\n\t\tremove: function ( object ) {\n\n\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\tthis._removeMesh( object );\n\n\t\t\t} else if ( object.isCamera ) {\n\n\t\t\t\tthis._clearCamera( object );\n\n\t\t\t} else if ( object.type === 'Audio' ) {\n\n\t\t\t\tthis._clearAudio( object );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper.remove: '\n\t\t\t\t\t+ 'accepts only '\n\t\t\t\t\t+ 'THREE.SkinnedMesh or '\n\t\t\t\t\t+ 'THREE.Camera or '\n\t\t\t\t\t+ 'THREE.Audio instance.' );\n\n\t\t\t}\n\n\t\t\tif ( this.configuration.sync ) this._syncDuration();\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t/**\n\t\t * Updates the animation.\n\t\t *\n\t\t * @param {Number} delta\n\t\t * @return {THREE.MMDAnimationHelper}\n\t\t */\n\t\tupdate: function ( delta ) {\n\n\t\t\tif ( this.audioManager !== null ) this.audioManager.control( delta );\n\n\t\t\tfor ( var i = 0; i < this.meshes.length; i ++ ) {\n\n\t\t\t\tthis._animateMesh( this.meshes[ i ], delta );\n\n\t\t\t}\n\n\t\t\tif ( this.sharedPhysics ) this._updateSharedPhysics( delta );\n\n\t\t\tif ( this.camera !== null ) this._animateCamera( this.camera, delta );\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t/**\n\t\t * Changes the pose of SkinnedMesh as VPD specifies.\n\t\t *\n\t\t * @param {THREE.SkinnedMesh} mesh\n\t\t * @param {Object} vpd - VPD content parsed MMDParser\n\t\t * @param {Object} params - (optional)\n\t\t * @param {boolean} params.resetPose - Default is true.\n\t\t * @param {boolean} params.ik - Default is true.\n\t\t * @param {boolean} params.grant - Default is true.\n\t\t * @return {THREE.MMDAnimationHelper}\n\t\t */\n\t\tpose: function ( mesh, vpd, params ) {\n\n\t\t\tparams = params || {};\n\n\t\t\tif ( params.resetPose !== false ) mesh.pose();\n\n\t\t\tvar bones = mesh.skeleton.bones;\n\t\t\tvar boneParams = vpd.bones;\n\n\t\t\tvar boneNameDictionary = {};\n\n\t\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t\tboneNameDictionary[ bones[ i ].name ] = i;\n\n\t\t\t}\n\n\t\t\tvar vector = new THREE.Vector3();\n\t\t\tvar quaternion = new THREE.Quaternion();\n\n\t\t\tfor ( var i = 0, il = boneParams.length; i < il; i ++ ) {\n\n\t\t\t\tvar boneParam = boneParams[ i ];\n\t\t\t\tvar boneIndex = boneNameDictionary[ boneParam.name ];\n\n\t\t\t\tif ( boneIndex === undefined ) continue;\n\n\t\t\t\tvar bone = bones[ boneIndex ];\n\t\t\t\tbone.position.add( vector.fromArray( boneParam.translation ) );\n\t\t\t\tbone.quaternion.multiply( quaternion.fromArray( boneParam.quaternion ) );\n\n\t\t\t}\n\n\t\t\tmesh.updateMatrixWorld( true );\n\n\t\t\tif ( params.ik !== false ) {\n\n\t\t\t\tthis._createCCDIKSolver( mesh ).update( params.saveOriginalBonesBeforeIK ); // this param is experimental\n\n\t\t\t}\n\n\t\t\tif ( params.grant !== false ) {\n\n\t\t\t\tthis.createGrantSolver( mesh ).update();\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t/**\n\t\t * Enabes/Disables an animation feature.\n\t\t *\n\t\t * @param {string} key\n\t\t * @param {boolean} enabled\n\t\t * @return {THREE.MMDAnimationHelper}\n\t\t */\n\t\tenable: function ( key, enabled ) {\n\n\t\t\tif ( this.enabled[ key ] === undefined ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper.enable: '\n\t\t\t\t\t+ 'unknown key ' + key );\n\n\t\t\t}\n\n\t\t\tthis.enabled[ key ] = enabled;\n\n\t\t\tif ( key === 'physics' ) {\n\n\t\t\t\tfor ( var i = 0, il = this.meshes.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis._optimizeIK( this.meshes[ i ], enabled );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t/**\n\t\t * Creates an GrantSolver instance.\n\t\t *\n\t\t * @param {THREE.SkinnedMesh} mesh\n\t\t * @return {GrantSolver}\n\t\t */\n\t\tcreateGrantSolver: function ( mesh ) {\n\n\t\t\treturn new GrantSolver( mesh, mesh.geometry.userData.MMD.grants );\n\n\t\t},\n\n\t\t// private methods\n\n\t\t_addMesh: function ( mesh, params ) {\n\n\t\t\tif ( this.meshes.indexOf( mesh ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper._addMesh: '\n\t\t\t\t\t+ 'SkinnedMesh \\'' + mesh.name + '\\' has already been added.' );\n\n\t\t\t}\n\n\t\t\tthis.meshes.push( mesh );\n\t\t\tthis.objects.set( mesh, { looped: false } );\n\n\t\t\tthis._setupMeshAnimation( mesh, params.animation );\n\n\t\t\tif ( params.physics !== false ) {\n\n\t\t\t\tthis._setupMeshPhysics( mesh, params );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t_setupCamera: function ( camera, params ) {\n\n\t\t\tif ( this.camera === camera ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper._setupCamera: '\n\t\t\t\t\t+ 'Camera \\'' + camera.name + '\\' has already been set.' );\n\n\t\t\t}\n\n\t\t\tif ( this.camera ) this.clearCamera( this.camera );\n\n\t\t\tthis.camera = camera;\n\n\t\t\tcamera.add( this.cameraTarget );\n\n\t\t\tthis.objects.set( camera, {} );\n\n\t\t\tif ( params.animation !== undefined ) {\n\n\t\t\t\tthis._setupCameraAnimation( camera, params.animation );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t_setupAudio: function ( audio, params ) {\n\n\t\t\tif ( this.audio === audio ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper._setupAudio: '\n\t\t\t\t\t+ 'Audio \\'' + audio.name + '\\' has already been set.' );\n\n\t\t\t}\n\n\t\t\tif ( this.audio ) this.clearAudio( this.audio );\n\n\t\t\tthis.audio = audio;\n\t\t\tthis.audioManager = new AudioManager( audio, params );\n\n\t\t\tthis.objects.set( this.audioManager, {\n\t\t\t\tduration: this.audioManager.duration\n\t\t\t} );\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t_removeMesh: function ( mesh ) {\n\n\t\t\tvar found = false;\n\t\t\tvar writeIndex = 0;\n\n\t\t\tfor ( var i = 0, il = this.meshes.length; i < il; i ++ ) {\n\n\t\t\t\tif ( this.meshes[ i ] === mesh ) {\n\n\t\t\t\t\tthis.objects.delete( mesh );\n\t\t\t\t\tfound = true;\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tthis.meshes[ writeIndex ++ ] = this.meshes[ i ];\n\n\t\t\t}\n\n\t\t\tif ( ! found ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper._removeMesh: '\n\t\t\t\t\t+ 'SkinnedMesh \\'' + mesh.name + '\\' has not been added yet.' );\n\n\t\t\t}\n\n\t\t\tthis.meshes.length = writeIndex;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t_clearCamera: function ( camera ) {\n\n\t\t\tif ( camera !== this.camera ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper._clearCamera: '\n\t\t\t\t\t+ 'Camera \\'' + camera.name + '\\' has not been set yet.' );\n\n\t\t\t}\n\n\t\t\tthis.camera.remove( this.cameraTarget );\n\n\t\t\tthis.objects.delete( this.camera );\n\t\t\tthis.camera = null;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t_clearAudio: function ( audio ) {\n\n\t\t\tif ( audio !== this.audio ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper._clearAudio: '\n\t\t\t\t\t+ 'Audio \\'' + audio.name + '\\' has not been set yet.' );\n\n\t\t\t}\n\n\t\t\tthis.objects.delete( this.audioManager );\n\n\t\t\tthis.audio = null;\n\t\t\tthis.audioManager = null;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t_setupMeshAnimation: function ( mesh, animation ) {\n\n\t\t\tvar objects = this.objects.get( mesh );\n\n\t\t\tif ( animation !== undefined ) {\n\n\t\t\t\tvar animations = Array.isArray( animation )\n\t\t\t\t\t? animation : [ animation ];\n\n\t\t\t\tobjects.mixer = new THREE.AnimationMixer( mesh );\n\n\t\t\t\tfor ( var i = 0, il = animations.length; i < il; i ++ ) {\n\n\t\t\t\t\tobjects.mixer.clipAction( animations[ i ] ).play();\n\n\t\t\t\t}\n\n\t\t\t\t// TODO: find a workaround not to access ._clip looking like a private property\n\t\t\t\tobjects.mixer.addEventListener( 'loop', function ( event ) {\n\n\t\t\t\t\tvar tracks = event.action._clip.tracks;\n\n\t\t\t\t\tif ( tracks.length > 0 &&\n\t\t\t\t\t     tracks[ 0 ].name.slice( 0, 6 ) !== '.bones' ) return;\n\n\t\t\t\t\tobjects.looped = true;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tobjects.ikSolver = this._createCCDIKSolver( mesh );\n\t\t\tobjects.grantSolver = this.createGrantSolver( mesh );\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t_setupCameraAnimation: function ( camera, animation ) {\n\n\t\t\tvar animations = Array.isArray( animation )\n\t\t\t\t? animation : [ animation ];\n\n\t\t\tvar objects = this.objects.get( camera );\n\n\t\t\tobjects.mixer = new THREE.AnimationMixer( camera );\n\n\t\t\tfor ( var i = 0, il = animations.length; i < il; i ++ ) {\n\n\t\t\t\tobjects.mixer.clipAction( animations[ i ] ).play();\n\n\t\t\t}\n\n\t\t},\n\n\t\t_setupMeshPhysics: function ( mesh, params ) {\n\n\t\t\tvar objects = this.objects.get( mesh );\n\n\t\t\t// shared physics is experimental\n\n\t\t\tif ( params.world === undefined && this.sharedPhysics ) {\n\n\t\t\t\tvar masterPhysics = this._getMasterPhysics();\n\n\t\t\t\tif ( masterPhysics !== null ) world = masterPhysics.world; // eslint-disable-line no-undef\n\n\t\t\t}\n\n\t\t\tobjects.physics = this._createMMDPhysics( mesh, params );\n\n\t\t\tif ( objects.mixer && params.animationWarmup !== false ) {\n\n\t\t\t\tthis._animateMesh( mesh, 0 );\n\t\t\t\tobjects.physics.reset();\n\n\t\t\t}\n\n\t\t\tobjects.physics.warmup( params.warmup !== undefined ? params.warmup : 60 );\n\n\t\t\tthis._optimizeIK( mesh, true );\n\n\t\t},\n\n\t\t_animateMesh: function ( mesh, delta ) {\n\n\t\t\tvar objects = this.objects.get( mesh );\n\n\t\t\tvar mixer = objects.mixer;\n\t\t\tvar ikSolver = objects.ikSolver;\n\t\t\tvar grantSolver = objects.grantSolver;\n\t\t\tvar physics = objects.physics;\n\t\t\tvar looped = objects.looped;\n\n\t\t\t// alternate solution to save/restore bones but less performant?\n\t\t\t//mesh.pose();\n\t\t\t//this._updatePropertyMixersBuffer( mesh );\n\n\t\t\tif ( mixer && this.enabled.animation ) {\n\n\t\t\t\tthis._restoreBones( mesh );\n\n\t\t\t\tmixer.update( delta );\n\n\t\t\t\tthis._saveBones( mesh );\n\n\t\t\t\tif ( ikSolver && this.enabled.ik ) {\n\n\t\t\t\t\tmesh.updateMatrixWorld( true );\n\t\t\t\t\tikSolver.update();\n\n\t\t\t\t}\n\n\t\t\t\tif ( grantSolver && this.enabled.grant ) {\n\n\t\t\t\t\tgrantSolver.update();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( looped === true && this.enabled.physics ) {\n\n\t\t\t\tif ( physics && this.configuration.resetPhysicsOnLoop ) physics.reset();\n\n\t\t\t\tobjects.looped = false;\n\n\t\t\t}\n\n\t\t\tif ( physics && this.enabled.physics && ! this.sharedPhysics ) {\n\n\t\t\t\tthis.onBeforePhysics( mesh );\n\t\t\t\tphysics.update( delta );\n\n\t\t\t}\n\n\t\t},\n\n\t\t_animateCamera: function ( camera, delta ) {\n\n\t\t\tvar mixer = this.objects.get( camera ).mixer;\n\n\t\t\tif ( mixer && this.enabled.cameraAnimation ) {\n\n\t\t\t\tmixer.update( delta );\n\n\t\t\t\tcamera.updateProjectionMatrix();\n\n\t\t\t\tcamera.up.set( 0, 1, 0 );\n\t\t\t\tcamera.up.applyQuaternion( camera.quaternion );\n\t\t\t\tcamera.lookAt( this.cameraTarget.position );\n\n\t\t\t}\n\n\t\t},\n\n\t\t_optimizeIK: function ( mesh, physicsEnabled ) {\n\n\t\t\tvar iks = mesh.geometry.userData.MMD.iks;\n\t\t\tvar bones = mesh.geometry.userData.MMD.bones;\n\n\t\t\tfor ( var i = 0, il = iks.length; i < il; i ++ ) {\n\n\t\t\t\tvar ik = iks[ i ];\n\t\t\t\tvar links = ik.links;\n\n\t\t\t\tfor ( var j = 0, jl = links.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar link = links[ j ];\n\n\t\t\t\t\tif ( physicsEnabled === true ) {\n\n\t\t\t\t\t\t// disable IK of the bone the corresponding rigidBody type of which is 1 or 2\n\t\t\t\t\t\t// because its rotation will be overriden by physics\n\t\t\t\t\t\tlink.enabled = bones[ link.index ].rigidBodyType > 0 ? false : true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlink.enabled = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t},\n\n\t\t_createCCDIKSolver: function ( mesh ) {\n\n\t\t\tif ( THREE.CCDIKSolver === undefined ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDAnimationHelper: Import THREE.CCDIKSolver.' );\n\n\t\t\t}\n\n\t\t\treturn new THREE.CCDIKSolver( mesh, mesh.geometry.userData.MMD.iks );\n\n\t\t},\n\n\t\t_createMMDPhysics: function ( mesh, params ) {\n\n\t\t\tif ( THREE.MMDPhysics === undefined ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDPhysics: Import THREE.MMDPhysics.' );\n\n\t\t\t}\n\n\t\t\treturn new THREE.MMDPhysics(\n\t\t\t\tmesh,\n\t\t\t\tmesh.geometry.userData.MMD.rigidBodies,\n\t\t\t\tmesh.geometry.userData.MMD.constraints,\n\t\t\t\tparams );\n\n\t\t},\n\n\t\t/*\n\t\t * Detects the longest duration and then sets it to them to sync.\n\t\t * TODO: Not to access private properties ( ._actions and ._clip )\n\t\t */\n\t\t_syncDuration: function () {\n\n\t\t\tvar max = 0.0;\n\n\t\t\tvar objects = this.objects;\n\t\t\tvar meshes = this.meshes;\n\t\t\tvar camera = this.camera;\n\t\t\tvar audioManager = this.audioManager;\n\n\t\t\t// get the longest duration\n\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tvar mixer = this.objects.get( meshes[ i ] ).mixer;\n\n\t\t\t\tif ( mixer === undefined ) continue;\n\n\t\t\t\tfor ( var j = 0; j < mixer._actions.length; j ++ ) {\n\n\t\t\t\t\tvar clip = mixer._actions[ j ]._clip;\n\n\t\t\t\t\tif ( ! objects.has( clip ) ) {\n\n\t\t\t\t\t\tobjects.set( clip, {\n\t\t\t\t\t\t\tduration: clip.duration\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmax = Math.max( max, objects.get( clip ).duration );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( camera !== null ) {\n\n\t\t\t\tvar mixer = this.objects.get( camera ).mixer;\n\n\t\t\t\tif ( mixer !== undefined ) {\n\n\t\t\t\t\tfor ( var i = 0, il = mixer._actions.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar clip = mixer._actions[ i ]._clip;\n\n\t\t\t\t\t\tif ( ! objects.has( clip ) ) {\n\n\t\t\t\t\t\t\tobjects.set( clip, {\n\t\t\t\t\t\t\t\tduration: clip.duration\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmax = Math.max( max, objects.get( clip ).duration );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( audioManager !== null ) {\n\n\t\t\t\tmax = Math.max( max, objects.get( audioManager ).duration );\n\n\t\t\t}\n\n\t\t\tmax += this.configuration.afterglow;\n\n\t\t\t// update the duration\n\n\t\t\tfor ( var i = 0, il = this.meshes.length; i < il; i ++ ) {\n\n\t\t\t\tvar mixer = this.objects.get( this.meshes[ i ] ).mixer;\n\n\t\t\t\tif ( mixer === undefined ) continue;\n\n\t\t\t\tfor ( var j = 0, jl = mixer._actions.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmixer._actions[ j ]._clip.duration = max;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( camera !== null ) {\n\n\t\t\t\tvar mixer = this.objects.get( camera ).mixer;\n\n\t\t\t\tif ( mixer !== undefined ) {\n\n\t\t\t\t\tfor ( var i = 0, il = mixer._actions.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmixer._actions[ i ]._clip.duration = max;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( audioManager !== null ) {\n\n\t\t\t\taudioManager.duration = max;\n\n\t\t\t}\n\n\t\t},\n\n\t\t// workaround\n\n\t\t_updatePropertyMixersBuffer: function ( mesh ) {\n\n\t\t\tvar mixer = this.objects.get( mesh ).mixer;\n\n\t\t\tvar propertyMixers = mixer._bindings;\n\t\t\tvar accuIndex = mixer._accuIndex;\n\n\t\t\tfor ( var i = 0, il = propertyMixers.length; i < il; i ++ ) {\n\n\t\t\t\tvar propertyMixer = propertyMixers[ i ];\n\t\t\t\tvar buffer = propertyMixer.buffer;\n\t\t\t\tvar stride = propertyMixer.valueSize;\n\t\t\t\tvar offset = ( accuIndex + 1 ) * stride;\n\n\t\t\t\tpropertyMixer.binding.getValue( buffer, offset );\n\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t * Avoiding these two issues by restore/save bones before/after mixer animation.\n\t\t *\n\t\t * 1. PropertyMixer used by AnimationMixer holds cache value in .buffer.\n\t\t *    Calculating IK, Grant, and Physics after mixer animation can break\n\t\t *    the cache coherency.\n\t\t *\n\t\t * 2. Applying Grant two or more times without reset the posing breaks model.\n\t\t */\n\t\t_saveBones: function ( mesh ) {\n\n\t\t\tvar objects = this.objects.get( mesh );\n\n\t\t\tvar bones = mesh.skeleton.bones;\n\n\t\t\tvar backupBones = objects.backupBones;\n\n\t\t\tif ( backupBones === undefined ) {\n\n\t\t\t\tbackupBones = new Float32Array( bones.length * 7 );\n\t\t\t\tobjects.backupBones = backupBones;\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t\tvar bone = bones[ i ];\n\t\t\t\tbone.position.toArray( backupBones, i * 7 );\n\t\t\t\tbone.quaternion.toArray( backupBones, i * 7 + 3 );\n\n\t\t\t}\n\n\t\t},\n\n\t\t_restoreBones: function ( mesh ) {\n\n\t\t\tvar objects = this.objects.get( mesh );\n\n\t\t\tvar backupBones = objects.backupBones;\n\n\t\t\tif ( backupBones === undefined ) return;\n\n\t\t\tvar bones = mesh.skeleton.bones;\n\n\t\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t\tvar bone = bones[ i ];\n\t\t\t\tbone.position.fromArray( backupBones, i * 7 );\n\t\t\t\tbone.quaternion.fromArray( backupBones, i * 7 + 3 );\n\n\t\t\t}\n\n\t\t},\n\n\t\t// experimental\n\n\t\t_getMasterPhysics: function () {\n\n\t\t\tif ( this.masterPhysics !== null ) return this.masterPhysics;\n\n\t\t\tfor ( var i = 0, il = this.meshes.length; i < il; i ++ ) {\n\n\t\t\t\tvar physics = this.meshes[ i ].physics;\n\n\t\t\t\tif ( physics !== undefined && physics !== null ) {\n\n\t\t\t\t\tthis.masterPhysics = physics;\n\t\t\t\t\treturn this.masterPhysics;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t},\n\n\t\t_updateSharedPhysics: function ( delta ) {\n\n\t\t\tif ( this.meshes.length === 0 || ! this.enabled.physics || ! this.sharedPhysics ) return;\n\n\t\t\tvar physics = this._getMasterPhysics();\n\n\t\t\tif ( physics === null ) return;\n\n\t\t\tfor ( var i = 0, il = this.meshes.length; i < il; i ++ ) {\n\n\t\t\t\tvar p = this.meshes[ i ].physics;\n\n\t\t\t\tif ( p !== null && p !== undefined ) {\n\n\t\t\t\t\tp.updateRigidBodies();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tphysics.stepSimulation( delta );\n\n\t\t\tfor ( var i = 0, il = this.meshes.length; i < il; i ++ ) {\n\n\t\t\t\tvar p = this.meshes[ i ].physics;\n\n\t\t\t\tif ( p !== null && p !== undefined ) {\n\n\t\t\t\t\tp.updateBones();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t//\n\n\t/**\n\t * @param {THREE.Audio} audio\n\t * @param {Object} params - (optional)\n\t * @param {Nuumber} params.delayTime\n\t */\n\tfunction AudioManager( audio, params ) {\n\n\t\tparams = params || {};\n\n\t\tthis.audio = audio;\n\n\t\tthis.elapsedTime = 0.0;\n\t\tthis.currentTime = 0.0;\n\t\tthis.delayTime = params.delayTime !== undefined\n\t\t\t? params.delayTime : 0.0;\n\n\t\tthis.audioDuration = this.audio.buffer.duration;\n\t\tthis.duration = this.audioDuration + this.delayTime;\n\n\t}\n\n\tAudioManager.prototype = {\n\n\t\tconstructor: AudioManager,\n\n\t\t/**\n\t\t * @param {Number} delta\n\t\t * @return {AudioManager}\n\t\t */\n\t\tcontrol: function ( delta ) {\n\n\t\t\tthis.elapsed += delta;\n\t\t\tthis.currentTime += delta;\n\n\t\t\tif ( this._shouldStopAudio() ) this.audio.stop();\n\t\t\tif ( this._shouldStartAudio() ) this.audio.play();\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\t// private methods\n\n\t\t_shouldStartAudio: function () {\n\n\t\t\tif ( this.audio.isPlaying ) return false;\n\n\t\t\twhile ( this.currentTime >= this.duration ) {\n\n\t\t\t\tthis.currentTime -= this.duration;\n\n\t\t\t}\n\n\t\t\tif ( this.currentTime < this.delayTime ) return false;\n\n\t\t\t// 'duration' can be bigger than 'audioDuration + delayTime' because of sync configuration\n\t\t\tif ( ( this.currentTime - this.delayTime ) > this.audioDuration ) return false;\n\n\t\t\treturn true;\n\n\t\t},\n\n\t\t_shouldStopAudio: function () {\n\n\t\t\treturn this.audio.isPlaying &&\n\t\t\t\tthis.currentTime >= this.duration;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * @param {THREE.SkinnedMesh} mesh\n\t * @param {Array<Object>} grants\n\t */\n\tfunction GrantSolver( mesh, grants ) {\n\n\t\tthis.mesh = mesh;\n\t\tthis.grants = grants || [];\n\n\t}\n\n\tGrantSolver.prototype = {\n\n\t\tconstructor: GrantSolver,\n\n\t\t/**\n\t\t * @return {GrantSolver}\n\t\t */\n\t\tupdate: function () {\n\n\t\t\tvar quaternion = new THREE.Quaternion();\n\n\t\t\treturn function () {\n\n\t\t\t\tvar bones = this.mesh.skeleton.bones;\n\t\t\t\tvar grants = this.grants;\n\n\t\t\t\tfor ( var i = 0, il = grants.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar grant = grants[ i ];\n\t\t\t\t\tvar bone = bones[ grant.index ];\n\t\t\t\t\tvar parentBone = bones[ grant.parentIndex ];\n\n\t\t\t\t\tif ( grant.isLocal ) {\n\n\t\t\t\t\t\t// TODO: implement\n\t\t\t\t\t\tif ( grant.affectPosition ) {\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// TODO: implement\n\t\t\t\t\t\tif ( grant.affectRotation ) {\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// TODO: implement\n\t\t\t\t\t\tif ( grant.affectPosition ) {\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( grant.affectRotation ) {\n\n\t\t\t\t\t\t\tquaternion.set( 0, 0, 0, 1 );\n\t\t\t\t\t\t\tquaternion.slerp( parentBone.quaternion, grant.ratio );\n\t\t\t\t\t\t\tbone.quaternion.multiply( quaternion );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\n\t\t\t};\n\n\t\t}()\n\n\t};\n\n\treturn MMDAnimationHelper;\n\n} )();\n"]}