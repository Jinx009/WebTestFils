{"version":3,"sources":["ParallaxBarrierEffect.js"],"names":[],"mappings":"AAAA,QAAQ,IAAR,CAAc,sTAAd;;AAEA,MAAM,qBAAN,GAA8B,UAAW,QAAX,EAAsB;;AAEnD,KAAI,UAAU,IAAI,MAAM,kBAAV,CAA8B,CAAE,CAAhC,EAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAE,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CAAd;;AAEA,KAAI,SAAS,IAAI,MAAM,KAAV,EAAb;;AAEA,KAAI,UAAU,IAAI,MAAM,YAAV,EAAd;;AAEA,KAAI,UAAU,EAAE,WAAW,MAAM,YAAnB,EAAiC,WAAW,MAAM,aAAlD,EAAiE,QAAQ,MAAM,UAA/E,EAAd;;AAEA,KAAI,iBAAiB,IAAI,MAAM,iBAAV,CAA6B,GAA7B,EAAkC,GAAlC,EAAuC,OAAvC,CAArB;AACA,KAAI,iBAAiB,IAAI,MAAM,iBAAV,CAA6B,GAA7B,EAAkC,GAAlC,EAAuC,OAAvC,CAArB;;AAEA,KAAI,YAAY,IAAI,MAAM,cAAV,CAA0B;;AAEzC,YAAU;;AAET,cAAW,EAAE,OAAO,eAAe,OAAxB,EAFF;AAGT,eAAY,EAAE,OAAO,eAAe,OAAxB;;AAHH,GAF+B;;AASzC,gBAAc,CAEb,mBAFa,EAIb,eAJa,EAMb,4BANa,EAOb,4EAPa,EASb,GATa,EAWZ,IAXY,CAWN,IAXM,CAT2B;;AAsBzC,kBAAgB,CAEf,4BAFe,EAGf,6BAHe,EAIf,mBAJe,EAMf,eANe,EAQf,iBARe,EAUf,iDAVe,EAYf,4CAZe,EAcf,WAde,EAgBf,6CAhBe,EAkBf,IAlBe,EAoBf,GApBe,EAsBd,IAtBc,CAsBR,IAtBQ;;AAtByB,EAA1B,CAAhB;;AAgDA,KAAI,OAAO,IAAI,MAAM,IAAV,CAAgB,IAAI,MAAM,mBAAV,CAA+B,CAA/B,EAAkC,CAAlC,CAAhB,EAAuD,SAAvD,CAAX;AACA,QAAO,GAAP,CAAY,IAAZ;;AAEA,MAAK,OAAL,GAAe,UAAW,KAAX,EAAkB,MAAlB,EAA2B;;AAEzC,WAAS,OAAT,CAAkB,KAAlB,EAAyB,MAAzB;;AAEA,MAAI,aAAa,SAAS,aAAT,EAAjB;;AAEA,iBAAe,OAAf,CAAwB,QAAQ,UAAhC,EAA4C,SAAS,UAArD;AACA,iBAAe,OAAf,CAAwB,QAAQ,UAAhC,EAA4C,SAAS,UAArD;AAEA,EATD;;AAWA,MAAK,MAAL,GAAc,UAAW,KAAX,EAAkB,MAAlB,EAA2B;;AAExC,QAAM,iBAAN;;AAEA,MAAK,OAAO,MAAP,KAAkB,IAAvB,EAA8B,OAAO,iBAAP;;AAE9B,UAAQ,MAAR,CAAgB,MAAhB;;AAEA,WAAS,eAAT,CAA0B,cAA1B;AACA,WAAS,KAAT;AACA,WAAS,MAAT,CAAiB,KAAjB,EAAwB,QAAQ,OAAhC;;AAEA,WAAS,eAAT,CAA0B,cAA1B;AACA,WAAS,KAAT;AACA,WAAS,MAAT,CAAiB,KAAjB,EAAwB,QAAQ,OAAhC;;AAEA,WAAS,eAAT,CAA0B,IAA1B;AACA,WAAS,MAAT,CAAiB,MAAjB,EAAyB,OAAzB;AAEA,EAnBD;AAqBA,CAhGD","file":"ParallaxBarrierEffect-compiled.js","sourcesContent":["console.warn( \"THREE.ParallaxBarrierEffect: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/#manual/en/introduction/Installation.\" );\n\nTHREE.ParallaxBarrierEffect = function ( renderer ) {\n\n\tvar _camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n\tvar _scene = new THREE.Scene();\n\n\tvar _stereo = new THREE.StereoCamera();\n\n\tvar _params = { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n\tvar _renderTargetL = new THREE.WebGLRenderTarget( 512, 512, _params );\n\tvar _renderTargetR = new THREE.WebGLRenderTarget( 512, 512, _params );\n\n\tvar _material = new THREE.ShaderMaterial( {\n\n\t\tuniforms: {\n\n\t\t\t\"mapLeft\": { value: _renderTargetL.texture },\n\t\t\t\"mapRight\": { value: _renderTargetR.texture }\n\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvUv = vec2( uv.x, uv.y );\",\n\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform sampler2D mapLeft;\",\n\t\t\t\"uniform sampler2D mapRight;\",\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvec2 uv = vUv;\",\n\n\t\t\t\"\tif ( ( mod( gl_FragCoord.y, 2.0 ) ) > 1.00 ) {\",\n\n\t\t\t\"\t\tgl_FragColor = texture2D( mapLeft, uv );\",\n\n\t\t\t\"\t} else {\",\n\n\t\t\t\"\t\tgl_FragColor = texture2D( mapRight, uv );\",\n\n\t\t\t\"\t}\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" )\n\n\t} );\n\n\tvar mesh = new THREE.Mesh( new THREE.PlaneBufferGeometry( 2, 2 ), _material );\n\t_scene.add( mesh );\n\n\tthis.setSize = function ( width, height ) {\n\n\t\trenderer.setSize( width, height );\n\n\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\t_renderTargetL.setSize( width * pixelRatio, height * pixelRatio );\n\t\t_renderTargetR.setSize( width * pixelRatio, height * pixelRatio );\n\n\t};\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tscene.updateMatrixWorld();\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t_stereo.update( camera );\n\n\t\trenderer.setRenderTarget( _renderTargetL );\n\t\trenderer.clear();\n\t\trenderer.render( scene, _stereo.cameraL );\n\n\t\trenderer.setRenderTarget( _renderTargetR );\n\t\trenderer.clear();\n\t\trenderer.render( scene, _stereo.cameraR );\n\n\t\trenderer.setRenderTarget( null );\n\t\trenderer.render( _scene, _camera );\n\n\t};\n\n};\n"]}