{"version":3,"sources":["three.js"],"names":[],"mappings":"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","file":"three-compiled.js","sourcesContent":["/**\n * Created by jinx on 2020/10/27.\n */\n// threejs.org/license\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n        typeof define === 'function' && define.amd ? define(['exports'], factory) :\n            (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.THREE = {}));\n}(this, (function (exports) { 'use strict';\n\n    // Polyfills\n    if (Number.EPSILON === undefined) {\n        Number.EPSILON = Math.pow(2, -52);\n    }\n\n    if (Number.isInteger === undefined) {\n        // Missing in IE\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n        Number.isInteger = function (value) {\n            return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n        };\n    } //\n\n\n    if (Math.sign === undefined) {\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n        Math.sign = function (x) {\n            return x < 0 ? -1 : x > 0 ? 1 : +x;\n        };\n    }\n\n    if ('name' in Function.prototype === false) {\n        // Missing in IE\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n        Object.defineProperty(Function.prototype, 'name', {\n            get: function get() {\n                return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1];\n            }\n        });\n    }\n\n    if (Object.assign === undefined) {\n        // Missing in IE\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n        Object.assign = function (target) {\n\n            if (target === undefined || target === null) {\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n\n            var output = Object(target);\n\n            for (var index = 1; index < arguments.length; index++) {\n                var source = arguments[index];\n\n                if (source !== undefined && source !== null) {\n                    for (var nextKey in source) {\n                        if (Object.prototype.hasOwnProperty.call(source, nextKey)) {\n                            output[nextKey] = source[nextKey];\n                        }\n                    }\n                }\n            }\n\n            return output;\n        };\n    }\n\n    var REVISION = '121';\n    var MOUSE = {\n        LEFT: 0,\n        MIDDLE: 1,\n        RIGHT: 2,\n        ROTATE: 0,\n        DOLLY: 1,\n        PAN: 2\n    };\n    var TOUCH = {\n        ROTATE: 0,\n        PAN: 1,\n        DOLLY_PAN: 2,\n        DOLLY_ROTATE: 3\n    };\n    var CullFaceNone = 0;\n    var CullFaceBack = 1;\n    var CullFaceFront = 2;\n    var CullFaceFrontBack = 3;\n    var BasicShadowMap = 0;\n    var PCFShadowMap = 1;\n    var PCFSoftShadowMap = 2;\n    var VSMShadowMap = 3;\n    var FrontSide = 0;\n    var BackSide = 1;\n    var DoubleSide = 2;\n    var FlatShading = 1;\n    var SmoothShading = 2;\n    var NoBlending = 0;\n    var NormalBlending = 1;\n    var AdditiveBlending = 2;\n    var SubtractiveBlending = 3;\n    var MultiplyBlending = 4;\n    var CustomBlending = 5;\n    var AddEquation = 100;\n    var SubtractEquation = 101;\n    var ReverseSubtractEquation = 102;\n    var MinEquation = 103;\n    var MaxEquation = 104;\n    var ZeroFactor = 200;\n    var OneFactor = 201;\n    var SrcColorFactor = 202;\n    var OneMinusSrcColorFactor = 203;\n    var SrcAlphaFactor = 204;\n    var OneMinusSrcAlphaFactor = 205;\n    var DstAlphaFactor = 206;\n    var OneMinusDstAlphaFactor = 207;\n    var DstColorFactor = 208;\n    var OneMinusDstColorFactor = 209;\n    var SrcAlphaSaturateFactor = 210;\n    var NeverDepth = 0;\n    var AlwaysDepth = 1;\n    var LessDepth = 2;\n    var LessEqualDepth = 3;\n    var EqualDepth = 4;\n    var GreaterEqualDepth = 5;\n    var GreaterDepth = 6;\n    var NotEqualDepth = 7;\n    var MultiplyOperation = 0;\n    var MixOperation = 1;\n    var AddOperation = 2;\n    var NoToneMapping = 0;\n    var LinearToneMapping = 1;\n    var ReinhardToneMapping = 2;\n    var CineonToneMapping = 3;\n    var ACESFilmicToneMapping = 4;\n    var CustomToneMapping = 5;\n    var UVMapping = 300;\n    var CubeReflectionMapping = 301;\n    var CubeRefractionMapping = 302;\n    var EquirectangularReflectionMapping = 303;\n    var EquirectangularRefractionMapping = 304;\n    var CubeUVReflectionMapping = 306;\n    var CubeUVRefractionMapping = 307;\n    var RepeatWrapping = 1000;\n    var ClampToEdgeWrapping = 1001;\n    var MirroredRepeatWrapping = 1002;\n    var NearestFilter = 1003;\n    var NearestMipmapNearestFilter = 1004;\n    var NearestMipMapNearestFilter = 1004;\n    var NearestMipmapLinearFilter = 1005;\n    var NearestMipMapLinearFilter = 1005;\n    var LinearFilter = 1006;\n    var LinearMipmapNearestFilter = 1007;\n    var LinearMipMapNearestFilter = 1007;\n    var LinearMipmapLinearFilter = 1008;\n    var LinearMipMapLinearFilter = 1008;\n    var UnsignedByteType = 1009;\n    var ByteType = 1010;\n    var ShortType = 1011;\n    var UnsignedShortType = 1012;\n    var IntType = 1013;\n    var UnsignedIntType = 1014;\n    var FloatType = 1015;\n    var HalfFloatType = 1016;\n    var UnsignedShort4444Type = 1017;\n    var UnsignedShort5551Type = 1018;\n    var UnsignedShort565Type = 1019;\n    var UnsignedInt248Type = 1020;\n    var AlphaFormat = 1021;\n    var RGBFormat = 1022;\n    var RGBAFormat = 1023;\n    var LuminanceFormat = 1024;\n    var LuminanceAlphaFormat = 1025;\n    var RGBEFormat = RGBAFormat;\n    var DepthFormat = 1026;\n    var DepthStencilFormat = 1027;\n    var RedFormat = 1028;\n    var RedIntegerFormat = 1029;\n    var RGFormat = 1030;\n    var RGIntegerFormat = 1031;\n    var RGBIntegerFormat = 1032;\n    var RGBAIntegerFormat = 1033;\n    var RGB_S3TC_DXT1_Format = 33776;\n    var RGBA_S3TC_DXT1_Format = 33777;\n    var RGBA_S3TC_DXT3_Format = 33778;\n    var RGBA_S3TC_DXT5_Format = 33779;\n    var RGB_PVRTC_4BPPV1_Format = 35840;\n    var RGB_PVRTC_2BPPV1_Format = 35841;\n    var RGBA_PVRTC_4BPPV1_Format = 35842;\n    var RGBA_PVRTC_2BPPV1_Format = 35843;\n    var RGB_ETC1_Format = 36196;\n    var RGB_ETC2_Format = 37492;\n    var RGBA_ETC2_EAC_Format = 37496;\n    var RGBA_ASTC_4x4_Format = 37808;\n    var RGBA_ASTC_5x4_Format = 37809;\n    var RGBA_ASTC_5x5_Format = 37810;\n    var RGBA_ASTC_6x5_Format = 37811;\n    var RGBA_ASTC_6x6_Format = 37812;\n    var RGBA_ASTC_8x5_Format = 37813;\n    var RGBA_ASTC_8x6_Format = 37814;\n    var RGBA_ASTC_8x8_Format = 37815;\n    var RGBA_ASTC_10x5_Format = 37816;\n    var RGBA_ASTC_10x6_Format = 37817;\n    var RGBA_ASTC_10x8_Format = 37818;\n    var RGBA_ASTC_10x10_Format = 37819;\n    var RGBA_ASTC_12x10_Format = 37820;\n    var RGBA_ASTC_12x12_Format = 37821;\n    var RGBA_BPTC_Format = 36492;\n    var SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\n    var SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\n    var SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\n    var SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\n    var SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\n    var SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\n    var SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\n    var SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\n    var SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\n    var SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\n    var SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\n    var SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\n    var SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\n    var SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\n    var LoopOnce = 2200;\n    var LoopRepeat = 2201;\n    var LoopPingPong = 2202;\n    var InterpolateDiscrete = 2300;\n    var InterpolateLinear = 2301;\n    var InterpolateSmooth = 2302;\n    var ZeroCurvatureEnding = 2400;\n    var ZeroSlopeEnding = 2401;\n    var WrapAroundEnding = 2402;\n    var NormalAnimationBlendMode = 2500;\n    var AdditiveAnimationBlendMode = 2501;\n    var TrianglesDrawMode = 0;\n    var TriangleStripDrawMode = 1;\n    var TriangleFanDrawMode = 2;\n    var LinearEncoding = 3000;\n    var sRGBEncoding = 3001;\n    var GammaEncoding = 3007;\n    var RGBEEncoding = 3002;\n    var LogLuvEncoding = 3003;\n    var RGBM7Encoding = 3004;\n    var RGBM16Encoding = 3005;\n    var RGBDEncoding = 3006;\n    var BasicDepthPacking = 3200;\n    var RGBADepthPacking = 3201;\n    var TangentSpaceNormalMap = 0;\n    var ObjectSpaceNormalMap = 1;\n    var ZeroStencilOp = 0;\n    var KeepStencilOp = 7680;\n    var ReplaceStencilOp = 7681;\n    var IncrementStencilOp = 7682;\n    var DecrementStencilOp = 7683;\n    var IncrementWrapStencilOp = 34055;\n    var DecrementWrapStencilOp = 34056;\n    var InvertStencilOp = 5386;\n    var NeverStencilFunc = 512;\n    var LessStencilFunc = 513;\n    var EqualStencilFunc = 514;\n    var LessEqualStencilFunc = 515;\n    var GreaterStencilFunc = 516;\n    var NotEqualStencilFunc = 517;\n    var GreaterEqualStencilFunc = 518;\n    var AlwaysStencilFunc = 519;\n    var StaticDrawUsage = 35044;\n    var DynamicDrawUsage = 35048;\n    var StreamDrawUsage = 35040;\n    var StaticReadUsage = 35045;\n    var DynamicReadUsage = 35049;\n    var StreamReadUsage = 35041;\n    var StaticCopyUsage = 35046;\n    var DynamicCopyUsage = 35050;\n    var StreamCopyUsage = 35042;\n    var GLSL1 = \"100\";\n    var GLSL3 = \"300 es\";\n\n    /**\n     * https://github.com/mrdoob/eventdispatcher.js/\n     */\n    function EventDispatcher() {}\n\n    Object.assign(EventDispatcher.prototype, {\n        addEventListener: function addEventListener(type, listener) {\n            if (this._listeners === undefined) this._listeners = {};\n            var listeners = this._listeners;\n\n            if (listeners[type] === undefined) {\n                listeners[type] = [];\n            }\n\n            if (listeners[type].indexOf(listener) === -1) {\n                listeners[type].push(listener);\n            }\n        },\n        hasEventListener: function hasEventListener(type, listener) {\n            if (this._listeners === undefined) return false;\n            var listeners = this._listeners;\n            return listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n        },\n        removeEventListener: function removeEventListener(type, listener) {\n            if (this._listeners === undefined) return;\n            var listeners = this._listeners;\n            var listenerArray = listeners[type];\n\n            if (listenerArray !== undefined) {\n                var index = listenerArray.indexOf(listener);\n\n                if (index !== -1) {\n                    listenerArray.splice(index, 1);\n                }\n            }\n        },\n        dispatchEvent: function dispatchEvent(event) {\n            if (this._listeners === undefined) return;\n            var listeners = this._listeners;\n            var listenerArray = listeners[event.type];\n\n            if (listenerArray !== undefined) {\n                event.target = this; // Make a copy, in case listeners are removed while iterating.\n\n                var array = listenerArray.slice(0);\n\n                for (var i = 0, l = array.length; i < l; i++) {\n                    array[i].call(this, event);\n                }\n            }\n        }\n    });\n\n    var _lut = [];\n\n    for (var i = 0; i < 256; i++) {\n        _lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n    }\n\n    var _seed = 1234567;\n    var MathUtils = {\n        DEG2RAD: Math.PI / 180,\n        RAD2DEG: 180 / Math.PI,\n        generateUUID: function generateUUID() {\n            // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n            var d0 = Math.random() * 0xffffffff | 0;\n            var d1 = Math.random() * 0xffffffff | 0;\n            var d2 = Math.random() * 0xffffffff | 0;\n            var d3 = Math.random() * 0xffffffff | 0;\n            var uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' + _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' + _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] + _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff]; // .toUpperCase() here flattens concatenated strings to save heap memory space.\n\n            return uuid.toUpperCase();\n        },\n        clamp: function clamp(value, min, max) {\n            return Math.max(min, Math.min(max, value));\n        },\n        // compute euclidian modulo of m % n\n        // https://en.wikipedia.org/wiki/Modulo_operation\n        euclideanModulo: function euclideanModulo(n, m) {\n            return (n % m + m) % m;\n        },\n        // Linear mapping from range <a1, a2> to range <b1, b2>\n        mapLinear: function mapLinear(x, a1, a2, b1, b2) {\n            return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n        },\n        // https://en.wikipedia.org/wiki/Linear_interpolation\n        lerp: function lerp(x, y, t) {\n            return (1 - t) * x + t * y;\n        },\n        // http://en.wikipedia.org/wiki/Smoothstep\n        smoothstep: function smoothstep(x, min, max) {\n            if (x <= min) return 0;\n            if (x >= max) return 1;\n            x = (x - min) / (max - min);\n            return x * x * (3 - 2 * x);\n        },\n        smootherstep: function smootherstep(x, min, max) {\n            if (x <= min) return 0;\n            if (x >= max) return 1;\n            x = (x - min) / (max - min);\n            return x * x * x * (x * (x * 6 - 15) + 10);\n        },\n        // Random integer from <low, high> interval\n        randInt: function randInt(low, high) {\n            return low + Math.floor(Math.random() * (high - low + 1));\n        },\n        // Random float from <low, high> interval\n        randFloat: function randFloat(low, high) {\n            return low + Math.random() * (high - low);\n        },\n        // Random float from <-range/2, range/2> interval\n        randFloatSpread: function randFloatSpread(range) {\n            return range * (0.5 - Math.random());\n        },\n        // Deterministic pseudo-random float in the interval [ 0, 1 ]\n        seededRandom: function seededRandom(s) {\n            if (s !== undefined) _seed = s % 2147483647; // Park-Miller algorithm\n\n            _seed = _seed * 16807 % 2147483647;\n            return (_seed - 1) / 2147483646;\n        },\n        degToRad: function degToRad(degrees) {\n            return degrees * MathUtils.DEG2RAD;\n        },\n        radToDeg: function radToDeg(radians) {\n            return radians * MathUtils.RAD2DEG;\n        },\n        isPowerOfTwo: function isPowerOfTwo(value) {\n            return (value & value - 1) === 0 && value !== 0;\n        },\n        ceilPowerOfTwo: function ceilPowerOfTwo(value) {\n            return Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));\n        },\n        floorPowerOfTwo: function floorPowerOfTwo(value) {\n            return Math.pow(2, Math.floor(Math.log(value) / Math.LN2));\n        },\n        setQuaternionFromProperEuler: function setQuaternionFromProperEuler(q, a, b, c, order) {\n            // Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n            // rotations are applied to the axes in the order specified by 'order'\n            // rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n            // angles are in radians\n            var cos = Math.cos;\n            var sin = Math.sin;\n            var c2 = cos(b / 2);\n            var s2 = sin(b / 2);\n            var c13 = cos((a + c) / 2);\n            var s13 = sin((a + c) / 2);\n            var c1_3 = cos((a - c) / 2);\n            var s1_3 = sin((a - c) / 2);\n            var c3_1 = cos((c - a) / 2);\n            var s3_1 = sin((c - a) / 2);\n\n            switch (order) {\n                case 'XYX':\n                    q.set(c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13);\n                    break;\n\n                case 'YZY':\n                    q.set(s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13);\n                    break;\n\n                case 'ZXZ':\n                    q.set(s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13);\n                    break;\n\n                case 'XZX':\n                    q.set(c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13);\n                    break;\n\n                case 'YXY':\n                    q.set(s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13);\n                    break;\n\n                case 'ZYZ':\n                    q.set(s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13);\n                    break;\n\n                default:\n                    console.warn('THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order);\n            }\n        }\n    };\n\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n    }\n\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n    }\n\n    var Vector2 = /*#__PURE__*/function () {\n        function Vector2(x, y) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            Object.defineProperty(this, 'isVector2', {\n                value: true\n            });\n            this.x = x;\n            this.y = y;\n        }\n\n        var _proto = Vector2.prototype;\n\n        _proto.set = function set(x, y) {\n            this.x = x;\n            this.y = y;\n            return this;\n        };\n\n        _proto.setScalar = function setScalar(scalar) {\n            this.x = scalar;\n            this.y = scalar;\n            return this;\n        };\n\n        _proto.setX = function setX(x) {\n            this.x = x;\n            return this;\n        };\n\n        _proto.setY = function setY(y) {\n            this.y = y;\n            return this;\n        };\n\n        _proto.setComponent = function setComponent(index, value) {\n            switch (index) {\n                case 0:\n                    this.x = value;\n                    break;\n\n                case 1:\n                    this.y = value;\n                    break;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n\n            return this;\n        };\n\n        _proto.getComponent = function getComponent(index) {\n            switch (index) {\n                case 0:\n                    return this.x;\n\n                case 1:\n                    return this.y;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.x, this.y);\n        };\n\n        _proto.copy = function copy(v) {\n            this.x = v.x;\n            this.y = v.y;\n            return this;\n        };\n\n        _proto.add = function add(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n                return this.addVectors(v, w);\n            }\n\n            this.x += v.x;\n            this.y += v.y;\n            return this;\n        };\n\n        _proto.addScalar = function addScalar(s) {\n            this.x += s;\n            this.y += s;\n            return this;\n        };\n\n        _proto.addVectors = function addVectors(a, b) {\n            this.x = a.x + b.x;\n            this.y = a.y + b.y;\n            return this;\n        };\n\n        _proto.addScaledVector = function addScaledVector(v, s) {\n            this.x += v.x * s;\n            this.y += v.y * s;\n            return this;\n        };\n\n        _proto.sub = function sub(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n                return this.subVectors(v, w);\n            }\n\n            this.x -= v.x;\n            this.y -= v.y;\n            return this;\n        };\n\n        _proto.subScalar = function subScalar(s) {\n            this.x -= s;\n            this.y -= s;\n            return this;\n        };\n\n        _proto.subVectors = function subVectors(a, b) {\n            this.x = a.x - b.x;\n            this.y = a.y - b.y;\n            return this;\n        };\n\n        _proto.multiply = function multiply(v) {\n            this.x *= v.x;\n            this.y *= v.y;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(scalar) {\n            this.x *= scalar;\n            this.y *= scalar;\n            return this;\n        };\n\n        _proto.divide = function divide(v) {\n            this.x /= v.x;\n            this.y /= v.y;\n            return this;\n        };\n\n        _proto.divideScalar = function divideScalar(scalar) {\n            return this.multiplyScalar(1 / scalar);\n        };\n\n        _proto.applyMatrix3 = function applyMatrix3(m) {\n            var x = this.x,\n                y = this.y;\n            var e = m.elements;\n            this.x = e[0] * x + e[3] * y + e[6];\n            this.y = e[1] * x + e[4] * y + e[7];\n            return this;\n        };\n\n        _proto.min = function min(v) {\n            this.x = Math.min(this.x, v.x);\n            this.y = Math.min(this.y, v.y);\n            return this;\n        };\n\n        _proto.max = function max(v) {\n            this.x = Math.max(this.x, v.x);\n            this.y = Math.max(this.y, v.y);\n            return this;\n        };\n\n        _proto.clamp = function clamp(min, max) {\n            // assumes min < max, componentwise\n            this.x = Math.max(min.x, Math.min(max.x, this.x));\n            this.y = Math.max(min.y, Math.min(max.y, this.y));\n            return this;\n        };\n\n        _proto.clampScalar = function clampScalar(minVal, maxVal) {\n            this.x = Math.max(minVal, Math.min(maxVal, this.x));\n            this.y = Math.max(minVal, Math.min(maxVal, this.y));\n            return this;\n        };\n\n        _proto.clampLength = function clampLength(min, max) {\n            var length = this.length();\n            return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n        };\n\n        _proto.floor = function floor() {\n            this.x = Math.floor(this.x);\n            this.y = Math.floor(this.y);\n            return this;\n        };\n\n        _proto.ceil = function ceil() {\n            this.x = Math.ceil(this.x);\n            this.y = Math.ceil(this.y);\n            return this;\n        };\n\n        _proto.round = function round() {\n            this.x = Math.round(this.x);\n            this.y = Math.round(this.y);\n            return this;\n        };\n\n        _proto.roundToZero = function roundToZero() {\n            this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n            return this;\n        };\n\n        _proto.negate = function negate() {\n            this.x = -this.x;\n            this.y = -this.y;\n            return this;\n        };\n\n        _proto.dot = function dot(v) {\n            return this.x * v.x + this.y * v.y;\n        };\n\n        _proto.cross = function cross(v) {\n            return this.x * v.y - this.y * v.x;\n        };\n\n        _proto.lengthSq = function lengthSq() {\n            return this.x * this.x + this.y * this.y;\n        };\n\n        _proto.length = function length() {\n            return Math.sqrt(this.x * this.x + this.y * this.y);\n        };\n\n        _proto.manhattanLength = function manhattanLength() {\n            return Math.abs(this.x) + Math.abs(this.y);\n        };\n\n        _proto.normalize = function normalize() {\n            return this.divideScalar(this.length() || 1);\n        };\n\n        _proto.angle = function angle() {\n            // computes the angle in radians with respect to the positive x-axis\n            var angle = Math.atan2(-this.y, -this.x) + Math.PI;\n            return angle;\n        };\n\n        _proto.distanceTo = function distanceTo(v) {\n            return Math.sqrt(this.distanceToSquared(v));\n        };\n\n        _proto.distanceToSquared = function distanceToSquared(v) {\n            var dx = this.x - v.x,\n                dy = this.y - v.y;\n            return dx * dx + dy * dy;\n        };\n\n        _proto.manhattanDistanceTo = function manhattanDistanceTo(v) {\n            return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n        };\n\n        _proto.setLength = function setLength(length) {\n            return this.normalize().multiplyScalar(length);\n        };\n\n        _proto.lerp = function lerp(v, alpha) {\n            this.x += (v.x - this.x) * alpha;\n            this.y += (v.y - this.y) * alpha;\n            return this;\n        };\n\n        _proto.lerpVectors = function lerpVectors(v1, v2, alpha) {\n            this.x = v1.x + (v2.x - v1.x) * alpha;\n            this.y = v1.y + (v2.y - v1.y) * alpha;\n            return this;\n        };\n\n        _proto.equals = function equals(v) {\n            return v.x === this.x && v.y === this.y;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === undefined) offset = 0;\n            this.x = array[offset];\n            this.y = array[offset + 1];\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            array[offset] = this.x;\n            array[offset + 1] = this.y;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index, offset) {\n            if (offset !== undefined) {\n                console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');\n            }\n\n            this.x = attribute.getX(index);\n            this.y = attribute.getY(index);\n            return this;\n        };\n\n        _proto.rotateAround = function rotateAround(center, angle) {\n            var c = Math.cos(angle),\n                s = Math.sin(angle);\n            var x = this.x - center.x;\n            var y = this.y - center.y;\n            this.x = x * c - y * s + center.x;\n            this.y = x * s + y * c + center.y;\n            return this;\n        };\n\n        _proto.random = function random() {\n            this.x = Math.random();\n            this.y = Math.random();\n            return this;\n        };\n\n        _createClass(Vector2, [{\n            key: \"width\",\n            get: function get() {\n                return this.x;\n            },\n            set: function set(value) {\n                this.x = value;\n            }\n        }, {\n            key: \"height\",\n            get: function get() {\n                return this.y;\n            },\n            set: function set(value) {\n                this.y = value;\n            }\n        }]);\n\n        return Vector2;\n    }();\n\n    var Matrix3 = /*#__PURE__*/function () {\n        function Matrix3() {\n            Object.defineProperty(this, 'isMatrix3', {\n                value: true\n            });\n            this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n            if (arguments.length > 0) {\n                console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');\n            }\n        }\n\n        var _proto = Matrix3.prototype;\n\n        _proto.set = function set(n11, n12, n13, n21, n22, n23, n31, n32, n33) {\n            var te = this.elements;\n            te[0] = n11;\n            te[1] = n21;\n            te[2] = n31;\n            te[3] = n12;\n            te[4] = n22;\n            te[5] = n32;\n            te[6] = n13;\n            te[7] = n23;\n            te[8] = n33;\n            return this;\n        };\n\n        _proto.identity = function identity() {\n            this.set(1, 0, 0, 0, 1, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().fromArray(this.elements);\n        };\n\n        _proto.copy = function copy(m) {\n            var te = this.elements;\n            var me = m.elements;\n            te[0] = me[0];\n            te[1] = me[1];\n            te[2] = me[2];\n            te[3] = me[3];\n            te[4] = me[4];\n            te[5] = me[5];\n            te[6] = me[6];\n            te[7] = me[7];\n            te[8] = me[8];\n            return this;\n        };\n\n        _proto.extractBasis = function extractBasis(xAxis, yAxis, zAxis) {\n            xAxis.setFromMatrix3Column(this, 0);\n            yAxis.setFromMatrix3Column(this, 1);\n            zAxis.setFromMatrix3Column(this, 2);\n            return this;\n        };\n\n        _proto.setFromMatrix4 = function setFromMatrix4(m) {\n            var me = m.elements;\n            this.set(me[0], me[4], me[8], me[1], me[5], me[9], me[2], me[6], me[10]);\n            return this;\n        };\n\n        _proto.multiply = function multiply(m) {\n            return this.multiplyMatrices(this, m);\n        };\n\n        _proto.premultiply = function premultiply(m) {\n            return this.multiplyMatrices(m, this);\n        };\n\n        _proto.multiplyMatrices = function multiplyMatrices(a, b) {\n            var ae = a.elements;\n            var be = b.elements;\n            var te = this.elements;\n            var a11 = ae[0],\n                a12 = ae[3],\n                a13 = ae[6];\n            var a21 = ae[1],\n                a22 = ae[4],\n                a23 = ae[7];\n            var a31 = ae[2],\n                a32 = ae[5],\n                a33 = ae[8];\n            var b11 = be[0],\n                b12 = be[3],\n                b13 = be[6];\n            var b21 = be[1],\n                b22 = be[4],\n                b23 = be[7];\n            var b31 = be[2],\n                b32 = be[5],\n                b33 = be[8];\n            te[0] = a11 * b11 + a12 * b21 + a13 * b31;\n            te[3] = a11 * b12 + a12 * b22 + a13 * b32;\n            te[6] = a11 * b13 + a12 * b23 + a13 * b33;\n            te[1] = a21 * b11 + a22 * b21 + a23 * b31;\n            te[4] = a21 * b12 + a22 * b22 + a23 * b32;\n            te[7] = a21 * b13 + a22 * b23 + a23 * b33;\n            te[2] = a31 * b11 + a32 * b21 + a33 * b31;\n            te[5] = a31 * b12 + a32 * b22 + a33 * b32;\n            te[8] = a31 * b13 + a32 * b23 + a33 * b33;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(s) {\n            var te = this.elements;\n            te[0] *= s;\n            te[3] *= s;\n            te[6] *= s;\n            te[1] *= s;\n            te[4] *= s;\n            te[7] *= s;\n            te[2] *= s;\n            te[5] *= s;\n            te[8] *= s;\n            return this;\n        };\n\n        _proto.determinant = function determinant() {\n            var te = this.elements;\n            var a = te[0],\n                b = te[1],\n                c = te[2],\n                d = te[3],\n                e = te[4],\n                f = te[5],\n                g = te[6],\n                h = te[7],\n                i = te[8];\n            return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n        };\n\n        _proto.getInverse = function getInverse(matrix, throwOnDegenerate) {\n            if (throwOnDegenerate !== undefined) {\n                console.warn(\"THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.\");\n            }\n\n            var me = matrix.elements,\n                te = this.elements,\n                n11 = me[0],\n                n21 = me[1],\n                n31 = me[2],\n                n12 = me[3],\n                n22 = me[4],\n                n32 = me[5],\n                n13 = me[6],\n                n23 = me[7],\n                n33 = me[8],\n                t11 = n33 * n22 - n32 * n23,\n                t12 = n32 * n13 - n33 * n12,\n                t13 = n23 * n12 - n22 * n13,\n                det = n11 * t11 + n21 * t12 + n31 * t13;\n            if (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);\n            var detInv = 1 / det;\n            te[0] = t11 * detInv;\n            te[1] = (n31 * n23 - n33 * n21) * detInv;\n            te[2] = (n32 * n21 - n31 * n22) * detInv;\n            te[3] = t12 * detInv;\n            te[4] = (n33 * n11 - n31 * n13) * detInv;\n            te[5] = (n31 * n12 - n32 * n11) * detInv;\n            te[6] = t13 * detInv;\n            te[7] = (n21 * n13 - n23 * n11) * detInv;\n            te[8] = (n22 * n11 - n21 * n12) * detInv;\n            return this;\n        };\n\n        _proto.transpose = function transpose() {\n            var tmp;\n            var m = this.elements;\n            tmp = m[1];\n            m[1] = m[3];\n            m[3] = tmp;\n            tmp = m[2];\n            m[2] = m[6];\n            m[6] = tmp;\n            tmp = m[5];\n            m[5] = m[7];\n            m[7] = tmp;\n            return this;\n        };\n\n        _proto.getNormalMatrix = function getNormalMatrix(matrix4) {\n            return this.setFromMatrix4(matrix4).getInverse(this).transpose();\n        };\n\n        _proto.transposeIntoArray = function transposeIntoArray(r) {\n            var m = this.elements;\n            r[0] = m[0];\n            r[1] = m[3];\n            r[2] = m[6];\n            r[3] = m[1];\n            r[4] = m[4];\n            r[5] = m[7];\n            r[6] = m[2];\n            r[7] = m[5];\n            r[8] = m[8];\n            return this;\n        };\n\n        _proto.setUvTransform = function setUvTransform(tx, ty, sx, sy, rotation, cx, cy) {\n            var c = Math.cos(rotation);\n            var s = Math.sin(rotation);\n            this.set(sx * c, sx * s, -sx * (c * cx + s * cy) + cx + tx, -sy * s, sy * c, -sy * (-s * cx + c * cy) + cy + ty, 0, 0, 1);\n        };\n\n        _proto.scale = function scale(sx, sy) {\n            var te = this.elements;\n            te[0] *= sx;\n            te[3] *= sx;\n            te[6] *= sx;\n            te[1] *= sy;\n            te[4] *= sy;\n            te[7] *= sy;\n            return this;\n        };\n\n        _proto.rotate = function rotate(theta) {\n            var c = Math.cos(theta);\n            var s = Math.sin(theta);\n            var te = this.elements;\n            var a11 = te[0],\n                a12 = te[3],\n                a13 = te[6];\n            var a21 = te[1],\n                a22 = te[4],\n                a23 = te[7];\n            te[0] = c * a11 + s * a21;\n            te[3] = c * a12 + s * a22;\n            te[6] = c * a13 + s * a23;\n            te[1] = -s * a11 + c * a21;\n            te[4] = -s * a12 + c * a22;\n            te[7] = -s * a13 + c * a23;\n            return this;\n        };\n\n        _proto.translate = function translate(tx, ty) {\n            var te = this.elements;\n            te[0] += tx * te[2];\n            te[3] += tx * te[5];\n            te[6] += tx * te[8];\n            te[1] += ty * te[2];\n            te[4] += ty * te[5];\n            te[7] += ty * te[8];\n            return this;\n        };\n\n        _proto.equals = function equals(matrix) {\n            var te = this.elements;\n            var me = matrix.elements;\n\n            for (var i = 0; i < 9; i++) {\n                if (te[i] !== me[i]) return false;\n            }\n\n            return true;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === undefined) offset = 0;\n\n            for (var i = 0; i < 9; i++) {\n                this.elements[i] = array[i + offset];\n            }\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            var te = this.elements;\n            array[offset] = te[0];\n            array[offset + 1] = te[1];\n            array[offset + 2] = te[2];\n            array[offset + 3] = te[3];\n            array[offset + 4] = te[4];\n            array[offset + 5] = te[5];\n            array[offset + 6] = te[6];\n            array[offset + 7] = te[7];\n            array[offset + 8] = te[8];\n            return array;\n        };\n\n        return Matrix3;\n    }();\n\n    var _canvas;\n\n    var ImageUtils = {\n        getDataURL: function getDataURL(image) {\n            if (/^data:/i.test(image.src)) {\n                return image.src;\n            }\n\n            if (typeof HTMLCanvasElement == 'undefined') {\n                return image.src;\n            }\n\n            var canvas;\n\n            if (image instanceof HTMLCanvasElement) {\n                canvas = image;\n            } else {\n                if (_canvas === undefined) _canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n                _canvas.width = image.width;\n                _canvas.height = image.height;\n\n                var context = _canvas.getContext('2d');\n\n                if (image instanceof ImageData) {\n                    context.putImageData(image, 0, 0);\n                } else {\n                    context.drawImage(image, 0, 0, image.width, image.height);\n                }\n\n                canvas = _canvas;\n            }\n\n            if (canvas.width > 2048 || canvas.height > 2048) {\n                return canvas.toDataURL('image/jpeg', 0.6);\n            } else {\n                return canvas.toDataURL('image/png');\n            }\n        }\n    };\n\n    var textureId = 0;\n\n    function Texture(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n        Object.defineProperty(this, 'id', {\n            value: textureId++\n        });\n        this.uuid = MathUtils.generateUUID();\n        this.name = '';\n        this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n        this.mipmaps = [];\n        this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n        this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n        this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n        this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n        this.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n        this.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n        this.format = format !== undefined ? format : RGBAFormat;\n        this.internalFormat = null;\n        this.type = type !== undefined ? type : UnsignedByteType;\n        this.offset = new Vector2(0, 0);\n        this.repeat = new Vector2(1, 1);\n        this.center = new Vector2(0, 0);\n        this.rotation = 0;\n        this.matrixAutoUpdate = true;\n        this.matrix = new Matrix3();\n        this.generateMipmaps = true;\n        this.premultiplyAlpha = false;\n        this.flipY = true;\n        this.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n        // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n        //\n        // Also changing the encoding after already used by a Material will not automatically make the Material\n        // update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\n        this.encoding = encoding !== undefined ? encoding : LinearEncoding;\n        this.version = 0;\n        this.onUpdate = null;\n    }\n\n    Texture.DEFAULT_IMAGE = undefined;\n    Texture.DEFAULT_MAPPING = UVMapping;\n    Texture.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: Texture,\n        isTexture: true,\n        updateMatrix: function updateMatrix() {\n            this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        copy: function copy(source) {\n            this.name = source.name;\n            this.image = source.image;\n            this.mipmaps = source.mipmaps.slice(0);\n            this.mapping = source.mapping;\n            this.wrapS = source.wrapS;\n            this.wrapT = source.wrapT;\n            this.magFilter = source.magFilter;\n            this.minFilter = source.minFilter;\n            this.anisotropy = source.anisotropy;\n            this.format = source.format;\n            this.internalFormat = source.internalFormat;\n            this.type = source.type;\n            this.offset.copy(source.offset);\n            this.repeat.copy(source.repeat);\n            this.center.copy(source.center);\n            this.rotation = source.rotation;\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\n            this.matrix.copy(source.matrix);\n            this.generateMipmaps = source.generateMipmaps;\n            this.premultiplyAlpha = source.premultiplyAlpha;\n            this.flipY = source.flipY;\n            this.unpackAlignment = source.unpackAlignment;\n            this.encoding = source.encoding;\n            return this;\n        },\n        toJSON: function toJSON(meta) {\n            var isRootObject = meta === undefined || typeof meta === 'string';\n\n            if (!isRootObject && meta.textures[this.uuid] !== undefined) {\n                return meta.textures[this.uuid];\n            }\n\n            var output = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Texture',\n                    generator: 'Texture.toJSON'\n                },\n                uuid: this.uuid,\n                name: this.name,\n                mapping: this.mapping,\n                repeat: [this.repeat.x, this.repeat.y],\n                offset: [this.offset.x, this.offset.y],\n                center: [this.center.x, this.center.y],\n                rotation: this.rotation,\n                wrap: [this.wrapS, this.wrapT],\n                format: this.format,\n                type: this.type,\n                encoding: this.encoding,\n                minFilter: this.minFilter,\n                magFilter: this.magFilter,\n                anisotropy: this.anisotropy,\n                flipY: this.flipY,\n                premultiplyAlpha: this.premultiplyAlpha,\n                unpackAlignment: this.unpackAlignment\n            };\n\n            if (this.image !== undefined) {\n                // TODO: Move to THREE.Image\n                var image = this.image;\n\n                if (image.uuid === undefined) {\n                    image.uuid = MathUtils.generateUUID(); // UGH\n                }\n\n                if (!isRootObject && meta.images[image.uuid] === undefined) {\n                    var url;\n\n                    if (Array.isArray(image)) {\n                        // process array of images e.g. CubeTexture\n                        url = [];\n\n                        for (var i = 0, l = image.length; i < l; i++) {\n                            url.push(ImageUtils.getDataURL(image[i]));\n                        }\n                    } else {\n                        // process single image\n                        url = ImageUtils.getDataURL(image);\n                    }\n\n                    meta.images[image.uuid] = {\n                        uuid: image.uuid,\n                        url: url\n                    };\n                }\n\n                output.image = image.uuid;\n            }\n\n            if (!isRootObject) {\n                meta.textures[this.uuid] = output;\n            }\n\n            return output;\n        },\n        dispose: function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        },\n        transformUv: function transformUv(uv) {\n            if (this.mapping !== UVMapping) return uv;\n            uv.applyMatrix3(this.matrix);\n\n            if (uv.x < 0 || uv.x > 1) {\n                switch (this.wrapS) {\n                    case RepeatWrapping:\n                        uv.x = uv.x - Math.floor(uv.x);\n                        break;\n\n                    case ClampToEdgeWrapping:\n                        uv.x = uv.x < 0 ? 0 : 1;\n                        break;\n\n                    case MirroredRepeatWrapping:\n                        if (Math.abs(Math.floor(uv.x) % 2) === 1) {\n                            uv.x = Math.ceil(uv.x) - uv.x;\n                        } else {\n                            uv.x = uv.x - Math.floor(uv.x);\n                        }\n\n                        break;\n                }\n            }\n\n            if (uv.y < 0 || uv.y > 1) {\n                switch (this.wrapT) {\n                    case RepeatWrapping:\n                        uv.y = uv.y - Math.floor(uv.y);\n                        break;\n\n                    case ClampToEdgeWrapping:\n                        uv.y = uv.y < 0 ? 0 : 1;\n                        break;\n\n                    case MirroredRepeatWrapping:\n                        if (Math.abs(Math.floor(uv.y) % 2) === 1) {\n                            uv.y = Math.ceil(uv.y) - uv.y;\n                        } else {\n                            uv.y = uv.y - Math.floor(uv.y);\n                        }\n\n                        break;\n                }\n            }\n\n            if (this.flipY) {\n                uv.y = 1 - uv.y;\n            }\n\n            return uv;\n        }\n    });\n    Object.defineProperty(Texture.prototype, \"needsUpdate\", {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n\n    var Vector4 = /*#__PURE__*/function () {\n        function Vector4(x, y, z, w) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            if (z === void 0) {\n                z = 0;\n            }\n\n            if (w === void 0) {\n                w = 1;\n            }\n\n            Object.defineProperty(this, 'isVector4', {\n                value: true\n            });\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n        }\n\n        var _proto = Vector4.prototype;\n\n        _proto.set = function set(x, y, z, w) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n            return this;\n        };\n\n        _proto.setScalar = function setScalar(scalar) {\n            this.x = scalar;\n            this.y = scalar;\n            this.z = scalar;\n            this.w = scalar;\n            return this;\n        };\n\n        _proto.setX = function setX(x) {\n            this.x = x;\n            return this;\n        };\n\n        _proto.setY = function setY(y) {\n            this.y = y;\n            return this;\n        };\n\n        _proto.setZ = function setZ(z) {\n            this.z = z;\n            return this;\n        };\n\n        _proto.setW = function setW(w) {\n            this.w = w;\n            return this;\n        };\n\n        _proto.setComponent = function setComponent(index, value) {\n            switch (index) {\n                case 0:\n                    this.x = value;\n                    break;\n\n                case 1:\n                    this.y = value;\n                    break;\n\n                case 2:\n                    this.z = value;\n                    break;\n\n                case 3:\n                    this.w = value;\n                    break;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n\n            return this;\n        };\n\n        _proto.getComponent = function getComponent(index) {\n            switch (index) {\n                case 0:\n                    return this.x;\n\n                case 1:\n                    return this.y;\n\n                case 2:\n                    return this.z;\n\n                case 3:\n                    return this.w;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.x, this.y, this.z, this.w);\n        };\n\n        _proto.copy = function copy(v) {\n            this.x = v.x;\n            this.y = v.y;\n            this.z = v.z;\n            this.w = v.w !== undefined ? v.w : 1;\n            return this;\n        };\n\n        _proto.add = function add(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n                return this.addVectors(v, w);\n            }\n\n            this.x += v.x;\n            this.y += v.y;\n            this.z += v.z;\n            this.w += v.w;\n            return this;\n        };\n\n        _proto.addScalar = function addScalar(s) {\n            this.x += s;\n            this.y += s;\n            this.z += s;\n            this.w += s;\n            return this;\n        };\n\n        _proto.addVectors = function addVectors(a, b) {\n            this.x = a.x + b.x;\n            this.y = a.y + b.y;\n            this.z = a.z + b.z;\n            this.w = a.w + b.w;\n            return this;\n        };\n\n        _proto.addScaledVector = function addScaledVector(v, s) {\n            this.x += v.x * s;\n            this.y += v.y * s;\n            this.z += v.z * s;\n            this.w += v.w * s;\n            return this;\n        };\n\n        _proto.sub = function sub(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n                return this.subVectors(v, w);\n            }\n\n            this.x -= v.x;\n            this.y -= v.y;\n            this.z -= v.z;\n            this.w -= v.w;\n            return this;\n        };\n\n        _proto.subScalar = function subScalar(s) {\n            this.x -= s;\n            this.y -= s;\n            this.z -= s;\n            this.w -= s;\n            return this;\n        };\n\n        _proto.subVectors = function subVectors(a, b) {\n            this.x = a.x - b.x;\n            this.y = a.y - b.y;\n            this.z = a.z - b.z;\n            this.w = a.w - b.w;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(scalar) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n            this.w *= scalar;\n            return this;\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(m) {\n            var x = this.x,\n                y = this.y,\n                z = this.z,\n                w = this.w;\n            var e = m.elements;\n            this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n            this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n            this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n            this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n            return this;\n        };\n\n        _proto.divideScalar = function divideScalar(scalar) {\n            return this.multiplyScalar(1 / scalar);\n        };\n\n        _proto.setAxisAngleFromQuaternion = function setAxisAngleFromQuaternion(q) {\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n            // q is assumed to be normalized\n            this.w = 2 * Math.acos(q.w);\n            var s = Math.sqrt(1 - q.w * q.w);\n\n            if (s < 0.0001) {\n                this.x = 1;\n                this.y = 0;\n                this.z = 0;\n            } else {\n                this.x = q.x / s;\n                this.y = q.y / s;\n                this.z = q.z / s;\n            }\n\n            return this;\n        };\n\n        _proto.setAxisAngleFromRotationMatrix = function setAxisAngleFromRotationMatrix(m) {\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n            var angle, x, y, z; // variables for result\n\n            var epsilon = 0.01,\n            // margin to allow for rounding errors\n                epsilon2 = 0.1,\n            // margin to distinguish between 0 and 180 degrees\n                te = m.elements,\n                m11 = te[0],\n                m12 = te[4],\n                m13 = te[8],\n                m21 = te[1],\n                m22 = te[5],\n                m23 = te[9],\n                m31 = te[2],\n                m32 = te[6],\n                m33 = te[10];\n\n            if (Math.abs(m12 - m21) < epsilon && Math.abs(m13 - m31) < epsilon && Math.abs(m23 - m32) < epsilon) {\n                // singularity found\n                // first check for identity matrix which must have +1 for all terms\n                // in leading diagonal and zero in other terms\n                if (Math.abs(m12 + m21) < epsilon2 && Math.abs(m13 + m31) < epsilon2 && Math.abs(m23 + m32) < epsilon2 && Math.abs(m11 + m22 + m33 - 3) < epsilon2) {\n                    // this singularity is identity matrix so angle = 0\n                    this.set(1, 0, 0, 0);\n                    return this; // zero angle, arbitrary axis\n                } // otherwise this singularity is angle = 180\n\n\n                angle = Math.PI;\n                var xx = (m11 + 1) / 2;\n                var yy = (m22 + 1) / 2;\n                var zz = (m33 + 1) / 2;\n                var xy = (m12 + m21) / 4;\n                var xz = (m13 + m31) / 4;\n                var yz = (m23 + m32) / 4;\n\n                if (xx > yy && xx > zz) {\n                    // m11 is the largest diagonal term\n                    if (xx < epsilon) {\n                        x = 0;\n                        y = 0.707106781;\n                        z = 0.707106781;\n                    } else {\n                        x = Math.sqrt(xx);\n                        y = xy / x;\n                        z = xz / x;\n                    }\n                } else if (yy > zz) {\n                    // m22 is the largest diagonal term\n                    if (yy < epsilon) {\n                        x = 0.707106781;\n                        y = 0;\n                        z = 0.707106781;\n                    } else {\n                        y = Math.sqrt(yy);\n                        x = xy / y;\n                        z = yz / y;\n                    }\n                } else {\n                    // m33 is the largest diagonal term so base result on this\n                    if (zz < epsilon) {\n                        x = 0.707106781;\n                        y = 0.707106781;\n                        z = 0;\n                    } else {\n                        z = Math.sqrt(zz);\n                        x = xz / z;\n                        y = yz / z;\n                    }\n                }\n\n                this.set(x, y, z, angle);\n                return this; // return 180 deg rotation\n            } // as we have reached here there are no singularities so we can handle normally\n\n\n            var s = Math.sqrt((m32 - m23) * (m32 - m23) + (m13 - m31) * (m13 - m31) + (m21 - m12) * (m21 - m12)); // used to normalize\n\n            if (Math.abs(s) < 0.001) s = 1; // prevent divide by zero, should not happen if matrix is orthogonal and should be\n            // caught by singularity test above, but I've left it in just in case\n\n            this.x = (m32 - m23) / s;\n            this.y = (m13 - m31) / s;\n            this.z = (m21 - m12) / s;\n            this.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n            return this;\n        };\n\n        _proto.min = function min(v) {\n            this.x = Math.min(this.x, v.x);\n            this.y = Math.min(this.y, v.y);\n            this.z = Math.min(this.z, v.z);\n            this.w = Math.min(this.w, v.w);\n            return this;\n        };\n\n        _proto.max = function max(v) {\n            this.x = Math.max(this.x, v.x);\n            this.y = Math.max(this.y, v.y);\n            this.z = Math.max(this.z, v.z);\n            this.w = Math.max(this.w, v.w);\n            return this;\n        };\n\n        _proto.clamp = function clamp(min, max) {\n            // assumes min < max, componentwise\n            this.x = Math.max(min.x, Math.min(max.x, this.x));\n            this.y = Math.max(min.y, Math.min(max.y, this.y));\n            this.z = Math.max(min.z, Math.min(max.z, this.z));\n            this.w = Math.max(min.w, Math.min(max.w, this.w));\n            return this;\n        };\n\n        _proto.clampScalar = function clampScalar(minVal, maxVal) {\n            this.x = Math.max(minVal, Math.min(maxVal, this.x));\n            this.y = Math.max(minVal, Math.min(maxVal, this.y));\n            this.z = Math.max(minVal, Math.min(maxVal, this.z));\n            this.w = Math.max(minVal, Math.min(maxVal, this.w));\n            return this;\n        };\n\n        _proto.clampLength = function clampLength(min, max) {\n            var length = this.length();\n            return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n        };\n\n        _proto.floor = function floor() {\n            this.x = Math.floor(this.x);\n            this.y = Math.floor(this.y);\n            this.z = Math.floor(this.z);\n            this.w = Math.floor(this.w);\n            return this;\n        };\n\n        _proto.ceil = function ceil() {\n            this.x = Math.ceil(this.x);\n            this.y = Math.ceil(this.y);\n            this.z = Math.ceil(this.z);\n            this.w = Math.ceil(this.w);\n            return this;\n        };\n\n        _proto.round = function round() {\n            this.x = Math.round(this.x);\n            this.y = Math.round(this.y);\n            this.z = Math.round(this.z);\n            this.w = Math.round(this.w);\n            return this;\n        };\n\n        _proto.roundToZero = function roundToZero() {\n            this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n            this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w);\n            return this;\n        };\n\n        _proto.negate = function negate() {\n            this.x = -this.x;\n            this.y = -this.y;\n            this.z = -this.z;\n            this.w = -this.w;\n            return this;\n        };\n\n        _proto.dot = function dot(v) {\n            return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n        };\n\n        _proto.lengthSq = function lengthSq() {\n            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n        };\n\n        _proto.length = function length() {\n            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n        };\n\n        _proto.manhattanLength = function manhattanLength() {\n            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\n        };\n\n        _proto.normalize = function normalize() {\n            return this.divideScalar(this.length() || 1);\n        };\n\n        _proto.setLength = function setLength(length) {\n            return this.normalize().multiplyScalar(length);\n        };\n\n        _proto.lerp = function lerp(v, alpha) {\n            this.x += (v.x - this.x) * alpha;\n            this.y += (v.y - this.y) * alpha;\n            this.z += (v.z - this.z) * alpha;\n            this.w += (v.w - this.w) * alpha;\n            return this;\n        };\n\n        _proto.lerpVectors = function lerpVectors(v1, v2, alpha) {\n            this.x = v1.x + (v2.x - v1.x) * alpha;\n            this.y = v1.y + (v2.y - v1.y) * alpha;\n            this.z = v1.z + (v2.z - v1.z) * alpha;\n            this.w = v1.w + (v2.w - v1.w) * alpha;\n            return this;\n        };\n\n        _proto.equals = function equals(v) {\n            return v.x === this.x && v.y === this.y && v.z === this.z && v.w === this.w;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === undefined) offset = 0;\n            this.x = array[offset];\n            this.y = array[offset + 1];\n            this.z = array[offset + 2];\n            this.w = array[offset + 3];\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            array[offset] = this.x;\n            array[offset + 1] = this.y;\n            array[offset + 2] = this.z;\n            array[offset + 3] = this.w;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index, offset) {\n            if (offset !== undefined) {\n                console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');\n            }\n\n            this.x = attribute.getX(index);\n            this.y = attribute.getY(index);\n            this.z = attribute.getZ(index);\n            this.w = attribute.getW(index);\n            return this;\n        };\n\n        _proto.random = function random() {\n            this.x = Math.random();\n            this.y = Math.random();\n            this.z = Math.random();\n            this.w = Math.random();\n            return this;\n        };\n\n        _createClass(Vector4, [{\n            key: \"width\",\n            get: function get() {\n                return this.z;\n            },\n            set: function set(value) {\n                this.z = value;\n            }\n        }, {\n            key: \"height\",\n            get: function get() {\n                return this.w;\n            },\n            set: function set(value) {\n                this.w = value;\n            }\n        }]);\n\n        return Vector4;\n    }();\n\n    /*\n     In options, we can specify:\n     * Texture parameters for an auto-generated target texture\n     * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n     */\n\n    function WebGLRenderTarget(width, height, options) {\n        this.width = width;\n        this.height = height;\n        this.scissor = new Vector4(0, 0, width, height);\n        this.scissorTest = false;\n        this.viewport = new Vector4(0, 0, width, height);\n        options = options || {};\n        this.texture = new Texture(undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n        this.texture.image = {};\n        this.texture.image.width = width;\n        this.texture.image.height = height;\n        this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n        this.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n        this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n        this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n        this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n    }\n\n    WebGLRenderTarget.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: WebGLRenderTarget,\n        isWebGLRenderTarget: true,\n        setSize: function setSize(width, height) {\n            if (this.width !== width || this.height !== height) {\n                this.width = width;\n                this.height = height;\n                this.texture.image.width = width;\n                this.texture.image.height = height;\n                this.dispose();\n            }\n\n            this.viewport.set(0, 0, width, height);\n            this.scissor.set(0, 0, width, height);\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        copy: function copy(source) {\n            this.width = source.width;\n            this.height = source.height;\n            this.viewport.copy(source.viewport);\n            this.texture = source.texture.clone();\n            this.depthBuffer = source.depthBuffer;\n            this.stencilBuffer = source.stencilBuffer;\n            this.depthTexture = source.depthTexture;\n            return this;\n        },\n        dispose: function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        }\n    });\n\n    function WebGLMultisampleRenderTarget(width, height, options) {\n        WebGLRenderTarget.call(this, width, height, options);\n        this.samples = 4;\n    }\n\n    WebGLMultisampleRenderTarget.prototype = Object.assign(Object.create(WebGLRenderTarget.prototype), {\n        constructor: WebGLMultisampleRenderTarget,\n        isWebGLMultisampleRenderTarget: true,\n        copy: function copy(source) {\n            WebGLRenderTarget.prototype.copy.call(this, source);\n            this.samples = source.samples;\n            return this;\n        }\n    });\n\n    var Quaternion = /*#__PURE__*/function () {\n        function Quaternion(x, y, z, w) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            if (z === void 0) {\n                z = 0;\n            }\n\n            if (w === void 0) {\n                w = 1;\n            }\n\n            Object.defineProperty(this, 'isQuaternion', {\n                value: true\n            });\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            this._w = w;\n        }\n\n        Quaternion.slerp = function slerp(qa, qb, qm, t) {\n            return qm.copy(qa).slerp(qb, t);\n        };\n\n        Quaternion.slerpFlat = function slerpFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {\n            // fuzz-free, array-based Quaternion SLERP operation\n            var x0 = src0[srcOffset0 + 0],\n                y0 = src0[srcOffset0 + 1],\n                z0 = src0[srcOffset0 + 2],\n                w0 = src0[srcOffset0 + 3];\n            var x1 = src1[srcOffset1 + 0],\n                y1 = src1[srcOffset1 + 1],\n                z1 = src1[srcOffset1 + 2],\n                w1 = src1[srcOffset1 + 3];\n\n            if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n                var s = 1 - t;\n                var cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n                    dir = cos >= 0 ? 1 : -1,\n                    sqrSin = 1 - cos * cos; // Skip the Slerp for tiny steps to avoid numeric problems:\n\n                if (sqrSin > Number.EPSILON) {\n                    var sin = Math.sqrt(sqrSin),\n                        len = Math.atan2(sin, cos * dir);\n                    s = Math.sin(s * len) / sin;\n                    t = Math.sin(t * len) / sin;\n                }\n\n                var tDir = t * dir;\n                x0 = x0 * s + x1 * tDir;\n                y0 = y0 * s + y1 * tDir;\n                z0 = z0 * s + z1 * tDir;\n                w0 = w0 * s + w1 * tDir; // Normalize in case we just did a lerp:\n\n                if (s === 1 - t) {\n                    var f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n                    x0 *= f;\n                    y0 *= f;\n                    z0 *= f;\n                    w0 *= f;\n                }\n            }\n\n            dst[dstOffset] = x0;\n            dst[dstOffset + 1] = y0;\n            dst[dstOffset + 2] = z0;\n            dst[dstOffset + 3] = w0;\n        };\n\n        Quaternion.multiplyQuaternionsFlat = function multiplyQuaternionsFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1) {\n            var x0 = src0[srcOffset0];\n            var y0 = src0[srcOffset0 + 1];\n            var z0 = src0[srcOffset0 + 2];\n            var w0 = src0[srcOffset0 + 3];\n            var x1 = src1[srcOffset1];\n            var y1 = src1[srcOffset1 + 1];\n            var z1 = src1[srcOffset1 + 2];\n            var w1 = src1[srcOffset1 + 3];\n            dst[dstOffset] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n            dst[dstOffset + 1] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n            dst[dstOffset + 2] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n            dst[dstOffset + 3] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n            return dst;\n        };\n\n        var _proto = Quaternion.prototype;\n\n        _proto.set = function set(x, y, z, w) {\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            this._w = w;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this._x, this._y, this._z, this._w);\n        };\n\n        _proto.copy = function copy(quaternion) {\n            this._x = quaternion.x;\n            this._y = quaternion.y;\n            this._z = quaternion.z;\n            this._w = quaternion.w;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.setFromEuler = function setFromEuler(euler, update) {\n            if (!(euler && euler.isEuler)) {\n                throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');\n            }\n\n            var x = euler._x,\n                y = euler._y,\n                z = euler._z,\n                order = euler._order; // http://www.mathworks.com/matlabcentral/fileexchange/\n            // \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n            //\tcontent/SpinCalc.m\n\n            var cos = Math.cos;\n            var sin = Math.sin;\n            var c1 = cos(x / 2);\n            var c2 = cos(y / 2);\n            var c3 = cos(z / 2);\n            var s1 = sin(x / 2);\n            var s2 = sin(y / 2);\n            var s3 = sin(z / 2);\n\n            switch (order) {\n                case 'XYZ':\n                    this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                    break;\n\n                case 'YXZ':\n                    this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                    break;\n\n                case 'ZXY':\n                    this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                    break;\n\n                case 'ZYX':\n                    this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                    break;\n\n                case 'YZX':\n                    this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                    break;\n\n                case 'XZY':\n                    this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                    break;\n\n                default:\n                    console.warn('THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order);\n            }\n\n            if (update !== false) this._onChangeCallback();\n            return this;\n        };\n\n        _proto.setFromAxisAngle = function setFromAxisAngle(axis, angle) {\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n            // assumes axis is normalized\n            var halfAngle = angle / 2,\n                s = Math.sin(halfAngle);\n            this._x = axis.x * s;\n            this._y = axis.y * s;\n            this._z = axis.z * s;\n            this._w = Math.cos(halfAngle);\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.setFromRotationMatrix = function setFromRotationMatrix(m) {\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n            var te = m.elements,\n                m11 = te[0],\n                m12 = te[4],\n                m13 = te[8],\n                m21 = te[1],\n                m22 = te[5],\n                m23 = te[9],\n                m31 = te[2],\n                m32 = te[6],\n                m33 = te[10],\n                trace = m11 + m22 + m33;\n\n            if (trace > 0) {\n                var s = 0.5 / Math.sqrt(trace + 1.0);\n                this._w = 0.25 / s;\n                this._x = (m32 - m23) * s;\n                this._y = (m13 - m31) * s;\n                this._z = (m21 - m12) * s;\n            } else if (m11 > m22 && m11 > m33) {\n                var _s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n\n                this._w = (m32 - m23) / _s;\n                this._x = 0.25 * _s;\n                this._y = (m12 + m21) / _s;\n                this._z = (m13 + m31) / _s;\n            } else if (m22 > m33) {\n                var _s2 = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n\n                this._w = (m13 - m31) / _s2;\n                this._x = (m12 + m21) / _s2;\n                this._y = 0.25 * _s2;\n                this._z = (m23 + m32) / _s2;\n            } else {\n                var _s3 = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n\n                this._w = (m21 - m12) / _s3;\n                this._x = (m13 + m31) / _s3;\n                this._y = (m23 + m32) / _s3;\n                this._z = 0.25 * _s3;\n            }\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.setFromUnitVectors = function setFromUnitVectors(vFrom, vTo) {\n            // assumes direction vectors vFrom and vTo are normalized\n            var EPS = 0.000001;\n            var r = vFrom.dot(vTo) + 1;\n\n            if (r < EPS) {\n                r = 0;\n\n                if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n                    this._x = -vFrom.y;\n                    this._y = vFrom.x;\n                    this._z = 0;\n                    this._w = r;\n                } else {\n                    this._x = 0;\n                    this._y = -vFrom.z;\n                    this._z = vFrom.y;\n                    this._w = r;\n                }\n            } else {\n                // crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n                this._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n                this._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n                this._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n                this._w = r;\n            }\n\n            return this.normalize();\n        };\n\n        _proto.angleTo = function angleTo(q) {\n            return 2 * Math.acos(Math.abs(MathUtils.clamp(this.dot(q), -1, 1)));\n        };\n\n        _proto.rotateTowards = function rotateTowards(q, step) {\n            var angle = this.angleTo(q);\n            if (angle === 0) return this;\n            var t = Math.min(1, step / angle);\n            this.slerp(q, t);\n            return this;\n        };\n\n        _proto.identity = function identity() {\n            return this.set(0, 0, 0, 1);\n        };\n\n        _proto.inverse = function inverse() {\n            // quaternion is assumed to have unit length\n            return this.conjugate();\n        };\n\n        _proto.conjugate = function conjugate() {\n            this._x *= -1;\n            this._y *= -1;\n            this._z *= -1;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.dot = function dot(v) {\n            return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n        };\n\n        _proto.lengthSq = function lengthSq() {\n            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n        };\n\n        _proto.length = function length() {\n            return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n        };\n\n        _proto.normalize = function normalize() {\n            var l = this.length();\n\n            if (l === 0) {\n                this._x = 0;\n                this._y = 0;\n                this._z = 0;\n                this._w = 1;\n            } else {\n                l = 1 / l;\n                this._x = this._x * l;\n                this._y = this._y * l;\n                this._z = this._z * l;\n                this._w = this._w * l;\n            }\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.multiply = function multiply(q, p) {\n            if (p !== undefined) {\n                console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');\n                return this.multiplyQuaternions(q, p);\n            }\n\n            return this.multiplyQuaternions(this, q);\n        };\n\n        _proto.premultiply = function premultiply(q) {\n            return this.multiplyQuaternions(q, this);\n        };\n\n        _proto.multiplyQuaternions = function multiplyQuaternions(a, b) {\n            // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n            var qax = a._x,\n                qay = a._y,\n                qaz = a._z,\n                qaw = a._w;\n            var qbx = b._x,\n                qby = b._y,\n                qbz = b._z,\n                qbw = b._w;\n            this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n            this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n            this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n            this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.slerp = function slerp(qb, t) {\n            if (t === 0) return this;\n            if (t === 1) return this.copy(qb);\n            var x = this._x,\n                y = this._y,\n                z = this._z,\n                w = this._w; // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n            var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n            if (cosHalfTheta < 0) {\n                this._w = -qb._w;\n                this._x = -qb._x;\n                this._y = -qb._y;\n                this._z = -qb._z;\n                cosHalfTheta = -cosHalfTheta;\n            } else {\n                this.copy(qb);\n            }\n\n            if (cosHalfTheta >= 1.0) {\n                this._w = w;\n                this._x = x;\n                this._y = y;\n                this._z = z;\n                return this;\n            }\n\n            var sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n            if (sqrSinHalfTheta <= Number.EPSILON) {\n                var s = 1 - t;\n                this._w = s * w + t * this._w;\n                this._x = s * x + t * this._x;\n                this._y = s * y + t * this._y;\n                this._z = s * z + t * this._z;\n                this.normalize();\n\n                this._onChangeCallback();\n\n                return this;\n            }\n\n            var sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\n            var halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n            var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n                ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n            this._w = w * ratioA + this._w * ratioB;\n            this._x = x * ratioA + this._x * ratioB;\n            this._y = y * ratioA + this._y * ratioB;\n            this._z = z * ratioA + this._z * ratioB;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.equals = function equals(quaternion) {\n            return quaternion._x === this._x && quaternion._y === this._y && quaternion._z === this._z && quaternion._w === this._w;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === undefined) offset = 0;\n            this._x = array[offset];\n            this._y = array[offset + 1];\n            this._z = array[offset + 2];\n            this._w = array[offset + 3];\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            array[offset] = this._x;\n            array[offset + 1] = this._y;\n            array[offset + 2] = this._z;\n            array[offset + 3] = this._w;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index) {\n            this._x = attribute.getX(index);\n            this._y = attribute.getY(index);\n            this._z = attribute.getZ(index);\n            this._w = attribute.getW(index);\n            return this;\n        };\n\n        _proto._onChange = function _onChange(callback) {\n            this._onChangeCallback = callback;\n            return this;\n        };\n\n        _proto._onChangeCallback = function _onChangeCallback() {};\n\n        _createClass(Quaternion, [{\n            key: \"x\",\n            get: function get() {\n                return this._x;\n            },\n            set: function set(value) {\n                this._x = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"y\",\n            get: function get() {\n                return this._y;\n            },\n            set: function set(value) {\n                this._y = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"z\",\n            get: function get() {\n                return this._z;\n            },\n            set: function set(value) {\n                this._z = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"w\",\n            get: function get() {\n                return this._w;\n            },\n            set: function set(value) {\n                this._w = value;\n\n                this._onChangeCallback();\n            }\n        }]);\n\n        return Quaternion;\n    }();\n\n    var Vector3 = /*#__PURE__*/function () {\n        function Vector3(x, y, z) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            if (z === void 0) {\n                z = 0;\n            }\n\n            Object.defineProperty(this, 'isVector3', {\n                value: true\n            });\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n\n        var _proto = Vector3.prototype;\n\n        _proto.set = function set(x, y, z) {\n            if (z === undefined) z = this.z; // sprite.scale.set(x,y)\n\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            return this;\n        };\n\n        _proto.setScalar = function setScalar(scalar) {\n            this.x = scalar;\n            this.y = scalar;\n            this.z = scalar;\n            return this;\n        };\n\n        _proto.setX = function setX(x) {\n            this.x = x;\n            return this;\n        };\n\n        _proto.setY = function setY(y) {\n            this.y = y;\n            return this;\n        };\n\n        _proto.setZ = function setZ(z) {\n            this.z = z;\n            return this;\n        };\n\n        _proto.setComponent = function setComponent(index, value) {\n            switch (index) {\n                case 0:\n                    this.x = value;\n                    break;\n\n                case 1:\n                    this.y = value;\n                    break;\n\n                case 2:\n                    this.z = value;\n                    break;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n\n            return this;\n        };\n\n        _proto.getComponent = function getComponent(index) {\n            switch (index) {\n                case 0:\n                    return this.x;\n\n                case 1:\n                    return this.y;\n\n                case 2:\n                    return this.z;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.x, this.y, this.z);\n        };\n\n        _proto.copy = function copy(v) {\n            this.x = v.x;\n            this.y = v.y;\n            this.z = v.z;\n            return this;\n        };\n\n        _proto.add = function add(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n                return this.addVectors(v, w);\n            }\n\n            this.x += v.x;\n            this.y += v.y;\n            this.z += v.z;\n            return this;\n        };\n\n        _proto.addScalar = function addScalar(s) {\n            this.x += s;\n            this.y += s;\n            this.z += s;\n            return this;\n        };\n\n        _proto.addVectors = function addVectors(a, b) {\n            this.x = a.x + b.x;\n            this.y = a.y + b.y;\n            this.z = a.z + b.z;\n            return this;\n        };\n\n        _proto.addScaledVector = function addScaledVector(v, s) {\n            this.x += v.x * s;\n            this.y += v.y * s;\n            this.z += v.z * s;\n            return this;\n        };\n\n        _proto.sub = function sub(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n                return this.subVectors(v, w);\n            }\n\n            this.x -= v.x;\n            this.y -= v.y;\n            this.z -= v.z;\n            return this;\n        };\n\n        _proto.subScalar = function subScalar(s) {\n            this.x -= s;\n            this.y -= s;\n            this.z -= s;\n            return this;\n        };\n\n        _proto.subVectors = function subVectors(a, b) {\n            this.x = a.x - b.x;\n            this.y = a.y - b.y;\n            this.z = a.z - b.z;\n            return this;\n        };\n\n        _proto.multiply = function multiply(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');\n                return this.multiplyVectors(v, w);\n            }\n\n            this.x *= v.x;\n            this.y *= v.y;\n            this.z *= v.z;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(scalar) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n            return this;\n        };\n\n        _proto.multiplyVectors = function multiplyVectors(a, b) {\n            this.x = a.x * b.x;\n            this.y = a.y * b.y;\n            this.z = a.z * b.z;\n            return this;\n        };\n\n        _proto.applyEuler = function applyEuler(euler) {\n            if (!(euler && euler.isEuler)) {\n                console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');\n            }\n\n            return this.applyQuaternion(_quaternion.setFromEuler(euler));\n        };\n\n        _proto.applyAxisAngle = function applyAxisAngle(axis, angle) {\n            return this.applyQuaternion(_quaternion.setFromAxisAngle(axis, angle));\n        };\n\n        _proto.applyMatrix3 = function applyMatrix3(m) {\n            var x = this.x,\n                y = this.y,\n                z = this.z;\n            var e = m.elements;\n            this.x = e[0] * x + e[3] * y + e[6] * z;\n            this.y = e[1] * x + e[4] * y + e[7] * z;\n            this.z = e[2] * x + e[5] * y + e[8] * z;\n            return this;\n        };\n\n        _proto.applyNormalMatrix = function applyNormalMatrix(m) {\n            return this.applyMatrix3(m).normalize();\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(m) {\n            var x = this.x,\n                y = this.y,\n                z = this.z;\n            var e = m.elements;\n            var w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n            this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;\n            this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;\n            this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;\n            return this;\n        };\n\n        _proto.applyQuaternion = function applyQuaternion(q) {\n            var x = this.x,\n                y = this.y,\n                z = this.z;\n            var qx = q.x,\n                qy = q.y,\n                qz = q.z,\n                qw = q.w; // calculate quat * vector\n\n            var ix = qw * x + qy * z - qz * y;\n            var iy = qw * y + qz * x - qx * z;\n            var iz = qw * z + qx * y - qy * x;\n            var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n            this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n            this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n            this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n            return this;\n        };\n\n        _proto.project = function project(camera) {\n            return this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(camera.projectionMatrix);\n        };\n\n        _proto.unproject = function unproject(camera) {\n            return this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(camera.matrixWorld);\n        };\n\n        _proto.transformDirection = function transformDirection(m) {\n            // input: THREE.Matrix4 affine matrix\n            // vector interpreted as a direction\n            var x = this.x,\n                y = this.y,\n                z = this.z;\n            var e = m.elements;\n            this.x = e[0] * x + e[4] * y + e[8] * z;\n            this.y = e[1] * x + e[5] * y + e[9] * z;\n            this.z = e[2] * x + e[6] * y + e[10] * z;\n            return this.normalize();\n        };\n\n        _proto.divide = function divide(v) {\n            this.x /= v.x;\n            this.y /= v.y;\n            this.z /= v.z;\n            return this;\n        };\n\n        _proto.divideScalar = function divideScalar(scalar) {\n            return this.multiplyScalar(1 / scalar);\n        };\n\n        _proto.min = function min(v) {\n            this.x = Math.min(this.x, v.x);\n            this.y = Math.min(this.y, v.y);\n            this.z = Math.min(this.z, v.z);\n            return this;\n        };\n\n        _proto.max = function max(v) {\n            this.x = Math.max(this.x, v.x);\n            this.y = Math.max(this.y, v.y);\n            this.z = Math.max(this.z, v.z);\n            return this;\n        };\n\n        _proto.clamp = function clamp(min, max) {\n            // assumes min < max, componentwise\n            this.x = Math.max(min.x, Math.min(max.x, this.x));\n            this.y = Math.max(min.y, Math.min(max.y, this.y));\n            this.z = Math.max(min.z, Math.min(max.z, this.z));\n            return this;\n        };\n\n        _proto.clampScalar = function clampScalar(minVal, maxVal) {\n            this.x = Math.max(minVal, Math.min(maxVal, this.x));\n            this.y = Math.max(minVal, Math.min(maxVal, this.y));\n            this.z = Math.max(minVal, Math.min(maxVal, this.z));\n            return this;\n        };\n\n        _proto.clampLength = function clampLength(min, max) {\n            var length = this.length();\n            return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n        };\n\n        _proto.floor = function floor() {\n            this.x = Math.floor(this.x);\n            this.y = Math.floor(this.y);\n            this.z = Math.floor(this.z);\n            return this;\n        };\n\n        _proto.ceil = function ceil() {\n            this.x = Math.ceil(this.x);\n            this.y = Math.ceil(this.y);\n            this.z = Math.ceil(this.z);\n            return this;\n        };\n\n        _proto.round = function round() {\n            this.x = Math.round(this.x);\n            this.y = Math.round(this.y);\n            this.z = Math.round(this.z);\n            return this;\n        };\n\n        _proto.roundToZero = function roundToZero() {\n            this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n            return this;\n        };\n\n        _proto.negate = function negate() {\n            this.x = -this.x;\n            this.y = -this.y;\n            this.z = -this.z;\n            return this;\n        };\n\n        _proto.dot = function dot(v) {\n            return this.x * v.x + this.y * v.y + this.z * v.z;\n        } // TODO lengthSquared?\n        ;\n\n        _proto.lengthSq = function lengthSq() {\n            return this.x * this.x + this.y * this.y + this.z * this.z;\n        };\n\n        _proto.length = function length() {\n            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n        };\n\n        _proto.manhattanLength = function manhattanLength() {\n            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n        };\n\n        _proto.normalize = function normalize() {\n            return this.divideScalar(this.length() || 1);\n        };\n\n        _proto.setLength = function setLength(length) {\n            return this.normalize().multiplyScalar(length);\n        };\n\n        _proto.lerp = function lerp(v, alpha) {\n            this.x += (v.x - this.x) * alpha;\n            this.y += (v.y - this.y) * alpha;\n            this.z += (v.z - this.z) * alpha;\n            return this;\n        };\n\n        _proto.lerpVectors = function lerpVectors(v1, v2, alpha) {\n            this.x = v1.x + (v2.x - v1.x) * alpha;\n            this.y = v1.y + (v2.y - v1.y) * alpha;\n            this.z = v1.z + (v2.z - v1.z) * alpha;\n            return this;\n        };\n\n        _proto.cross = function cross(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');\n                return this.crossVectors(v, w);\n            }\n\n            return this.crossVectors(this, v);\n        };\n\n        _proto.crossVectors = function crossVectors(a, b) {\n            var ax = a.x,\n                ay = a.y,\n                az = a.z;\n            var bx = b.x,\n                by = b.y,\n                bz = b.z;\n            this.x = ay * bz - az * by;\n            this.y = az * bx - ax * bz;\n            this.z = ax * by - ay * bx;\n            return this;\n        };\n\n        _proto.projectOnVector = function projectOnVector(v) {\n            var denominator = v.lengthSq();\n            if (denominator === 0) return this.set(0, 0, 0);\n            var scalar = v.dot(this) / denominator;\n            return this.copy(v).multiplyScalar(scalar);\n        };\n\n        _proto.projectOnPlane = function projectOnPlane(planeNormal) {\n            _vector.copy(this).projectOnVector(planeNormal);\n\n            return this.sub(_vector);\n        };\n\n        _proto.reflect = function reflect(normal) {\n            // reflect incident vector off plane orthogonal to normal\n            // normal is assumed to have unit length\n            return this.sub(_vector.copy(normal).multiplyScalar(2 * this.dot(normal)));\n        };\n\n        _proto.angleTo = function angleTo(v) {\n            var denominator = Math.sqrt(this.lengthSq() * v.lengthSq());\n            if (denominator === 0) return Math.PI / 2;\n            var theta = this.dot(v) / denominator; // clamp, to handle numerical problems\n\n            return Math.acos(MathUtils.clamp(theta, -1, 1));\n        };\n\n        _proto.distanceTo = function distanceTo(v) {\n            return Math.sqrt(this.distanceToSquared(v));\n        };\n\n        _proto.distanceToSquared = function distanceToSquared(v) {\n            var dx = this.x - v.x,\n                dy = this.y - v.y,\n                dz = this.z - v.z;\n            return dx * dx + dy * dy + dz * dz;\n        };\n\n        _proto.manhattanDistanceTo = function manhattanDistanceTo(v) {\n            return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\n        };\n\n        _proto.setFromSpherical = function setFromSpherical(s) {\n            return this.setFromSphericalCoords(s.radius, s.phi, s.theta);\n        };\n\n        _proto.setFromSphericalCoords = function setFromSphericalCoords(radius, phi, theta) {\n            var sinPhiRadius = Math.sin(phi) * radius;\n            this.x = sinPhiRadius * Math.sin(theta);\n            this.y = Math.cos(phi) * radius;\n            this.z = sinPhiRadius * Math.cos(theta);\n            return this;\n        };\n\n        _proto.setFromCylindrical = function setFromCylindrical(c) {\n            return this.setFromCylindricalCoords(c.radius, c.theta, c.y);\n        };\n\n        _proto.setFromCylindricalCoords = function setFromCylindricalCoords(radius, theta, y) {\n            this.x = radius * Math.sin(theta);\n            this.y = y;\n            this.z = radius * Math.cos(theta);\n            return this;\n        };\n\n        _proto.setFromMatrixPosition = function setFromMatrixPosition(m) {\n            var e = m.elements;\n            this.x = e[12];\n            this.y = e[13];\n            this.z = e[14];\n            return this;\n        };\n\n        _proto.setFromMatrixScale = function setFromMatrixScale(m) {\n            var sx = this.setFromMatrixColumn(m, 0).length();\n            var sy = this.setFromMatrixColumn(m, 1).length();\n            var sz = this.setFromMatrixColumn(m, 2).length();\n            this.x = sx;\n            this.y = sy;\n            this.z = sz;\n            return this;\n        };\n\n        _proto.setFromMatrixColumn = function setFromMatrixColumn(m, index) {\n            return this.fromArray(m.elements, index * 4);\n        };\n\n        _proto.setFromMatrix3Column = function setFromMatrix3Column(m, index) {\n            return this.fromArray(m.elements, index * 3);\n        };\n\n        _proto.equals = function equals(v) {\n            return v.x === this.x && v.y === this.y && v.z === this.z;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === undefined) offset = 0;\n            this.x = array[offset];\n            this.y = array[offset + 1];\n            this.z = array[offset + 2];\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            array[offset] = this.x;\n            array[offset + 1] = this.y;\n            array[offset + 2] = this.z;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index, offset) {\n            if (offset !== undefined) {\n                console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');\n            }\n\n            this.x = attribute.getX(index);\n            this.y = attribute.getY(index);\n            this.z = attribute.getZ(index);\n            return this;\n        };\n\n        _proto.random = function random() {\n            this.x = Math.random();\n            this.y = Math.random();\n            this.z = Math.random();\n            return this;\n        };\n\n        return Vector3;\n    }();\n\n    var _vector = /*@__PURE__*/new Vector3();\n\n    var _quaternion = /*@__PURE__*/new Quaternion();\n\n    var Box3 = /*#__PURE__*/function () {\n        function Box3(min, max) {\n            Object.defineProperty(this, 'isBox3', {\n                value: true\n            });\n            this.min = min !== undefined ? min : new Vector3(+Infinity, +Infinity, +Infinity);\n            this.max = max !== undefined ? max : new Vector3(-Infinity, -Infinity, -Infinity);\n        }\n\n        var _proto = Box3.prototype;\n\n        _proto.set = function set(min, max) {\n            this.min.copy(min);\n            this.max.copy(max);\n            return this;\n        };\n\n        _proto.setFromArray = function setFromArray(array) {\n            var minX = +Infinity;\n            var minY = +Infinity;\n            var minZ = +Infinity;\n            var maxX = -Infinity;\n            var maxY = -Infinity;\n            var maxZ = -Infinity;\n\n            for (var i = 0, l = array.length; i < l; i += 3) {\n                var x = array[i];\n                var y = array[i + 1];\n                var z = array[i + 2];\n                if (x < minX) minX = x;\n                if (y < minY) minY = y;\n                if (z < minZ) minZ = z;\n                if (x > maxX) maxX = x;\n                if (y > maxY) maxY = y;\n                if (z > maxZ) maxZ = z;\n            }\n\n            this.min.set(minX, minY, minZ);\n            this.max.set(maxX, maxY, maxZ);\n            return this;\n        };\n\n        _proto.setFromBufferAttribute = function setFromBufferAttribute(attribute) {\n            var minX = +Infinity;\n            var minY = +Infinity;\n            var minZ = +Infinity;\n            var maxX = -Infinity;\n            var maxY = -Infinity;\n            var maxZ = -Infinity;\n\n            for (var i = 0, l = attribute.count; i < l; i++) {\n                var x = attribute.getX(i);\n                var y = attribute.getY(i);\n                var z = attribute.getZ(i);\n                if (x < minX) minX = x;\n                if (y < minY) minY = y;\n                if (z < minZ) minZ = z;\n                if (x > maxX) maxX = x;\n                if (y > maxY) maxY = y;\n                if (z > maxZ) maxZ = z;\n            }\n\n            this.min.set(minX, minY, minZ);\n            this.max.set(maxX, maxY, maxZ);\n            return this;\n        };\n\n        _proto.setFromPoints = function setFromPoints(points) {\n            this.makeEmpty();\n\n            for (var i = 0, il = points.length; i < il; i++) {\n                this.expandByPoint(points[i]);\n            }\n\n            return this;\n        };\n\n        _proto.setFromCenterAndSize = function setFromCenterAndSize(center, size) {\n            var halfSize = _vector$1.copy(size).multiplyScalar(0.5);\n\n            this.min.copy(center).sub(halfSize);\n            this.max.copy(center).add(halfSize);\n            return this;\n        };\n\n        _proto.setFromObject = function setFromObject(object) {\n            this.makeEmpty();\n            return this.expandByObject(object);\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(box) {\n            this.min.copy(box.min);\n            this.max.copy(box.max);\n            return this;\n        };\n\n        _proto.makeEmpty = function makeEmpty() {\n            this.min.x = this.min.y = this.min.z = +Infinity;\n            this.max.x = this.max.y = this.max.z = -Infinity;\n            return this;\n        };\n\n        _proto.isEmpty = function isEmpty() {\n            // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n            return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;\n        };\n\n        _proto.getCenter = function getCenter(target) {\n            if (target === undefined) {\n                console.warn('THREE.Box3: .getCenter() target is now required');\n                target = new Vector3();\n            }\n\n            return this.isEmpty() ? target.set(0, 0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n        };\n\n        _proto.getSize = function getSize(target) {\n            if (target === undefined) {\n                console.warn('THREE.Box3: .getSize() target is now required');\n                target = new Vector3();\n            }\n\n            return this.isEmpty() ? target.set(0, 0, 0) : target.subVectors(this.max, this.min);\n        };\n\n        _proto.expandByPoint = function expandByPoint(point) {\n            this.min.min(point);\n            this.max.max(point);\n            return this;\n        };\n\n        _proto.expandByVector = function expandByVector(vector) {\n            this.min.sub(vector);\n            this.max.add(vector);\n            return this;\n        };\n\n        _proto.expandByScalar = function expandByScalar(scalar) {\n            this.min.addScalar(-scalar);\n            this.max.addScalar(scalar);\n            return this;\n        };\n\n        _proto.expandByObject = function expandByObject(object) {\n            // Computes the world-axis-aligned bounding box of an object (including its children),\n            // accounting for both the object's, and children's, world transforms\n            object.updateWorldMatrix(false, false);\n            var geometry = object.geometry;\n\n            if (geometry !== undefined) {\n                if (geometry.boundingBox === null) {\n                    geometry.computeBoundingBox();\n                }\n\n                _box.copy(geometry.boundingBox);\n\n                _box.applyMatrix4(object.matrixWorld);\n\n                this.union(_box);\n            }\n\n            var children = object.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                this.expandByObject(children[i]);\n            }\n\n            return this;\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            return point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y || point.z < this.min.z || point.z > this.max.z ? false : true;\n        };\n\n        _proto.containsBox = function containsBox(box) {\n            return this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y && this.min.z <= box.min.z && box.max.z <= this.max.z;\n        };\n\n        _proto.getParameter = function getParameter(point, target) {\n            // This can potentially have a divide by zero if the box\n            // has a size dimension of 0.\n            if (target === undefined) {\n                console.warn('THREE.Box3: .getParameter() target is now required');\n                target = new Vector3();\n            }\n\n            return target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y), (point.z - this.min.z) / (this.max.z - this.min.z));\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            // using 6 splitting planes to rule out intersections.\n            return box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y || box.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            // Find the point on the AABB closest to the sphere center.\n            this.clampPoint(sphere.center, _vector$1); // If that point is inside the sphere, the AABB and sphere intersect.\n\n            return _vector$1.distanceToSquared(sphere.center) <= sphere.radius * sphere.radius;\n        };\n\n        _proto.intersectsPlane = function intersectsPlane(plane) {\n            // We compute the minimum and maximum dot product values. If those values\n            // are on the same side (back or front) of the plane, then there is no intersection.\n            var min, max;\n\n            if (plane.normal.x > 0) {\n                min = plane.normal.x * this.min.x;\n                max = plane.normal.x * this.max.x;\n            } else {\n                min = plane.normal.x * this.max.x;\n                max = plane.normal.x * this.min.x;\n            }\n\n            if (plane.normal.y > 0) {\n                min += plane.normal.y * this.min.y;\n                max += plane.normal.y * this.max.y;\n            } else {\n                min += plane.normal.y * this.max.y;\n                max += plane.normal.y * this.min.y;\n            }\n\n            if (plane.normal.z > 0) {\n                min += plane.normal.z * this.min.z;\n                max += plane.normal.z * this.max.z;\n            } else {\n                min += plane.normal.z * this.max.z;\n                max += plane.normal.z * this.min.z;\n            }\n\n            return min <= -plane.constant && max >= -plane.constant;\n        };\n\n        _proto.intersectsTriangle = function intersectsTriangle(triangle) {\n            if (this.isEmpty()) {\n                return false;\n            } // compute box center and extents\n\n\n            this.getCenter(_center);\n\n            _extents.subVectors(this.max, _center); // translate triangle to aabb origin\n\n\n            _v0.subVectors(triangle.a, _center);\n\n            _v1.subVectors(triangle.b, _center);\n\n            _v2.subVectors(triangle.c, _center); // compute edge vectors for triangle\n\n\n            _f0.subVectors(_v1, _v0);\n\n            _f1.subVectors(_v2, _v1);\n\n            _f2.subVectors(_v0, _v2); // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n            // make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n            // axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\n\n            var axes = [0, -_f0.z, _f0.y, 0, -_f1.z, _f1.y, 0, -_f2.z, _f2.y, _f0.z, 0, -_f0.x, _f1.z, 0, -_f1.x, _f2.z, 0, -_f2.x, -_f0.y, _f0.x, 0, -_f1.y, _f1.x, 0, -_f2.y, _f2.x, 0];\n\n            if (!satForAxes(axes, _v0, _v1, _v2, _extents)) {\n                return false;\n            } // test 3 face normals from the aabb\n\n\n            axes = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n            if (!satForAxes(axes, _v0, _v1, _v2, _extents)) {\n                return false;\n            } // finally testing the face normal of the triangle\n            // use already existing triangle edge vectors here\n\n\n            _triangleNormal.crossVectors(_f0, _f1);\n\n            axes = [_triangleNormal.x, _triangleNormal.y, _triangleNormal.z];\n            return satForAxes(axes, _v0, _v1, _v2, _extents);\n        };\n\n        _proto.clampPoint = function clampPoint(point, target) {\n            if (target === undefined) {\n                console.warn('THREE.Box3: .clampPoint() target is now required');\n                target = new Vector3();\n            }\n\n            return target.copy(point).clamp(this.min, this.max);\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            var clampedPoint = _vector$1.copy(point).clamp(this.min, this.max);\n\n            return clampedPoint.sub(point).length();\n        };\n\n        _proto.getBoundingSphere = function getBoundingSphere(target) {\n            if (target === undefined) {\n                console.error('THREE.Box3: .getBoundingSphere() target is now required'); //target = new Sphere(); // removed to avoid cyclic dependency\n            }\n\n            this.getCenter(target.center);\n            target.radius = this.getSize(_vector$1).length() * 0.5;\n            return target;\n        };\n\n        _proto.intersect = function intersect(box) {\n            this.min.max(box.min);\n            this.max.min(box.max); // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\n            if (this.isEmpty()) this.makeEmpty();\n            return this;\n        };\n\n        _proto.union = function union(box) {\n            this.min.min(box.min);\n            this.max.max(box.max);\n            return this;\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix) {\n            // transform of empty box is an empty box.\n            if (this.isEmpty()) return this; // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\n            _points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n\n\n            _points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n\n\n            _points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n\n\n            _points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n\n\n            _points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n\n\n            _points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n\n\n            _points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n\n\n            _points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n\n            this.setFromPoints(_points);\n            return this;\n        };\n\n        _proto.translate = function translate(offset) {\n            this.min.add(offset);\n            this.max.add(offset);\n            return this;\n        };\n\n        _proto.equals = function equals(box) {\n            return box.min.equals(this.min) && box.max.equals(this.max);\n        };\n\n        return Box3;\n    }();\n\n    function satForAxes(axes, v0, v1, v2, extents) {\n        for (var i = 0, j = axes.length - 3; i <= j; i += 3) {\n            _testAxis.fromArray(axes, i); // project the aabb onto the seperating axis\n\n\n            var r = extents.x * Math.abs(_testAxis.x) + extents.y * Math.abs(_testAxis.y) + extents.z * Math.abs(_testAxis.z); // project all 3 vertices of the triangle onto the seperating axis\n\n            var p0 = v0.dot(_testAxis);\n            var p1 = v1.dot(_testAxis);\n            var p2 = v2.dot(_testAxis); // actual test, basically see if either of the most extreme of the triangle points intersects r\n\n            if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n                // points of the projected triangle are outside the projected half-length of the aabb\n                // the axis is seperating and we can exit\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    var _points = [/*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3()];\n\n    var _vector$1 = /*@__PURE__*/new Vector3();\n\n    var _box = /*@__PURE__*/new Box3(); // triangle centered vertices\n\n\n    var _v0 = /*@__PURE__*/new Vector3();\n\n    var _v1 = /*@__PURE__*/new Vector3();\n\n    var _v2 = /*@__PURE__*/new Vector3(); // triangle edge vectors\n\n\n    var _f0 = /*@__PURE__*/new Vector3();\n\n    var _f1 = /*@__PURE__*/new Vector3();\n\n    var _f2 = /*@__PURE__*/new Vector3();\n\n    var _center = /*@__PURE__*/new Vector3();\n\n    var _extents = /*@__PURE__*/new Vector3();\n\n    var _triangleNormal = /*@__PURE__*/new Vector3();\n\n    var _testAxis = /*@__PURE__*/new Vector3();\n\n    var _box$1 = /*@__PURE__*/new Box3();\n\n    var Sphere = /*#__PURE__*/function () {\n        function Sphere(center, radius) {\n            this.center = center !== undefined ? center : new Vector3();\n            this.radius = radius !== undefined ? radius : -1;\n        }\n\n        var _proto = Sphere.prototype;\n\n        _proto.set = function set(center, radius) {\n            this.center.copy(center);\n            this.radius = radius;\n            return this;\n        };\n\n        _proto.setFromPoints = function setFromPoints(points, optionalCenter) {\n            var center = this.center;\n\n            if (optionalCenter !== undefined) {\n                center.copy(optionalCenter);\n            } else {\n                _box$1.setFromPoints(points).getCenter(center);\n            }\n\n            var maxRadiusSq = 0;\n\n            for (var i = 0, il = points.length; i < il; i++) {\n                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));\n            }\n\n            this.radius = Math.sqrt(maxRadiusSq);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(sphere) {\n            this.center.copy(sphere.center);\n            this.radius = sphere.radius;\n            return this;\n        };\n\n        _proto.isEmpty = function isEmpty() {\n            return this.radius < 0;\n        };\n\n        _proto.makeEmpty = function makeEmpty() {\n            this.center.set(0, 0, 0);\n            this.radius = -1;\n            return this;\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            return point.distanceToSquared(this.center) <= this.radius * this.radius;\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            return point.distanceTo(this.center) - this.radius;\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            var radiusSum = this.radius + sphere.radius;\n            return sphere.center.distanceToSquared(this.center) <= radiusSum * radiusSum;\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            return box.intersectsSphere(this);\n        };\n\n        _proto.intersectsPlane = function intersectsPlane(plane) {\n            return Math.abs(plane.distanceToPoint(this.center)) <= this.radius;\n        };\n\n        _proto.clampPoint = function clampPoint(point, target) {\n            var deltaLengthSq = this.center.distanceToSquared(point);\n\n            if (target === undefined) {\n                console.warn('THREE.Sphere: .clampPoint() target is now required');\n                target = new Vector3();\n            }\n\n            target.copy(point);\n\n            if (deltaLengthSq > this.radius * this.radius) {\n                target.sub(this.center).normalize();\n                target.multiplyScalar(this.radius).add(this.center);\n            }\n\n            return target;\n        };\n\n        _proto.getBoundingBox = function getBoundingBox(target) {\n            if (target === undefined) {\n                console.warn('THREE.Sphere: .getBoundingBox() target is now required');\n                target = new Box3();\n            }\n\n            if (this.isEmpty()) {\n                // Empty sphere produces empty bounding box\n                target.makeEmpty();\n                return target;\n            }\n\n            target.set(this.center, this.center);\n            target.expandByScalar(this.radius);\n            return target;\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix) {\n            this.center.applyMatrix4(matrix);\n            this.radius = this.radius * matrix.getMaxScaleOnAxis();\n            return this;\n        };\n\n        _proto.translate = function translate(offset) {\n            this.center.add(offset);\n            return this;\n        };\n\n        _proto.equals = function equals(sphere) {\n            return sphere.center.equals(this.center) && sphere.radius === this.radius;\n        };\n\n        return Sphere;\n    }();\n\n    var _vector$2 = /*@__PURE__*/new Vector3();\n\n    var _segCenter = /*@__PURE__*/new Vector3();\n\n    var _segDir = /*@__PURE__*/new Vector3();\n\n    var _diff = /*@__PURE__*/new Vector3();\n\n    var _edge1 = /*@__PURE__*/new Vector3();\n\n    var _edge2 = /*@__PURE__*/new Vector3();\n\n    var _normal = /*@__PURE__*/new Vector3();\n\n    var Ray = /*#__PURE__*/function () {\n        function Ray(origin, direction) {\n            this.origin = origin !== undefined ? origin : new Vector3();\n            this.direction = direction !== undefined ? direction : new Vector3(0, 0, -1);\n        }\n\n        var _proto = Ray.prototype;\n\n        _proto.set = function set(origin, direction) {\n            this.origin.copy(origin);\n            this.direction.copy(direction);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(ray) {\n            this.origin.copy(ray.origin);\n            this.direction.copy(ray.direction);\n            return this;\n        };\n\n        _proto.at = function at(t, target) {\n            if (target === undefined) {\n                console.warn('THREE.Ray: .at() target is now required');\n                target = new Vector3();\n            }\n\n            return target.copy(this.direction).multiplyScalar(t).add(this.origin);\n        };\n\n        _proto.lookAt = function lookAt(v) {\n            this.direction.copy(v).sub(this.origin).normalize();\n            return this;\n        };\n\n        _proto.recast = function recast(t) {\n            this.origin.copy(this.at(t, _vector$2));\n            return this;\n        };\n\n        _proto.closestPointToPoint = function closestPointToPoint(point, target) {\n            if (target === undefined) {\n                console.warn('THREE.Ray: .closestPointToPoint() target is now required');\n                target = new Vector3();\n            }\n\n            target.subVectors(point, this.origin);\n            var directionDistance = target.dot(this.direction);\n\n            if (directionDistance < 0) {\n                return target.copy(this.origin);\n            }\n\n            return target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            return Math.sqrt(this.distanceSqToPoint(point));\n        };\n\n        _proto.distanceSqToPoint = function distanceSqToPoint(point) {\n            var directionDistance = _vector$2.subVectors(point, this.origin).dot(this.direction); // point behind the ray\n\n\n            if (directionDistance < 0) {\n                return this.origin.distanceToSquared(point);\n            }\n\n            _vector$2.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\n            return _vector$2.distanceToSquared(point);\n        };\n\n        _proto.distanceSqToSegment = function distanceSqToSegment(v0, v1, optionalPointOnRay, optionalPointOnSegment) {\n            // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n            // It returns the min distance between the ray and the segment\n            // defined by v0 and v1\n            // It can also set two optional targets :\n            // - The closest point on the ray\n            // - The closest point on the segment\n            _segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n\n            _segDir.copy(v1).sub(v0).normalize();\n\n            _diff.copy(this.origin).sub(_segCenter);\n\n            var segExtent = v0.distanceTo(v1) * 0.5;\n            var a01 = -this.direction.dot(_segDir);\n\n            var b0 = _diff.dot(this.direction);\n\n            var b1 = -_diff.dot(_segDir);\n\n            var c = _diff.lengthSq();\n\n            var det = Math.abs(1 - a01 * a01);\n            var s0, s1, sqrDist, extDet;\n\n            if (det > 0) {\n                // The ray and segment are not parallel.\n                s0 = a01 * b1 - b0;\n                s1 = a01 * b0 - b1;\n                extDet = segExtent * det;\n\n                if (s0 >= 0) {\n                    if (s1 >= -extDet) {\n                        if (s1 <= extDet) {\n                            // region 0\n                            // Minimum at interior points of ray and segment.\n                            var invDet = 1 / det;\n                            s0 *= invDet;\n                            s1 *= invDet;\n                            sqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;\n                        } else {\n                            // region 1\n                            s1 = segExtent;\n                            s0 = Math.max(0, -(a01 * s1 + b0));\n                            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n                        }\n                    } else {\n                        // region 5\n                        s1 = -segExtent;\n                        s0 = Math.max(0, -(a01 * s1 + b0));\n                        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n                    }\n                } else {\n                    if (s1 <= -extDet) {\n                        // region 4\n                        s0 = Math.max(0, -(-a01 * segExtent + b0));\n                        s1 = s0 > 0 ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n                        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n                    } else if (s1 <= extDet) {\n                        // region 3\n                        s0 = 0;\n                        s1 = Math.min(Math.max(-segExtent, -b1), segExtent);\n                        sqrDist = s1 * (s1 + 2 * b1) + c;\n                    } else {\n                        // region 2\n                        s0 = Math.max(0, -(a01 * segExtent + b0));\n                        s1 = s0 > 0 ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n                        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n                    }\n                }\n            } else {\n                // Ray and segment are parallel.\n                s1 = a01 > 0 ? -segExtent : segExtent;\n                s0 = Math.max(0, -(a01 * s1 + b0));\n                sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n            }\n\n            if (optionalPointOnRay) {\n                optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);\n            }\n\n            if (optionalPointOnSegment) {\n                optionalPointOnSegment.copy(_segDir).multiplyScalar(s1).add(_segCenter);\n            }\n\n            return sqrDist;\n        };\n\n        _proto.intersectSphere = function intersectSphere(sphere, target) {\n            _vector$2.subVectors(sphere.center, this.origin);\n\n            var tca = _vector$2.dot(this.direction);\n\n            var d2 = _vector$2.dot(_vector$2) - tca * tca;\n            var radius2 = sphere.radius * sphere.radius;\n            if (d2 > radius2) return null;\n            var thc = Math.sqrt(radius2 - d2); // t0 = first intersect point - entrance on front of sphere\n\n            var t0 = tca - thc; // t1 = second intersect point - exit point on back of sphere\n\n            var t1 = tca + thc; // test to see if both t0 and t1 are behind the ray - if so, return null\n\n            if (t0 < 0 && t1 < 0) return null; // test to see if t0 is behind the ray:\n            // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n            // in order to always return an intersect point that is in front of the ray.\n\n            if (t0 < 0) return this.at(t1, target); // else t0 is in front of the ray, so return the first collision point scaled by t0\n\n            return this.at(t0, target);\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            return this.distanceSqToPoint(sphere.center) <= sphere.radius * sphere.radius;\n        };\n\n        _proto.distanceToPlane = function distanceToPlane(plane) {\n            var denominator = plane.normal.dot(this.direction);\n\n            if (denominator === 0) {\n                // line is coplanar, return origin\n                if (plane.distanceToPoint(this.origin) === 0) {\n                    return 0;\n                } // Null is preferable to undefined since undefined means.... it is undefined\n\n\n                return null;\n            }\n\n            var t = -(this.origin.dot(plane.normal) + plane.constant) / denominator; // Return if the ray never intersects the plane\n\n            return t >= 0 ? t : null;\n        };\n\n        _proto.intersectPlane = function intersectPlane(plane, target) {\n            var t = this.distanceToPlane(plane);\n\n            if (t === null) {\n                return null;\n            }\n\n            return this.at(t, target);\n        };\n\n        _proto.intersectsPlane = function intersectsPlane(plane) {\n            // check if the ray lies on the plane first\n            var distToPoint = plane.distanceToPoint(this.origin);\n\n            if (distToPoint === 0) {\n                return true;\n            }\n\n            var denominator = plane.normal.dot(this.direction);\n\n            if (denominator * distToPoint < 0) {\n                return true;\n            } // ray origin is behind the plane (and is pointing behind it)\n\n\n            return false;\n        };\n\n        _proto.intersectBox = function intersectBox(box, target) {\n            var tmin, tmax, tymin, tymax, tzmin, tzmax;\n            var invdirx = 1 / this.direction.x,\n                invdiry = 1 / this.direction.y,\n                invdirz = 1 / this.direction.z;\n            var origin = this.origin;\n\n            if (invdirx >= 0) {\n                tmin = (box.min.x - origin.x) * invdirx;\n                tmax = (box.max.x - origin.x) * invdirx;\n            } else {\n                tmin = (box.max.x - origin.x) * invdirx;\n                tmax = (box.min.x - origin.x) * invdirx;\n            }\n\n            if (invdiry >= 0) {\n                tymin = (box.min.y - origin.y) * invdiry;\n                tymax = (box.max.y - origin.y) * invdiry;\n            } else {\n                tymin = (box.max.y - origin.y) * invdiry;\n                tymax = (box.min.y - origin.y) * invdiry;\n            }\n\n            if (tmin > tymax || tymin > tmax) return null; // These lines also handle the case where tmin or tmax is NaN\n            // (result of 0 * Infinity). x !== x returns true if x is NaN\n\n            if (tymin > tmin || tmin !== tmin) tmin = tymin;\n            if (tymax < tmax || tmax !== tmax) tmax = tymax;\n\n            if (invdirz >= 0) {\n                tzmin = (box.min.z - origin.z) * invdirz;\n                tzmax = (box.max.z - origin.z) * invdirz;\n            } else {\n                tzmin = (box.max.z - origin.z) * invdirz;\n                tzmax = (box.min.z - origin.z) * invdirz;\n            }\n\n            if (tmin > tzmax || tzmin > tmax) return null;\n            if (tzmin > tmin || tmin !== tmin) tmin = tzmin;\n            if (tzmax < tmax || tmax !== tmax) tmax = tzmax; //return point closest to the ray (positive side)\n\n            if (tmax < 0) return null;\n            return this.at(tmin >= 0 ? tmin : tmax, target);\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            return this.intersectBox(box, _vector$2) !== null;\n        };\n\n        _proto.intersectTriangle = function intersectTriangle(a, b, c, backfaceCulling, target) {\n            // Compute the offset origin, edges, and normal.\n            // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n            _edge1.subVectors(b, a);\n\n            _edge2.subVectors(c, a);\n\n            _normal.crossVectors(_edge1, _edge2); // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n            // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n            //\t |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n            //\t |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n            //\t |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\n\n            var DdN = this.direction.dot(_normal);\n            var sign;\n\n            if (DdN > 0) {\n                if (backfaceCulling) return null;\n                sign = 1;\n            } else if (DdN < 0) {\n                sign = -1;\n                DdN = -DdN;\n            } else {\n                return null;\n            }\n\n            _diff.subVectors(this.origin, a);\n\n            var DdQxE2 = sign * this.direction.dot(_edge2.crossVectors(_diff, _edge2)); // b1 < 0, no intersection\n\n            if (DdQxE2 < 0) {\n                return null;\n            }\n\n            var DdE1xQ = sign * this.direction.dot(_edge1.cross(_diff)); // b2 < 0, no intersection\n\n            if (DdE1xQ < 0) {\n                return null;\n            } // b1+b2 > 1, no intersection\n\n\n            if (DdQxE2 + DdE1xQ > DdN) {\n                return null;\n            } // Line intersects triangle, check if ray does.\n\n\n            var QdN = -sign * _diff.dot(_normal); // t < 0, no intersection\n\n\n            if (QdN < 0) {\n                return null;\n            } // Ray intersects triangle.\n\n\n            return this.at(QdN / DdN, target);\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix4) {\n            this.origin.applyMatrix4(matrix4);\n            this.direction.transformDirection(matrix4);\n            return this;\n        };\n\n        _proto.equals = function equals(ray) {\n            return ray.origin.equals(this.origin) && ray.direction.equals(this.direction);\n        };\n\n        return Ray;\n    }();\n\n    var Matrix4 = /*#__PURE__*/function () {\n        function Matrix4() {\n            Object.defineProperty(this, 'isMatrix4', {\n                value: true\n            });\n            this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n            if (arguments.length > 0) {\n                console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n            }\n        }\n\n        var _proto = Matrix4.prototype;\n\n        _proto.set = function set(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n            var te = this.elements;\n            te[0] = n11;\n            te[4] = n12;\n            te[8] = n13;\n            te[12] = n14;\n            te[1] = n21;\n            te[5] = n22;\n            te[9] = n23;\n            te[13] = n24;\n            te[2] = n31;\n            te[6] = n32;\n            te[10] = n33;\n            te[14] = n34;\n            te[3] = n41;\n            te[7] = n42;\n            te[11] = n43;\n            te[15] = n44;\n            return this;\n        };\n\n        _proto.identity = function identity() {\n            this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new Matrix4().fromArray(this.elements);\n        };\n\n        _proto.copy = function copy(m) {\n            var te = this.elements;\n            var me = m.elements;\n            te[0] = me[0];\n            te[1] = me[1];\n            te[2] = me[2];\n            te[3] = me[3];\n            te[4] = me[4];\n            te[5] = me[5];\n            te[6] = me[6];\n            te[7] = me[7];\n            te[8] = me[8];\n            te[9] = me[9];\n            te[10] = me[10];\n            te[11] = me[11];\n            te[12] = me[12];\n            te[13] = me[13];\n            te[14] = me[14];\n            te[15] = me[15];\n            return this;\n        };\n\n        _proto.copyPosition = function copyPosition(m) {\n            var te = this.elements,\n                me = m.elements;\n            te[12] = me[12];\n            te[13] = me[13];\n            te[14] = me[14];\n            return this;\n        };\n\n        _proto.extractBasis = function extractBasis(xAxis, yAxis, zAxis) {\n            xAxis.setFromMatrixColumn(this, 0);\n            yAxis.setFromMatrixColumn(this, 1);\n            zAxis.setFromMatrixColumn(this, 2);\n            return this;\n        };\n\n        _proto.makeBasis = function makeBasis(xAxis, yAxis, zAxis) {\n            this.set(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.extractRotation = function extractRotation(m) {\n            // this method does not support reflection matrices\n            var te = this.elements;\n            var me = m.elements;\n\n            var scaleX = 1 / _v1$1.setFromMatrixColumn(m, 0).length();\n\n            var scaleY = 1 / _v1$1.setFromMatrixColumn(m, 1).length();\n\n            var scaleZ = 1 / _v1$1.setFromMatrixColumn(m, 2).length();\n\n            te[0] = me[0] * scaleX;\n            te[1] = me[1] * scaleX;\n            te[2] = me[2] * scaleX;\n            te[3] = 0;\n            te[4] = me[4] * scaleY;\n            te[5] = me[5] * scaleY;\n            te[6] = me[6] * scaleY;\n            te[7] = 0;\n            te[8] = me[8] * scaleZ;\n            te[9] = me[9] * scaleZ;\n            te[10] = me[10] * scaleZ;\n            te[11] = 0;\n            te[12] = 0;\n            te[13] = 0;\n            te[14] = 0;\n            te[15] = 1;\n            return this;\n        };\n\n        _proto.makeRotationFromEuler = function makeRotationFromEuler(euler) {\n            if (!(euler && euler.isEuler)) {\n                console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n            }\n\n            var te = this.elements;\n            var x = euler.x,\n                y = euler.y,\n                z = euler.z;\n            var a = Math.cos(x),\n                b = Math.sin(x);\n            var c = Math.cos(y),\n                d = Math.sin(y);\n            var e = Math.cos(z),\n                f = Math.sin(z);\n\n            if (euler.order === 'XYZ') {\n                var ae = a * e,\n                    af = a * f,\n                    be = b * e,\n                    bf = b * f;\n                te[0] = c * e;\n                te[4] = -c * f;\n                te[8] = d;\n                te[1] = af + be * d;\n                te[5] = ae - bf * d;\n                te[9] = -b * c;\n                te[2] = bf - ae * d;\n                te[6] = be + af * d;\n                te[10] = a * c;\n            } else if (euler.order === 'YXZ') {\n                var ce = c * e,\n                    cf = c * f,\n                    de = d * e,\n                    df = d * f;\n                te[0] = ce + df * b;\n                te[4] = de * b - cf;\n                te[8] = a * d;\n                te[1] = a * f;\n                te[5] = a * e;\n                te[9] = -b;\n                te[2] = cf * b - de;\n                te[6] = df + ce * b;\n                te[10] = a * c;\n            } else if (euler.order === 'ZXY') {\n                var _ce = c * e,\n                    _cf = c * f,\n                    _de = d * e,\n                    _df = d * f;\n\n                te[0] = _ce - _df * b;\n                te[4] = -a * f;\n                te[8] = _de + _cf * b;\n                te[1] = _cf + _de * b;\n                te[5] = a * e;\n                te[9] = _df - _ce * b;\n                te[2] = -a * d;\n                te[6] = b;\n                te[10] = a * c;\n            } else if (euler.order === 'ZYX') {\n                var _ae = a * e,\n                    _af = a * f,\n                    _be = b * e,\n                    _bf = b * f;\n\n                te[0] = c * e;\n                te[4] = _be * d - _af;\n                te[8] = _ae * d + _bf;\n                te[1] = c * f;\n                te[5] = _bf * d + _ae;\n                te[9] = _af * d - _be;\n                te[2] = -d;\n                te[6] = b * c;\n                te[10] = a * c;\n            } else if (euler.order === 'YZX') {\n                var ac = a * c,\n                    ad = a * d,\n                    bc = b * c,\n                    bd = b * d;\n                te[0] = c * e;\n                te[4] = bd - ac * f;\n                te[8] = bc * f + ad;\n                te[1] = f;\n                te[5] = a * e;\n                te[9] = -b * e;\n                te[2] = -d * e;\n                te[6] = ad * f + bc;\n                te[10] = ac - bd * f;\n            } else if (euler.order === 'XZY') {\n                var _ac = a * c,\n                    _ad = a * d,\n                    _bc = b * c,\n                    _bd = b * d;\n\n                te[0] = c * e;\n                te[4] = -f;\n                te[8] = d * e;\n                te[1] = _ac * f + _bd;\n                te[5] = a * e;\n                te[9] = _ad * f - _bc;\n                te[2] = _bc * f - _ad;\n                te[6] = b * e;\n                te[10] = _bd * f + _ac;\n            } // bottom row\n\n\n            te[3] = 0;\n            te[7] = 0;\n            te[11] = 0; // last column\n\n            te[12] = 0;\n            te[13] = 0;\n            te[14] = 0;\n            te[15] = 1;\n            return this;\n        };\n\n        _proto.makeRotationFromQuaternion = function makeRotationFromQuaternion(q) {\n            return this.compose(_zero, q, _one);\n        };\n\n        _proto.lookAt = function lookAt(eye, target, up) {\n            var te = this.elements;\n\n            _z.subVectors(eye, target);\n\n            if (_z.lengthSq() === 0) {\n                // eye and target are in the same position\n                _z.z = 1;\n            }\n\n            _z.normalize();\n\n            _x.crossVectors(up, _z);\n\n            if (_x.lengthSq() === 0) {\n                // up and z are parallel\n                if (Math.abs(up.z) === 1) {\n                    _z.x += 0.0001;\n                } else {\n                    _z.z += 0.0001;\n                }\n\n                _z.normalize();\n\n                _x.crossVectors(up, _z);\n            }\n\n            _x.normalize();\n\n            _y.crossVectors(_z, _x);\n\n            te[0] = _x.x;\n            te[4] = _y.x;\n            te[8] = _z.x;\n            te[1] = _x.y;\n            te[5] = _y.y;\n            te[9] = _z.y;\n            te[2] = _x.z;\n            te[6] = _y.z;\n            te[10] = _z.z;\n            return this;\n        };\n\n        _proto.multiply = function multiply(m, n) {\n            if (n !== undefined) {\n                console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');\n                return this.multiplyMatrices(m, n);\n            }\n\n            return this.multiplyMatrices(this, m);\n        };\n\n        _proto.premultiply = function premultiply(m) {\n            return this.multiplyMatrices(m, this);\n        };\n\n        _proto.multiplyMatrices = function multiplyMatrices(a, b) {\n            var ae = a.elements;\n            var be = b.elements;\n            var te = this.elements;\n            var a11 = ae[0],\n                a12 = ae[4],\n                a13 = ae[8],\n                a14 = ae[12];\n            var a21 = ae[1],\n                a22 = ae[5],\n                a23 = ae[9],\n                a24 = ae[13];\n            var a31 = ae[2],\n                a32 = ae[6],\n                a33 = ae[10],\n                a34 = ae[14];\n            var a41 = ae[3],\n                a42 = ae[7],\n                a43 = ae[11],\n                a44 = ae[15];\n            var b11 = be[0],\n                b12 = be[4],\n                b13 = be[8],\n                b14 = be[12];\n            var b21 = be[1],\n                b22 = be[5],\n                b23 = be[9],\n                b24 = be[13];\n            var b31 = be[2],\n                b32 = be[6],\n                b33 = be[10],\n                b34 = be[14];\n            var b41 = be[3],\n                b42 = be[7],\n                b43 = be[11],\n                b44 = be[15];\n            te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n            te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n            te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n            te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n            te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n            te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n            te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n            te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n            te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n            te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n            te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n            te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n            te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n            te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n            te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n            te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(s) {\n            var te = this.elements;\n            te[0] *= s;\n            te[4] *= s;\n            te[8] *= s;\n            te[12] *= s;\n            te[1] *= s;\n            te[5] *= s;\n            te[9] *= s;\n            te[13] *= s;\n            te[2] *= s;\n            te[6] *= s;\n            te[10] *= s;\n            te[14] *= s;\n            te[3] *= s;\n            te[7] *= s;\n            te[11] *= s;\n            te[15] *= s;\n            return this;\n        };\n\n        _proto.determinant = function determinant() {\n            var te = this.elements;\n            var n11 = te[0],\n                n12 = te[4],\n                n13 = te[8],\n                n14 = te[12];\n            var n21 = te[1],\n                n22 = te[5],\n                n23 = te[9],\n                n24 = te[13];\n            var n31 = te[2],\n                n32 = te[6],\n                n33 = te[10],\n                n34 = te[14];\n            var n41 = te[3],\n                n42 = te[7],\n                n43 = te[11],\n                n44 = te[15]; //TODO: make this more efficient\n            //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n            return n41 * (+n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34) + n42 * (+n11 * n23 * n34 - n11 * n24 * n33 + n14 * n21 * n33 - n13 * n21 * n34 + n13 * n24 * n31 - n14 * n23 * n31) + n43 * (+n11 * n24 * n32 - n11 * n22 * n34 - n14 * n21 * n32 + n12 * n21 * n34 + n14 * n22 * n31 - n12 * n24 * n31) + n44 * (-n13 * n22 * n31 - n11 * n23 * n32 + n11 * n22 * n33 + n13 * n21 * n32 - n12 * n21 * n33 + n12 * n23 * n31);\n        };\n\n        _proto.transpose = function transpose() {\n            var te = this.elements;\n            var tmp;\n            tmp = te[1];\n            te[1] = te[4];\n            te[4] = tmp;\n            tmp = te[2];\n            te[2] = te[8];\n            te[8] = tmp;\n            tmp = te[6];\n            te[6] = te[9];\n            te[9] = tmp;\n            tmp = te[3];\n            te[3] = te[12];\n            te[12] = tmp;\n            tmp = te[7];\n            te[7] = te[13];\n            te[13] = tmp;\n            tmp = te[11];\n            te[11] = te[14];\n            te[14] = tmp;\n            return this;\n        };\n\n        _proto.setPosition = function setPosition(x, y, z) {\n            var te = this.elements;\n\n            if (x.isVector3) {\n                te[12] = x.x;\n                te[13] = x.y;\n                te[14] = x.z;\n            } else {\n                te[12] = x;\n                te[13] = y;\n                te[14] = z;\n            }\n\n            return this;\n        };\n\n        _proto.getInverse = function getInverse(m, throwOnDegenerate) {\n            if (throwOnDegenerate !== undefined) {\n                console.warn(\"THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.\");\n            } // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\n\n            var te = this.elements,\n                me = m.elements,\n                n11 = me[0],\n                n21 = me[1],\n                n31 = me[2],\n                n41 = me[3],\n                n12 = me[4],\n                n22 = me[5],\n                n32 = me[6],\n                n42 = me[7],\n                n13 = me[8],\n                n23 = me[9],\n                n33 = me[10],\n                n43 = me[11],\n                n14 = me[12],\n                n24 = me[13],\n                n34 = me[14],\n                n44 = me[15],\n                t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n                t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n                t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n                t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n            var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n            if (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n            var detInv = 1 / det;\n            te[0] = t11 * detInv;\n            te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n            te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n            te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n            te[4] = t12 * detInv;\n            te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n            te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n            te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n            te[8] = t13 * detInv;\n            te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n            te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n            te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n            te[12] = t14 * detInv;\n            te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n            te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n            te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n            return this;\n        };\n\n        _proto.scale = function scale(v) {\n            var te = this.elements;\n            var x = v.x,\n                y = v.y,\n                z = v.z;\n            te[0] *= x;\n            te[4] *= y;\n            te[8] *= z;\n            te[1] *= x;\n            te[5] *= y;\n            te[9] *= z;\n            te[2] *= x;\n            te[6] *= y;\n            te[10] *= z;\n            te[3] *= x;\n            te[7] *= y;\n            te[11] *= z;\n            return this;\n        };\n\n        _proto.getMaxScaleOnAxis = function getMaxScaleOnAxis() {\n            var te = this.elements;\n            var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n            var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n            var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n            return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n        };\n\n        _proto.makeTranslation = function makeTranslation(x, y, z) {\n            this.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeRotationX = function makeRotationX(theta) {\n            var c = Math.cos(theta),\n                s = Math.sin(theta);\n            this.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeRotationY = function makeRotationY(theta) {\n            var c = Math.cos(theta),\n                s = Math.sin(theta);\n            this.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeRotationZ = function makeRotationZ(theta) {\n            var c = Math.cos(theta),\n                s = Math.sin(theta);\n            this.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeRotationAxis = function makeRotationAxis(axis, angle) {\n            // Based on http://www.gamedev.net/reference/articles/article1199.asp\n            var c = Math.cos(angle);\n            var s = Math.sin(angle);\n            var t = 1 - c;\n            var x = axis.x,\n                y = axis.y,\n                z = axis.z;\n            var tx = t * x,\n                ty = t * y;\n            this.set(tx * x + c, tx * y - s * z, tx * z + s * y, 0, tx * y + s * z, ty * y + c, ty * z - s * x, 0, tx * z - s * y, ty * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeScale = function makeScale(x, y, z) {\n            this.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeShear = function makeShear(x, y, z) {\n            this.set(1, y, z, 0, x, 1, z, 0, x, y, 1, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.compose = function compose(position, quaternion, scale) {\n            var te = this.elements;\n            var x = quaternion._x,\n                y = quaternion._y,\n                z = quaternion._z,\n                w = quaternion._w;\n            var x2 = x + x,\n                y2 = y + y,\n                z2 = z + z;\n            var xx = x * x2,\n                xy = x * y2,\n                xz = x * z2;\n            var yy = y * y2,\n                yz = y * z2,\n                zz = z * z2;\n            var wx = w * x2,\n                wy = w * y2,\n                wz = w * z2;\n            var sx = scale.x,\n                sy = scale.y,\n                sz = scale.z;\n            te[0] = (1 - (yy + zz)) * sx;\n            te[1] = (xy + wz) * sx;\n            te[2] = (xz - wy) * sx;\n            te[3] = 0;\n            te[4] = (xy - wz) * sy;\n            te[5] = (1 - (xx + zz)) * sy;\n            te[6] = (yz + wx) * sy;\n            te[7] = 0;\n            te[8] = (xz + wy) * sz;\n            te[9] = (yz - wx) * sz;\n            te[10] = (1 - (xx + yy)) * sz;\n            te[11] = 0;\n            te[12] = position.x;\n            te[13] = position.y;\n            te[14] = position.z;\n            te[15] = 1;\n            return this;\n        };\n\n        _proto.decompose = function decompose(position, quaternion, scale) {\n            var te = this.elements;\n\n            var sx = _v1$1.set(te[0], te[1], te[2]).length();\n\n            var sy = _v1$1.set(te[4], te[5], te[6]).length();\n\n            var sz = _v1$1.set(te[8], te[9], te[10]).length(); // if determine is negative, we need to invert one scale\n\n\n            var det = this.determinant();\n            if (det < 0) sx = -sx;\n            position.x = te[12];\n            position.y = te[13];\n            position.z = te[14]; // scale the rotation part\n\n            _m1.copy(this);\n\n            var invSX = 1 / sx;\n            var invSY = 1 / sy;\n            var invSZ = 1 / sz;\n            _m1.elements[0] *= invSX;\n            _m1.elements[1] *= invSX;\n            _m1.elements[2] *= invSX;\n            _m1.elements[4] *= invSY;\n            _m1.elements[5] *= invSY;\n            _m1.elements[6] *= invSY;\n            _m1.elements[8] *= invSZ;\n            _m1.elements[9] *= invSZ;\n            _m1.elements[10] *= invSZ;\n            quaternion.setFromRotationMatrix(_m1);\n            scale.x = sx;\n            scale.y = sy;\n            scale.z = sz;\n            return this;\n        };\n\n        _proto.makePerspective = function makePerspective(left, right, top, bottom, near, far) {\n            if (far === undefined) {\n                console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');\n            }\n\n            var te = this.elements;\n            var x = 2 * near / (right - left);\n            var y = 2 * near / (top - bottom);\n            var a = (right + left) / (right - left);\n            var b = (top + bottom) / (top - bottom);\n            var c = -(far + near) / (far - near);\n            var d = -2 * far * near / (far - near);\n            te[0] = x;\n            te[4] = 0;\n            te[8] = a;\n            te[12] = 0;\n            te[1] = 0;\n            te[5] = y;\n            te[9] = b;\n            te[13] = 0;\n            te[2] = 0;\n            te[6] = 0;\n            te[10] = c;\n            te[14] = d;\n            te[3] = 0;\n            te[7] = 0;\n            te[11] = -1;\n            te[15] = 0;\n            return this;\n        };\n\n        _proto.makeOrthographic = function makeOrthographic(left, right, top, bottom, near, far) {\n            var te = this.elements;\n            var w = 1.0 / (right - left);\n            var h = 1.0 / (top - bottom);\n            var p = 1.0 / (far - near);\n            var x = (right + left) * w;\n            var y = (top + bottom) * h;\n            var z = (far + near) * p;\n            te[0] = 2 * w;\n            te[4] = 0;\n            te[8] = 0;\n            te[12] = -x;\n            te[1] = 0;\n            te[5] = 2 * h;\n            te[9] = 0;\n            te[13] = -y;\n            te[2] = 0;\n            te[6] = 0;\n            te[10] = -2 * p;\n            te[14] = -z;\n            te[3] = 0;\n            te[7] = 0;\n            te[11] = 0;\n            te[15] = 1;\n            return this;\n        };\n\n        _proto.equals = function equals(matrix) {\n            var te = this.elements;\n            var me = matrix.elements;\n\n            for (var i = 0; i < 16; i++) {\n                if (te[i] !== me[i]) return false;\n            }\n\n            return true;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === undefined) offset = 0;\n\n            for (var i = 0; i < 16; i++) {\n                this.elements[i] = array[i + offset];\n            }\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            var te = this.elements;\n            array[offset] = te[0];\n            array[offset + 1] = te[1];\n            array[offset + 2] = te[2];\n            array[offset + 3] = te[3];\n            array[offset + 4] = te[4];\n            array[offset + 5] = te[5];\n            array[offset + 6] = te[6];\n            array[offset + 7] = te[7];\n            array[offset + 8] = te[8];\n            array[offset + 9] = te[9];\n            array[offset + 10] = te[10];\n            array[offset + 11] = te[11];\n            array[offset + 12] = te[12];\n            array[offset + 13] = te[13];\n            array[offset + 14] = te[14];\n            array[offset + 15] = te[15];\n            return array;\n        };\n\n        return Matrix4;\n    }();\n\n    var _v1$1 = /*@__PURE__*/new Vector3();\n\n    var _m1 = /*@__PURE__*/new Matrix4();\n\n    var _zero = /*@__PURE__*/new Vector3(0, 0, 0);\n\n    var _one = /*@__PURE__*/new Vector3(1, 1, 1);\n\n    var _x = /*@__PURE__*/new Vector3();\n\n    var _y = /*@__PURE__*/new Vector3();\n\n    var _z = /*@__PURE__*/new Vector3();\n\n    var Euler = /*#__PURE__*/function () {\n        function Euler(x, y, z, order) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            if (z === void 0) {\n                z = 0;\n            }\n\n            if (order === void 0) {\n                order = Euler.DefaultOrder;\n            }\n\n            Object.defineProperty(this, 'isEuler', {\n                value: true\n            });\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            this._order = order;\n        }\n\n        var _proto = Euler.prototype;\n\n        _proto.set = function set(x, y, z, order) {\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            this._order = order || this._order;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this._x, this._y, this._z, this._order);\n        };\n\n        _proto.copy = function copy(euler) {\n            this._x = euler._x;\n            this._y = euler._y;\n            this._z = euler._z;\n            this._order = euler._order;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.setFromRotationMatrix = function setFromRotationMatrix(m, order, update) {\n            var clamp = MathUtils.clamp; // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n            var te = m.elements;\n            var m11 = te[0],\n                m12 = te[4],\n                m13 = te[8];\n            var m21 = te[1],\n                m22 = te[5],\n                m23 = te[9];\n            var m31 = te[2],\n                m32 = te[6],\n                m33 = te[10];\n            order = order || this._order;\n\n            switch (order) {\n                case 'XYZ':\n                    this._y = Math.asin(clamp(m13, -1, 1));\n\n                    if (Math.abs(m13) < 0.9999999) {\n                        this._x = Math.atan2(-m23, m33);\n                        this._z = Math.atan2(-m12, m11);\n                    } else {\n                        this._x = Math.atan2(m32, m22);\n                        this._z = 0;\n                    }\n\n                    break;\n\n                case 'YXZ':\n                    this._x = Math.asin(-clamp(m23, -1, 1));\n\n                    if (Math.abs(m23) < 0.9999999) {\n                        this._y = Math.atan2(m13, m33);\n                        this._z = Math.atan2(m21, m22);\n                    } else {\n                        this._y = Math.atan2(-m31, m11);\n                        this._z = 0;\n                    }\n\n                    break;\n\n                case 'ZXY':\n                    this._x = Math.asin(clamp(m32, -1, 1));\n\n                    if (Math.abs(m32) < 0.9999999) {\n                        this._y = Math.atan2(-m31, m33);\n                        this._z = Math.atan2(-m12, m22);\n                    } else {\n                        this._y = 0;\n                        this._z = Math.atan2(m21, m11);\n                    }\n\n                    break;\n\n                case 'ZYX':\n                    this._y = Math.asin(-clamp(m31, -1, 1));\n\n                    if (Math.abs(m31) < 0.9999999) {\n                        this._x = Math.atan2(m32, m33);\n                        this._z = Math.atan2(m21, m11);\n                    } else {\n                        this._x = 0;\n                        this._z = Math.atan2(-m12, m22);\n                    }\n\n                    break;\n\n                case 'YZX':\n                    this._z = Math.asin(clamp(m21, -1, 1));\n\n                    if (Math.abs(m21) < 0.9999999) {\n                        this._x = Math.atan2(-m23, m22);\n                        this._y = Math.atan2(-m31, m11);\n                    } else {\n                        this._x = 0;\n                        this._y = Math.atan2(m13, m33);\n                    }\n\n                    break;\n\n                case 'XZY':\n                    this._z = Math.asin(-clamp(m12, -1, 1));\n\n                    if (Math.abs(m12) < 0.9999999) {\n                        this._x = Math.atan2(m32, m22);\n                        this._y = Math.atan2(m13, m11);\n                    } else {\n                        this._x = Math.atan2(-m23, m33);\n                        this._y = 0;\n                    }\n\n                    break;\n\n                default:\n                    console.warn('THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order);\n            }\n\n            this._order = order;\n            if (update !== false) this._onChangeCallback();\n            return this;\n        };\n\n        _proto.setFromQuaternion = function setFromQuaternion(q, order, update) {\n            _matrix.makeRotationFromQuaternion(q);\n\n            return this.setFromRotationMatrix(_matrix, order, update);\n        };\n\n        _proto.setFromVector3 = function setFromVector3(v, order) {\n            return this.set(v.x, v.y, v.z, order || this._order);\n        };\n\n        _proto.reorder = function reorder(newOrder) {\n            // WARNING: this discards revolution information -bhouston\n            _quaternion$1.setFromEuler(this);\n\n            return this.setFromQuaternion(_quaternion$1, newOrder);\n        };\n\n        _proto.equals = function equals(euler) {\n            return euler._x === this._x && euler._y === this._y && euler._z === this._z && euler._order === this._order;\n        };\n\n        _proto.fromArray = function fromArray(array) {\n            this._x = array[0];\n            this._y = array[1];\n            this._z = array[2];\n            if (array[3] !== undefined) this._order = array[3];\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            array[offset] = this._x;\n            array[offset + 1] = this._y;\n            array[offset + 2] = this._z;\n            array[offset + 3] = this._order;\n            return array;\n        };\n\n        _proto.toVector3 = function toVector3(optionalResult) {\n            if (optionalResult) {\n                return optionalResult.set(this._x, this._y, this._z);\n            } else {\n                return new Vector3(this._x, this._y, this._z);\n            }\n        };\n\n        _proto._onChange = function _onChange(callback) {\n            this._onChangeCallback = callback;\n            return this;\n        };\n\n        _proto._onChangeCallback = function _onChangeCallback() {};\n\n        _createClass(Euler, [{\n            key: \"x\",\n            get: function get() {\n                return this._x;\n            },\n            set: function set(value) {\n                this._x = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"y\",\n            get: function get() {\n                return this._y;\n            },\n            set: function set(value) {\n                this._y = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"z\",\n            get: function get() {\n                return this._z;\n            },\n            set: function set(value) {\n                this._z = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"order\",\n            get: function get() {\n                return this._order;\n            },\n            set: function set(value) {\n                this._order = value;\n\n                this._onChangeCallback();\n            }\n        }]);\n\n        return Euler;\n    }();\n\n    Euler.DefaultOrder = 'XYZ';\n    Euler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];\n\n    var _matrix = /*@__PURE__*/new Matrix4();\n\n    var _quaternion$1 = /*@__PURE__*/new Quaternion();\n\n    var Layers = /*#__PURE__*/function () {\n        function Layers() {\n            this.mask = 1 | 0;\n        }\n\n        var _proto = Layers.prototype;\n\n        _proto.set = function set(channel) {\n            this.mask = 1 << channel | 0;\n        };\n\n        _proto.enable = function enable(channel) {\n            this.mask |= 1 << channel | 0;\n        };\n\n        _proto.enableAll = function enableAll() {\n            this.mask = 0xffffffff | 0;\n        };\n\n        _proto.toggle = function toggle(channel) {\n            this.mask ^= 1 << channel | 0;\n        };\n\n        _proto.disable = function disable(channel) {\n            this.mask &= ~(1 << channel | 0);\n        };\n\n        _proto.disableAll = function disableAll() {\n            this.mask = 0;\n        };\n\n        _proto.test = function test(layers) {\n            return (this.mask & layers.mask) !== 0;\n        };\n\n        return Layers;\n    }();\n\n    var _object3DId = 0;\n\n    var _v1$2 = new Vector3();\n\n    var _q1 = new Quaternion();\n\n    var _m1$1 = new Matrix4();\n\n    var _target = new Vector3();\n\n    var _position = new Vector3();\n\n    var _scale = new Vector3();\n\n    var _quaternion$2 = new Quaternion();\n\n    var _xAxis = new Vector3(1, 0, 0);\n\n    var _yAxis = new Vector3(0, 1, 0);\n\n    var _zAxis = new Vector3(0, 0, 1);\n\n    var _addedEvent = {\n        type: 'added'\n    };\n    var _removedEvent = {\n        type: 'removed'\n    };\n\n    function Object3D() {\n        Object.defineProperty(this, 'id', {\n            value: _object3DId++\n        });\n        this.uuid = MathUtils.generateUUID();\n        this.name = '';\n        this.type = 'Object3D';\n        this.parent = null;\n        this.children = [];\n        this.up = Object3D.DefaultUp.clone();\n        var position = new Vector3();\n        var rotation = new Euler();\n        var quaternion = new Quaternion();\n        var scale = new Vector3(1, 1, 1);\n\n        function onRotationChange() {\n            quaternion.setFromEuler(rotation, false);\n        }\n\n        function onQuaternionChange() {\n            rotation.setFromQuaternion(quaternion, undefined, false);\n        }\n\n        rotation._onChange(onRotationChange);\n\n        quaternion._onChange(onQuaternionChange);\n\n        Object.defineProperties(this, {\n            position: {\n                configurable: true,\n                enumerable: true,\n                value: position\n            },\n            rotation: {\n                configurable: true,\n                enumerable: true,\n                value: rotation\n            },\n            quaternion: {\n                configurable: true,\n                enumerable: true,\n                value: quaternion\n            },\n            scale: {\n                configurable: true,\n                enumerable: true,\n                value: scale\n            },\n            modelViewMatrix: {\n                value: new Matrix4()\n            },\n            normalMatrix: {\n                value: new Matrix3()\n            }\n        });\n        this.matrix = new Matrix4();\n        this.matrixWorld = new Matrix4();\n        this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n        this.matrixWorldNeedsUpdate = false;\n        this.layers = new Layers();\n        this.visible = true;\n        this.castShadow = false;\n        this.receiveShadow = false;\n        this.frustumCulled = true;\n        this.renderOrder = 0;\n        this.userData = {};\n    }\n\n    Object3D.DefaultUp = new Vector3(0, 1, 0);\n    Object3D.DefaultMatrixAutoUpdate = true;\n    Object3D.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: Object3D,\n        isObject3D: true,\n        onBeforeRender: function onBeforeRender() {},\n        onAfterRender: function onAfterRender() {},\n        applyMatrix4: function applyMatrix4(matrix) {\n            if (this.matrixAutoUpdate) this.updateMatrix();\n            this.matrix.premultiply(matrix);\n            this.matrix.decompose(this.position, this.quaternion, this.scale);\n        },\n        applyQuaternion: function applyQuaternion(q) {\n            this.quaternion.premultiply(q);\n            return this;\n        },\n        setRotationFromAxisAngle: function setRotationFromAxisAngle(axis, angle) {\n            // assumes axis is normalized\n            this.quaternion.setFromAxisAngle(axis, angle);\n        },\n        setRotationFromEuler: function setRotationFromEuler(euler) {\n            this.quaternion.setFromEuler(euler, true);\n        },\n        setRotationFromMatrix: function setRotationFromMatrix(m) {\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n            this.quaternion.setFromRotationMatrix(m);\n        },\n        setRotationFromQuaternion: function setRotationFromQuaternion(q) {\n            // assumes q is normalized\n            this.quaternion.copy(q);\n        },\n        rotateOnAxis: function rotateOnAxis(axis, angle) {\n            // rotate object on axis in object space\n            // axis is assumed to be normalized\n            _q1.setFromAxisAngle(axis, angle);\n\n            this.quaternion.multiply(_q1);\n            return this;\n        },\n        rotateOnWorldAxis: function rotateOnWorldAxis(axis, angle) {\n            // rotate object on axis in world space\n            // axis is assumed to be normalized\n            // method assumes no rotated parent\n            _q1.setFromAxisAngle(axis, angle);\n\n            this.quaternion.premultiply(_q1);\n            return this;\n        },\n        rotateX: function rotateX(angle) {\n            return this.rotateOnAxis(_xAxis, angle);\n        },\n        rotateY: function rotateY(angle) {\n            return this.rotateOnAxis(_yAxis, angle);\n        },\n        rotateZ: function rotateZ(angle) {\n            return this.rotateOnAxis(_zAxis, angle);\n        },\n        translateOnAxis: function translateOnAxis(axis, distance) {\n            // translate object by distance along axis in object space\n            // axis is assumed to be normalized\n            _v1$2.copy(axis).applyQuaternion(this.quaternion);\n\n            this.position.add(_v1$2.multiplyScalar(distance));\n            return this;\n        },\n        translateX: function translateX(distance) {\n            return this.translateOnAxis(_xAxis, distance);\n        },\n        translateY: function translateY(distance) {\n            return this.translateOnAxis(_yAxis, distance);\n        },\n        translateZ: function translateZ(distance) {\n            return this.translateOnAxis(_zAxis, distance);\n        },\n        localToWorld: function localToWorld(vector) {\n            return vector.applyMatrix4(this.matrixWorld);\n        },\n        worldToLocal: function worldToLocal(vector) {\n            return vector.applyMatrix4(_m1$1.getInverse(this.matrixWorld));\n        },\n        lookAt: function lookAt(x, y, z) {\n            // This method does not support objects having non-uniformly-scaled parent(s)\n            if (x.isVector3) {\n                _target.copy(x);\n            } else {\n                _target.set(x, y, z);\n            }\n\n            var parent = this.parent;\n            this.updateWorldMatrix(true, false);\n\n            _position.setFromMatrixPosition(this.matrixWorld);\n\n            if (this.isCamera || this.isLight) {\n                _m1$1.lookAt(_position, _target, this.up);\n            } else {\n                _m1$1.lookAt(_target, _position, this.up);\n            }\n\n            this.quaternion.setFromRotationMatrix(_m1$1);\n\n            if (parent) {\n                _m1$1.extractRotation(parent.matrixWorld);\n\n                _q1.setFromRotationMatrix(_m1$1);\n\n                this.quaternion.premultiply(_q1.inverse());\n            }\n        },\n        add: function add(object) {\n            if (arguments.length > 1) {\n                for (var i = 0; i < arguments.length; i++) {\n                    this.add(arguments[i]);\n                }\n\n                return this;\n            }\n\n            if (object === this) {\n                console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\", object);\n                return this;\n            }\n\n            if (object && object.isObject3D) {\n                if (object.parent !== null) {\n                    object.parent.remove(object);\n                }\n\n                object.parent = this;\n                this.children.push(object);\n                object.dispatchEvent(_addedEvent);\n            } else {\n                console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object);\n            }\n\n            return this;\n        },\n        remove: function remove(object) {\n            if (arguments.length > 1) {\n                for (var i = 0; i < arguments.length; i++) {\n                    this.remove(arguments[i]);\n                }\n\n                return this;\n            }\n\n            var index = this.children.indexOf(object);\n\n            if (index !== -1) {\n                object.parent = null;\n                this.children.splice(index, 1);\n                object.dispatchEvent(_removedEvent);\n            }\n\n            return this;\n        },\n        attach: function attach(object) {\n            // adds object as a child of this, while maintaining the object's world transform\n            this.updateWorldMatrix(true, false);\n\n            _m1$1.getInverse(this.matrixWorld);\n\n            if (object.parent !== null) {\n                object.parent.updateWorldMatrix(true, false);\n\n                _m1$1.multiply(object.parent.matrixWorld);\n            }\n\n            object.applyMatrix4(_m1$1);\n            object.updateWorldMatrix(false, false);\n            this.add(object);\n            return this;\n        },\n        getObjectById: function getObjectById(id) {\n            return this.getObjectByProperty('id', id);\n        },\n        getObjectByName: function getObjectByName(name) {\n            return this.getObjectByProperty('name', name);\n        },\n        getObjectByProperty: function getObjectByProperty(name, value) {\n            if (this[name] === value) return this;\n\n            for (var i = 0, l = this.children.length; i < l; i++) {\n                var child = this.children[i];\n                var object = child.getObjectByProperty(name, value);\n\n                if (object !== undefined) {\n                    return object;\n                }\n            }\n\n            return undefined;\n        },\n        getWorldPosition: function getWorldPosition(target) {\n            if (target === undefined) {\n                console.warn('THREE.Object3D: .getWorldPosition() target is now required');\n                target = new Vector3();\n            }\n\n            this.updateWorldMatrix(true, false);\n            return target.setFromMatrixPosition(this.matrixWorld);\n        },\n        getWorldQuaternion: function getWorldQuaternion(target) {\n            if (target === undefined) {\n                console.warn('THREE.Object3D: .getWorldQuaternion() target is now required');\n                target = new Quaternion();\n            }\n\n            this.updateWorldMatrix(true, false);\n            this.matrixWorld.decompose(_position, target, _scale);\n            return target;\n        },\n        getWorldScale: function getWorldScale(target) {\n            if (target === undefined) {\n                console.warn('THREE.Object3D: .getWorldScale() target is now required');\n                target = new Vector3();\n            }\n\n            this.updateWorldMatrix(true, false);\n            this.matrixWorld.decompose(_position, _quaternion$2, target);\n            return target;\n        },\n        getWorldDirection: function getWorldDirection(target) {\n            if (target === undefined) {\n                console.warn('THREE.Object3D: .getWorldDirection() target is now required');\n                target = new Vector3();\n            }\n\n            this.updateWorldMatrix(true, false);\n            var e = this.matrixWorld.elements;\n            return target.set(e[8], e[9], e[10]).normalize();\n        },\n        raycast: function raycast() {},\n        traverse: function traverse(callback) {\n            callback(this);\n            var children = this.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                children[i].traverse(callback);\n            }\n        },\n        traverseVisible: function traverseVisible(callback) {\n            if (this.visible === false) return;\n            callback(this);\n            var children = this.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                children[i].traverseVisible(callback);\n            }\n        },\n        traverseAncestors: function traverseAncestors(callback) {\n            var parent = this.parent;\n\n            if (parent !== null) {\n                callback(parent);\n                parent.traverseAncestors(callback);\n            }\n        },\n        updateMatrix: function updateMatrix() {\n            this.matrix.compose(this.position, this.quaternion, this.scale);\n            this.matrixWorldNeedsUpdate = true;\n        },\n        updateMatrixWorld: function updateMatrixWorld(force) {\n            if (this.matrixAutoUpdate) this.updateMatrix();\n\n            if (this.matrixWorldNeedsUpdate || force) {\n                if (this.parent === null) {\n                    this.matrixWorld.copy(this.matrix);\n                } else {\n                    this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n                }\n\n                this.matrixWorldNeedsUpdate = false;\n                force = true;\n            } // update children\n\n\n            var children = this.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                children[i].updateMatrixWorld(force);\n            }\n        },\n        updateWorldMatrix: function updateWorldMatrix(updateParents, updateChildren) {\n            var parent = this.parent;\n\n            if (updateParents === true && parent !== null) {\n                parent.updateWorldMatrix(true, false);\n            }\n\n            if (this.matrixAutoUpdate) this.updateMatrix();\n\n            if (this.parent === null) {\n                this.matrixWorld.copy(this.matrix);\n            } else {\n                this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n            } // update children\n\n\n            if (updateChildren === true) {\n                var children = this.children;\n\n                for (var i = 0, l = children.length; i < l; i++) {\n                    children[i].updateWorldMatrix(false, true);\n                }\n            }\n        },\n        toJSON: function toJSON(meta) {\n            // meta is a string when called from JSON.stringify\n            var isRootObject = meta === undefined || typeof meta === 'string';\n            var output = {}; // meta is a hash used to collect geometries, materials.\n            // not providing it implies that this is the root object\n            // being serialized.\n\n            if (isRootObject) {\n                // initialize meta obj\n                meta = {\n                    geometries: {},\n                    materials: {},\n                    textures: {},\n                    images: {},\n                    shapes: {}\n                };\n                output.metadata = {\n                    version: 4.5,\n                    type: 'Object',\n                    generator: 'Object3D.toJSON'\n                };\n            } // standard Object3D serialization\n\n\n            var object = {};\n            object.uuid = this.uuid;\n            object.type = this.type;\n            if (this.name !== '') object.name = this.name;\n            if (this.castShadow === true) object.castShadow = true;\n            if (this.receiveShadow === true) object.receiveShadow = true;\n            if (this.visible === false) object.visible = false;\n            if (this.frustumCulled === false) object.frustumCulled = false;\n            if (this.renderOrder !== 0) object.renderOrder = this.renderOrder;\n            if (JSON.stringify(this.userData) !== '{}') object.userData = this.userData;\n            object.layers = this.layers.mask;\n            object.matrix = this.matrix.toArray();\n            if (this.matrixAutoUpdate === false) object.matrixAutoUpdate = false; // object specific properties\n\n            if (this.isInstancedMesh) {\n                object.type = 'InstancedMesh';\n                object.count = this.count;\n                object.instanceMatrix = this.instanceMatrix.toJSON();\n            } //\n\n\n            function serialize(library, element) {\n                if (library[element.uuid] === undefined) {\n                    library[element.uuid] = element.toJSON(meta);\n                }\n\n                return element.uuid;\n            }\n\n            if (this.isMesh || this.isLine || this.isPoints) {\n                object.geometry = serialize(meta.geometries, this.geometry);\n                var parameters = this.geometry.parameters;\n\n                if (parameters !== undefined && parameters.shapes !== undefined) {\n                    var shapes = parameters.shapes;\n\n                    if (Array.isArray(shapes)) {\n                        for (var i = 0, l = shapes.length; i < l; i++) {\n                            var shape = shapes[i];\n                            serialize(meta.shapes, shape);\n                        }\n                    } else {\n                        serialize(meta.shapes, shapes);\n                    }\n                }\n            }\n\n            if (this.material !== undefined) {\n                if (Array.isArray(this.material)) {\n                    var uuids = [];\n\n                    for (var _i = 0, _l = this.material.length; _i < _l; _i++) {\n                        uuids.push(serialize(meta.materials, this.material[_i]));\n                    }\n\n                    object.material = uuids;\n                } else {\n                    object.material = serialize(meta.materials, this.material);\n                }\n            } //\n\n\n            if (this.children.length > 0) {\n                object.children = [];\n\n                for (var _i2 = 0; _i2 < this.children.length; _i2++) {\n                    object.children.push(this.children[_i2].toJSON(meta).object);\n                }\n            }\n\n            if (isRootObject) {\n                var geometries = extractFromCache(meta.geometries);\n                var materials = extractFromCache(meta.materials);\n                var textures = extractFromCache(meta.textures);\n                var images = extractFromCache(meta.images);\n\n                var _shapes = extractFromCache(meta.shapes);\n\n                if (geometries.length > 0) output.geometries = geometries;\n                if (materials.length > 0) output.materials = materials;\n                if (textures.length > 0) output.textures = textures;\n                if (images.length > 0) output.images = images;\n                if (_shapes.length > 0) output.shapes = _shapes;\n            }\n\n            output.object = object;\n            return output; // extract data from the cache hash\n            // remove metadata on each item\n            // and return as array\n\n            function extractFromCache(cache) {\n                var values = [];\n\n                for (var key in cache) {\n                    var data = cache[key];\n                    delete data.metadata;\n                    values.push(data);\n                }\n\n                return values;\n            }\n        },\n        clone: function clone(recursive) {\n            return new this.constructor().copy(this, recursive);\n        },\n        copy: function copy(source, recursive) {\n            if (recursive === undefined) recursive = true;\n            this.name = source.name;\n            this.up.copy(source.up);\n            this.position.copy(source.position);\n            this.rotation.order = source.rotation.order;\n            this.quaternion.copy(source.quaternion);\n            this.scale.copy(source.scale);\n            this.matrix.copy(source.matrix);\n            this.matrixWorld.copy(source.matrixWorld);\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\n            this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n            this.layers.mask = source.layers.mask;\n            this.visible = source.visible;\n            this.castShadow = source.castShadow;\n            this.receiveShadow = source.receiveShadow;\n            this.frustumCulled = source.frustumCulled;\n            this.renderOrder = source.renderOrder;\n            this.userData = JSON.parse(JSON.stringify(source.userData));\n\n            if (recursive === true) {\n                for (var i = 0; i < source.children.length; i++) {\n                    var child = source.children[i];\n                    this.add(child.clone());\n                }\n            }\n\n            return this;\n        }\n    });\n\n    var _vector1 = /*@__PURE__*/new Vector3();\n\n    var _vector2 = /*@__PURE__*/new Vector3();\n\n    var _normalMatrix = /*@__PURE__*/new Matrix3();\n\n    var Plane = /*#__PURE__*/function () {\n        function Plane(normal, constant) {\n            Object.defineProperty(this, 'isPlane', {\n                value: true\n            }); // normal is assumed to be normalized\n\n            this.normal = normal !== undefined ? normal : new Vector3(1, 0, 0);\n            this.constant = constant !== undefined ? constant : 0;\n        }\n\n        var _proto = Plane.prototype;\n\n        _proto.set = function set(normal, constant) {\n            this.normal.copy(normal);\n            this.constant = constant;\n            return this;\n        };\n\n        _proto.setComponents = function setComponents(x, y, z, w) {\n            this.normal.set(x, y, z);\n            this.constant = w;\n            return this;\n        };\n\n        _proto.setFromNormalAndCoplanarPoint = function setFromNormalAndCoplanarPoint(normal, point) {\n            this.normal.copy(normal);\n            this.constant = -point.dot(this.normal);\n            return this;\n        };\n\n        _proto.setFromCoplanarPoints = function setFromCoplanarPoints(a, b, c) {\n            var normal = _vector1.subVectors(c, b).cross(_vector2.subVectors(a, b)).normalize(); // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\n            this.setFromNormalAndCoplanarPoint(normal, a);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(plane) {\n            this.normal.copy(plane.normal);\n            this.constant = plane.constant;\n            return this;\n        };\n\n        _proto.normalize = function normalize() {\n            // Note: will lead to a divide by zero if the plane is invalid.\n            var inverseNormalLength = 1.0 / this.normal.length();\n            this.normal.multiplyScalar(inverseNormalLength);\n            this.constant *= inverseNormalLength;\n            return this;\n        };\n\n        _proto.negate = function negate() {\n            this.constant *= -1;\n            this.normal.negate();\n            return this;\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            return this.normal.dot(point) + this.constant;\n        };\n\n        _proto.distanceToSphere = function distanceToSphere(sphere) {\n            return this.distanceToPoint(sphere.center) - sphere.radius;\n        };\n\n        _proto.projectPoint = function projectPoint(point, target) {\n            if (target === undefined) {\n                console.warn('THREE.Plane: .projectPoint() target is now required');\n                target = new Vector3();\n            }\n\n            return target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);\n        };\n\n        _proto.intersectLine = function intersectLine(line, target) {\n            if (target === undefined) {\n                console.warn('THREE.Plane: .intersectLine() target is now required');\n                target = new Vector3();\n            }\n\n            var direction = line.delta(_vector1);\n            var denominator = this.normal.dot(direction);\n\n            if (denominator === 0) {\n                // line is coplanar, return origin\n                if (this.distanceToPoint(line.start) === 0) {\n                    return target.copy(line.start);\n                } // Unsure if this is the correct method to handle this case.\n\n\n                return undefined;\n            }\n\n            var t = -(line.start.dot(this.normal) + this.constant) / denominator;\n\n            if (t < 0 || t > 1) {\n                return undefined;\n            }\n\n            return target.copy(direction).multiplyScalar(t).add(line.start);\n        };\n\n        _proto.intersectsLine = function intersectsLine(line) {\n            // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n            var startSign = this.distanceToPoint(line.start);\n            var endSign = this.distanceToPoint(line.end);\n            return startSign < 0 && endSign > 0 || endSign < 0 && startSign > 0;\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            return box.intersectsPlane(this);\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            return sphere.intersectsPlane(this);\n        };\n\n        _proto.coplanarPoint = function coplanarPoint(target) {\n            if (target === undefined) {\n                console.warn('THREE.Plane: .coplanarPoint() target is now required');\n                target = new Vector3();\n            }\n\n            return target.copy(this.normal).multiplyScalar(-this.constant);\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix, optionalNormalMatrix) {\n            var normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix(matrix);\n\n            var referencePoint = this.coplanarPoint(_vector1).applyMatrix4(matrix);\n            var normal = this.normal.applyMatrix3(normalMatrix).normalize();\n            this.constant = -referencePoint.dot(normal);\n            return this;\n        };\n\n        _proto.translate = function translate(offset) {\n            this.constant -= offset.dot(this.normal);\n            return this;\n        };\n\n        _proto.equals = function equals(plane) {\n            return plane.normal.equals(this.normal) && plane.constant === this.constant;\n        };\n\n        return Plane;\n    }();\n\n    var _v0$1 = /*@__PURE__*/new Vector3();\n\n    var _v1$3 = /*@__PURE__*/new Vector3();\n\n    var _v2$1 = /*@__PURE__*/new Vector3();\n\n    var _v3 = /*@__PURE__*/new Vector3();\n\n    var _vab = /*@__PURE__*/new Vector3();\n\n    var _vac = /*@__PURE__*/new Vector3();\n\n    var _vbc = /*@__PURE__*/new Vector3();\n\n    var _vap = /*@__PURE__*/new Vector3();\n\n    var _vbp = /*@__PURE__*/new Vector3();\n\n    var _vcp = /*@__PURE__*/new Vector3();\n\n    var Triangle = /*#__PURE__*/function () {\n        function Triangle(a, b, c) {\n            this.a = a !== undefined ? a : new Vector3();\n            this.b = b !== undefined ? b : new Vector3();\n            this.c = c !== undefined ? c : new Vector3();\n        }\n\n        Triangle.getNormal = function getNormal(a, b, c, target) {\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .getNormal() target is now required');\n                target = new Vector3();\n            }\n\n            target.subVectors(c, b);\n\n            _v0$1.subVectors(a, b);\n\n            target.cross(_v0$1);\n            var targetLengthSq = target.lengthSq();\n\n            if (targetLengthSq > 0) {\n                return target.multiplyScalar(1 / Math.sqrt(targetLengthSq));\n            }\n\n            return target.set(0, 0, 0);\n        } // static/instance method to calculate barycentric coordinates\n        // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n        ;\n\n        Triangle.getBarycoord = function getBarycoord(point, a, b, c, target) {\n            _v0$1.subVectors(c, a);\n\n            _v1$3.subVectors(b, a);\n\n            _v2$1.subVectors(point, a);\n\n            var dot00 = _v0$1.dot(_v0$1);\n\n            var dot01 = _v0$1.dot(_v1$3);\n\n            var dot02 = _v0$1.dot(_v2$1);\n\n            var dot11 = _v1$3.dot(_v1$3);\n\n            var dot12 = _v1$3.dot(_v2$1);\n\n            var denom = dot00 * dot11 - dot01 * dot01;\n\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .getBarycoord() target is now required');\n                target = new Vector3();\n            } // collinear or singular triangle\n\n\n            if (denom === 0) {\n                // arbitrary location outside of triangle?\n                // not sure if this is the best idea, maybe should be returning undefined\n                return target.set(-2, -1, -1);\n            }\n\n            var invDenom = 1 / denom;\n            var u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n            var v = (dot00 * dot12 - dot01 * dot02) * invDenom; // barycentric coordinates must always sum to 1\n\n            return target.set(1 - u - v, v, u);\n        };\n\n        Triangle.containsPoint = function containsPoint(point, a, b, c) {\n            this.getBarycoord(point, a, b, c, _v3);\n            return _v3.x >= 0 && _v3.y >= 0 && _v3.x + _v3.y <= 1;\n        };\n\n        Triangle.getUV = function getUV(point, p1, p2, p3, uv1, uv2, uv3, target) {\n            this.getBarycoord(point, p1, p2, p3, _v3);\n            target.set(0, 0);\n            target.addScaledVector(uv1, _v3.x);\n            target.addScaledVector(uv2, _v3.y);\n            target.addScaledVector(uv3, _v3.z);\n            return target;\n        };\n\n        Triangle.isFrontFacing = function isFrontFacing(a, b, c, direction) {\n            _v0$1.subVectors(c, b);\n\n            _v1$3.subVectors(a, b); // strictly front facing\n\n\n            return _v0$1.cross(_v1$3).dot(direction) < 0 ? true : false;\n        };\n\n        var _proto = Triangle.prototype;\n\n        _proto.set = function set(a, b, c) {\n            this.a.copy(a);\n            this.b.copy(b);\n            this.c.copy(c);\n            return this;\n        };\n\n        _proto.setFromPointsAndIndices = function setFromPointsAndIndices(points, i0, i1, i2) {\n            this.a.copy(points[i0]);\n            this.b.copy(points[i1]);\n            this.c.copy(points[i2]);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(triangle) {\n            this.a.copy(triangle.a);\n            this.b.copy(triangle.b);\n            this.c.copy(triangle.c);\n            return this;\n        };\n\n        _proto.getArea = function getArea() {\n            _v0$1.subVectors(this.c, this.b);\n\n            _v1$3.subVectors(this.a, this.b);\n\n            return _v0$1.cross(_v1$3).length() * 0.5;\n        };\n\n        _proto.getMidpoint = function getMidpoint(target) {\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .getMidpoint() target is now required');\n                target = new Vector3();\n            }\n\n            return target.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);\n        };\n\n        _proto.getNormal = function getNormal(target) {\n            return Triangle.getNormal(this.a, this.b, this.c, target);\n        };\n\n        _proto.getPlane = function getPlane(target) {\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .getPlane() target is now required');\n                target = new Plane();\n            }\n\n            return target.setFromCoplanarPoints(this.a, this.b, this.c);\n        };\n\n        _proto.getBarycoord = function getBarycoord(point, target) {\n            return Triangle.getBarycoord(point, this.a, this.b, this.c, target);\n        };\n\n        _proto.getUV = function getUV(point, uv1, uv2, uv3, target) {\n            return Triangle.getUV(point, this.a, this.b, this.c, uv1, uv2, uv3, target);\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            return Triangle.containsPoint(point, this.a, this.b, this.c);\n        };\n\n        _proto.isFrontFacing = function isFrontFacing(direction) {\n            return Triangle.isFrontFacing(this.a, this.b, this.c, direction);\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            return box.intersectsTriangle(this);\n        };\n\n        _proto.closestPointToPoint = function closestPointToPoint(p, target) {\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .closestPointToPoint() target is now required');\n                target = new Vector3();\n            }\n\n            var a = this.a,\n                b = this.b,\n                c = this.c;\n            var v, w; // algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n            // published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n            // under the accompanying license; see chapter 5.1.5 for detailed explanation.\n            // basically, we're distinguishing which of the voronoi regions of the triangle\n            // the point lies in with the minimum amount of redundant computation.\n\n            _vab.subVectors(b, a);\n\n            _vac.subVectors(c, a);\n\n            _vap.subVectors(p, a);\n\n            var d1 = _vab.dot(_vap);\n\n            var d2 = _vac.dot(_vap);\n\n            if (d1 <= 0 && d2 <= 0) {\n                // vertex region of A; barycentric coords (1, 0, 0)\n                return target.copy(a);\n            }\n\n            _vbp.subVectors(p, b);\n\n            var d3 = _vab.dot(_vbp);\n\n            var d4 = _vac.dot(_vbp);\n\n            if (d3 >= 0 && d4 <= d3) {\n                // vertex region of B; barycentric coords (0, 1, 0)\n                return target.copy(b);\n            }\n\n            var vc = d1 * d4 - d3 * d2;\n\n            if (vc <= 0 && d1 >= 0 && d3 <= 0) {\n                v = d1 / (d1 - d3); // edge region of AB; barycentric coords (1-v, v, 0)\n\n                return target.copy(a).addScaledVector(_vab, v);\n            }\n\n            _vcp.subVectors(p, c);\n\n            var d5 = _vab.dot(_vcp);\n\n            var d6 = _vac.dot(_vcp);\n\n            if (d6 >= 0 && d5 <= d6) {\n                // vertex region of C; barycentric coords (0, 0, 1)\n                return target.copy(c);\n            }\n\n            var vb = d5 * d2 - d1 * d6;\n\n            if (vb <= 0 && d2 >= 0 && d6 <= 0) {\n                w = d2 / (d2 - d6); // edge region of AC; barycentric coords (1-w, 0, w)\n\n                return target.copy(a).addScaledVector(_vac, w);\n            }\n\n            var va = d3 * d6 - d5 * d4;\n\n            if (va <= 0 && d4 - d3 >= 0 && d5 - d6 >= 0) {\n                _vbc.subVectors(c, b);\n\n                w = (d4 - d3) / (d4 - d3 + (d5 - d6)); // edge region of BC; barycentric coords (0, 1-w, w)\n\n                return target.copy(b).addScaledVector(_vbc, w); // edge region of BC\n            } // face region\n\n\n            var denom = 1 / (va + vb + vc); // u = va * denom\n\n            v = vb * denom;\n            w = vc * denom;\n            return target.copy(a).addScaledVector(_vab, v).addScaledVector(_vac, w);\n        };\n\n        _proto.equals = function equals(triangle) {\n            return triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);\n        };\n\n        return Triangle;\n    }();\n\n    var _colorKeywords = {\n        'aliceblue': 0xF0F8FF,\n        'antiquewhite': 0xFAEBD7,\n        'aqua': 0x00FFFF,\n        'aquamarine': 0x7FFFD4,\n        'azure': 0xF0FFFF,\n        'beige': 0xF5F5DC,\n        'bisque': 0xFFE4C4,\n        'black': 0x000000,\n        'blanchedalmond': 0xFFEBCD,\n        'blue': 0x0000FF,\n        'blueviolet': 0x8A2BE2,\n        'brown': 0xA52A2A,\n        'burlywood': 0xDEB887,\n        'cadetblue': 0x5F9EA0,\n        'chartreuse': 0x7FFF00,\n        'chocolate': 0xD2691E,\n        'coral': 0xFF7F50,\n        'cornflowerblue': 0x6495ED,\n        'cornsilk': 0xFFF8DC,\n        'crimson': 0xDC143C,\n        'cyan': 0x00FFFF,\n        'darkblue': 0x00008B,\n        'darkcyan': 0x008B8B,\n        'darkgoldenrod': 0xB8860B,\n        'darkgray': 0xA9A9A9,\n        'darkgreen': 0x006400,\n        'darkgrey': 0xA9A9A9,\n        'darkkhaki': 0xBDB76B,\n        'darkmagenta': 0x8B008B,\n        'darkolivegreen': 0x556B2F,\n        'darkorange': 0xFF8C00,\n        'darkorchid': 0x9932CC,\n        'darkred': 0x8B0000,\n        'darksalmon': 0xE9967A,\n        'darkseagreen': 0x8FBC8F,\n        'darkslateblue': 0x483D8B,\n        'darkslategray': 0x2F4F4F,\n        'darkslategrey': 0x2F4F4F,\n        'darkturquoise': 0x00CED1,\n        'darkviolet': 0x9400D3,\n        'deeppink': 0xFF1493,\n        'deepskyblue': 0x00BFFF,\n        'dimgray': 0x696969,\n        'dimgrey': 0x696969,\n        'dodgerblue': 0x1E90FF,\n        'firebrick': 0xB22222,\n        'floralwhite': 0xFFFAF0,\n        'forestgreen': 0x228B22,\n        'fuchsia': 0xFF00FF,\n        'gainsboro': 0xDCDCDC,\n        'ghostwhite': 0xF8F8FF,\n        'gold': 0xFFD700,\n        'goldenrod': 0xDAA520,\n        'gray': 0x808080,\n        'green': 0x008000,\n        'greenyellow': 0xADFF2F,\n        'grey': 0x808080,\n        'honeydew': 0xF0FFF0,\n        'hotpink': 0xFF69B4,\n        'indianred': 0xCD5C5C,\n        'indigo': 0x4B0082,\n        'ivory': 0xFFFFF0,\n        'khaki': 0xF0E68C,\n        'lavender': 0xE6E6FA,\n        'lavenderblush': 0xFFF0F5,\n        'lawngreen': 0x7CFC00,\n        'lemonchiffon': 0xFFFACD,\n        'lightblue': 0xADD8E6,\n        'lightcoral': 0xF08080,\n        'lightcyan': 0xE0FFFF,\n        'lightgoldenrodyellow': 0xFAFAD2,\n        'lightgray': 0xD3D3D3,\n        'lightgreen': 0x90EE90,\n        'lightgrey': 0xD3D3D3,\n        'lightpink': 0xFFB6C1,\n        'lightsalmon': 0xFFA07A,\n        'lightseagreen': 0x20B2AA,\n        'lightskyblue': 0x87CEFA,\n        'lightslategray': 0x778899,\n        'lightslategrey': 0x778899,\n        'lightsteelblue': 0xB0C4DE,\n        'lightyellow': 0xFFFFE0,\n        'lime': 0x00FF00,\n        'limegreen': 0x32CD32,\n        'linen': 0xFAF0E6,\n        'magenta': 0xFF00FF,\n        'maroon': 0x800000,\n        'mediumaquamarine': 0x66CDAA,\n        'mediumblue': 0x0000CD,\n        'mediumorchid': 0xBA55D3,\n        'mediumpurple': 0x9370DB,\n        'mediumseagreen': 0x3CB371,\n        'mediumslateblue': 0x7B68EE,\n        'mediumspringgreen': 0x00FA9A,\n        'mediumturquoise': 0x48D1CC,\n        'mediumvioletred': 0xC71585,\n        'midnightblue': 0x191970,\n        'mintcream': 0xF5FFFA,\n        'mistyrose': 0xFFE4E1,\n        'moccasin': 0xFFE4B5,\n        'navajowhite': 0xFFDEAD,\n        'navy': 0x000080,\n        'oldlace': 0xFDF5E6,\n        'olive': 0x808000,\n        'olivedrab': 0x6B8E23,\n        'orange': 0xFFA500,\n        'orangered': 0xFF4500,\n        'orchid': 0xDA70D6,\n        'palegoldenrod': 0xEEE8AA,\n        'palegreen': 0x98FB98,\n        'paleturquoise': 0xAFEEEE,\n        'palevioletred': 0xDB7093,\n        'papayawhip': 0xFFEFD5,\n        'peachpuff': 0xFFDAB9,\n        'peru': 0xCD853F,\n        'pink': 0xFFC0CB,\n        'plum': 0xDDA0DD,\n        'powderblue': 0xB0E0E6,\n        'purple': 0x800080,\n        'rebeccapurple': 0x663399,\n        'red': 0xFF0000,\n        'rosybrown': 0xBC8F8F,\n        'royalblue': 0x4169E1,\n        'saddlebrown': 0x8B4513,\n        'salmon': 0xFA8072,\n        'sandybrown': 0xF4A460,\n        'seagreen': 0x2E8B57,\n        'seashell': 0xFFF5EE,\n        'sienna': 0xA0522D,\n        'silver': 0xC0C0C0,\n        'skyblue': 0x87CEEB,\n        'slateblue': 0x6A5ACD,\n        'slategray': 0x708090,\n        'slategrey': 0x708090,\n        'snow': 0xFFFAFA,\n        'springgreen': 0x00FF7F,\n        'steelblue': 0x4682B4,\n        'tan': 0xD2B48C,\n        'teal': 0x008080,\n        'thistle': 0xD8BFD8,\n        'tomato': 0xFF6347,\n        'turquoise': 0x40E0D0,\n        'violet': 0xEE82EE,\n        'wheat': 0xF5DEB3,\n        'white': 0xFFFFFF,\n        'whitesmoke': 0xF5F5F5,\n        'yellow': 0xFFFF00,\n        'yellowgreen': 0x9ACD32\n    };\n    var _hslA = {\n        h: 0,\n        s: 0,\n        l: 0\n    };\n    var _hslB = {\n        h: 0,\n        s: 0,\n        l: 0\n    };\n\n    function hue2rgb(p, q, t) {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1 / 6) return p + (q - p) * 6 * t;\n        if (t < 1 / 2) return q;\n        if (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);\n        return p;\n    }\n\n    function SRGBToLinear(c) {\n        return c < 0.04045 ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n    }\n\n    function LinearToSRGB(c) {\n        return c < 0.0031308 ? c * 12.92 : 1.055 * Math.pow(c, 0.41666) - 0.055;\n    }\n\n    var Color = /*#__PURE__*/function () {\n        function Color(r, g, b) {\n            Object.defineProperty(this, 'isColor', {\n                value: true\n            });\n\n            if (g === undefined && b === undefined) {\n                // r is THREE.Color, hex or string\n                return this.set(r);\n            }\n\n            return this.setRGB(r, g, b);\n        }\n\n        var _proto = Color.prototype;\n\n        _proto.set = function set(value) {\n            if (value && value.isColor) {\n                this.copy(value);\n            } else if (typeof value === 'number') {\n                this.setHex(value);\n            } else if (typeof value === 'string') {\n                this.setStyle(value);\n            }\n\n            return this;\n        };\n\n        _proto.setScalar = function setScalar(scalar) {\n            this.r = scalar;\n            this.g = scalar;\n            this.b = scalar;\n            return this;\n        };\n\n        _proto.setHex = function setHex(hex) {\n            hex = Math.floor(hex);\n            this.r = (hex >> 16 & 255) / 255;\n            this.g = (hex >> 8 & 255) / 255;\n            this.b = (hex & 255) / 255;\n            return this;\n        };\n\n        _proto.setRGB = function setRGB(r, g, b) {\n            this.r = r;\n            this.g = g;\n            this.b = b;\n            return this;\n        };\n\n        _proto.setHSL = function setHSL(h, s, l) {\n            // h,s,l ranges are in 0.0 - 1.0\n            h = MathUtils.euclideanModulo(h, 1);\n            s = MathUtils.clamp(s, 0, 1);\n            l = MathUtils.clamp(l, 0, 1);\n\n            if (s === 0) {\n                this.r = this.g = this.b = l;\n            } else {\n                var p = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n                var q = 2 * l - p;\n                this.r = hue2rgb(q, p, h + 1 / 3);\n                this.g = hue2rgb(q, p, h);\n                this.b = hue2rgb(q, p, h - 1 / 3);\n            }\n\n            return this;\n        };\n\n        _proto.setStyle = function setStyle(style) {\n            function handleAlpha(string) {\n                if (string === undefined) return;\n\n                if (parseFloat(string) < 1) {\n                    console.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');\n                }\n            }\n\n            var m;\n\n            if (m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(style)) {\n                // rgb / hsl\n                var color;\n                var name = m[1];\n                var components = m[2];\n\n                switch (name) {\n                    case 'rgb':\n                    case 'rgba':\n                        if (color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n                            // rgb(255,0,0) rgba(255,0,0,0.5)\n                            this.r = Math.min(255, parseInt(color[1], 10)) / 255;\n                            this.g = Math.min(255, parseInt(color[2], 10)) / 255;\n                            this.b = Math.min(255, parseInt(color[3], 10)) / 255;\n                            handleAlpha(color[5]);\n                            return this;\n                        }\n\n                        if (color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n                            // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n                            this.r = Math.min(100, parseInt(color[1], 10)) / 100;\n                            this.g = Math.min(100, parseInt(color[2], 10)) / 100;\n                            this.b = Math.min(100, parseInt(color[3], 10)) / 100;\n                            handleAlpha(color[5]);\n                            return this;\n                        }\n\n                        break;\n\n                    case 'hsl':\n                    case 'hsla':\n                        if (color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n                            // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n                            var h = parseFloat(color[1]) / 360;\n                            var s = parseInt(color[2], 10) / 100;\n                            var l = parseInt(color[3], 10) / 100;\n                            handleAlpha(color[5]);\n                            return this.setHSL(h, s, l);\n                        }\n\n                        break;\n                }\n            } else if (m = /^\\#([A-Fa-f0-9]+)$/.exec(style)) {\n                // hex color\n                var hex = m[1];\n                var size = hex.length;\n\n                if (size === 3) {\n                    // #ff0\n                    this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n                    this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n                    this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n                    return this;\n                } else if (size === 6) {\n                    // #ff0000\n                    this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n                    this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n                    this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n                    return this;\n                }\n            }\n\n            if (style && style.length > 0) {\n                return this.setColorName(style);\n            }\n\n            return this;\n        };\n\n        _proto.setColorName = function setColorName(style) {\n            // color keywords\n            var hex = _colorKeywords[style];\n\n            if (hex !== undefined) {\n                // red\n                this.setHex(hex);\n            } else {\n                // unknown color\n                console.warn('THREE.Color: Unknown color ' + style);\n            }\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.r, this.g, this.b);\n        };\n\n        _proto.copy = function copy(color) {\n            this.r = color.r;\n            this.g = color.g;\n            this.b = color.b;\n            return this;\n        };\n\n        _proto.copyGammaToLinear = function copyGammaToLinear(color, gammaFactor) {\n            if (gammaFactor === undefined) gammaFactor = 2.0;\n            this.r = Math.pow(color.r, gammaFactor);\n            this.g = Math.pow(color.g, gammaFactor);\n            this.b = Math.pow(color.b, gammaFactor);\n            return this;\n        };\n\n        _proto.copyLinearToGamma = function copyLinearToGamma(color, gammaFactor) {\n            if (gammaFactor === undefined) gammaFactor = 2.0;\n            var safeInverse = gammaFactor > 0 ? 1.0 / gammaFactor : 1.0;\n            this.r = Math.pow(color.r, safeInverse);\n            this.g = Math.pow(color.g, safeInverse);\n            this.b = Math.pow(color.b, safeInverse);\n            return this;\n        };\n\n        _proto.convertGammaToLinear = function convertGammaToLinear(gammaFactor) {\n            this.copyGammaToLinear(this, gammaFactor);\n            return this;\n        };\n\n        _proto.convertLinearToGamma = function convertLinearToGamma(gammaFactor) {\n            this.copyLinearToGamma(this, gammaFactor);\n            return this;\n        };\n\n        _proto.copySRGBToLinear = function copySRGBToLinear(color) {\n            this.r = SRGBToLinear(color.r);\n            this.g = SRGBToLinear(color.g);\n            this.b = SRGBToLinear(color.b);\n            return this;\n        };\n\n        _proto.copyLinearToSRGB = function copyLinearToSRGB(color) {\n            this.r = LinearToSRGB(color.r);\n            this.g = LinearToSRGB(color.g);\n            this.b = LinearToSRGB(color.b);\n            return this;\n        };\n\n        _proto.convertSRGBToLinear = function convertSRGBToLinear() {\n            this.copySRGBToLinear(this);\n            return this;\n        };\n\n        _proto.convertLinearToSRGB = function convertLinearToSRGB() {\n            this.copyLinearToSRGB(this);\n            return this;\n        };\n\n        _proto.getHex = function getHex() {\n            return this.r * 255 << 16 ^ this.g * 255 << 8 ^ this.b * 255 << 0;\n        };\n\n        _proto.getHexString = function getHexString() {\n            return ('000000' + this.getHex().toString(16)).slice(-6);\n        };\n\n        _proto.getHSL = function getHSL(target) {\n            // h,s,l ranges are in 0.0 - 1.0\n            if (target === undefined) {\n                console.warn('THREE.Color: .getHSL() target is now required');\n                target = {\n                    h: 0,\n                    s: 0,\n                    l: 0\n                };\n            }\n\n            var r = this.r,\n                g = this.g,\n                b = this.b;\n            var max = Math.max(r, g, b);\n            var min = Math.min(r, g, b);\n            var hue, saturation;\n            var lightness = (min + max) / 2.0;\n\n            if (min === max) {\n                hue = 0;\n                saturation = 0;\n            } else {\n                var delta = max - min;\n                saturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n\n                switch (max) {\n                    case r:\n                        hue = (g - b) / delta + (g < b ? 6 : 0);\n                        break;\n\n                    case g:\n                        hue = (b - r) / delta + 2;\n                        break;\n\n                    case b:\n                        hue = (r - g) / delta + 4;\n                        break;\n                }\n\n                hue /= 6;\n            }\n\n            target.h = hue;\n            target.s = saturation;\n            target.l = lightness;\n            return target;\n        };\n\n        _proto.getStyle = function getStyle() {\n            return 'rgb(' + (this.r * 255 | 0) + ',' + (this.g * 255 | 0) + ',' + (this.b * 255 | 0) + ')';\n        };\n\n        _proto.offsetHSL = function offsetHSL(h, s, l) {\n            this.getHSL(_hslA);\n            _hslA.h += h;\n            _hslA.s += s;\n            _hslA.l += l;\n            this.setHSL(_hslA.h, _hslA.s, _hslA.l);\n            return this;\n        };\n\n        _proto.add = function add(color) {\n            this.r += color.r;\n            this.g += color.g;\n            this.b += color.b;\n            return this;\n        };\n\n        _proto.addColors = function addColors(color1, color2) {\n            this.r = color1.r + color2.r;\n            this.g = color1.g + color2.g;\n            this.b = color1.b + color2.b;\n            return this;\n        };\n\n        _proto.addScalar = function addScalar(s) {\n            this.r += s;\n            this.g += s;\n            this.b += s;\n            return this;\n        };\n\n        _proto.sub = function sub(color) {\n            this.r = Math.max(0, this.r - color.r);\n            this.g = Math.max(0, this.g - color.g);\n            this.b = Math.max(0, this.b - color.b);\n            return this;\n        };\n\n        _proto.multiply = function multiply(color) {\n            this.r *= color.r;\n            this.g *= color.g;\n            this.b *= color.b;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(s) {\n            this.r *= s;\n            this.g *= s;\n            this.b *= s;\n            return this;\n        };\n\n        _proto.lerp = function lerp(color, alpha) {\n            this.r += (color.r - this.r) * alpha;\n            this.g += (color.g - this.g) * alpha;\n            this.b += (color.b - this.b) * alpha;\n            return this;\n        };\n\n        _proto.lerpHSL = function lerpHSL(color, alpha) {\n            this.getHSL(_hslA);\n            color.getHSL(_hslB);\n            var h = MathUtils.lerp(_hslA.h, _hslB.h, alpha);\n            var s = MathUtils.lerp(_hslA.s, _hslB.s, alpha);\n            var l = MathUtils.lerp(_hslA.l, _hslB.l, alpha);\n            this.setHSL(h, s, l);\n            return this;\n        };\n\n        _proto.equals = function equals(c) {\n            return c.r === this.r && c.g === this.g && c.b === this.b;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === undefined) offset = 0;\n            this.r = array[offset];\n            this.g = array[offset + 1];\n            this.b = array[offset + 2];\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            array[offset] = this.r;\n            array[offset + 1] = this.g;\n            array[offset + 2] = this.b;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index) {\n            this.r = attribute.getX(index);\n            this.g = attribute.getY(index);\n            this.b = attribute.getZ(index);\n\n            if (attribute.normalized === true) {\n                // assuming Uint8Array\n                this.r /= 255;\n                this.g /= 255;\n                this.b /= 255;\n            }\n\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            return this.getHex();\n        };\n\n        return Color;\n    }();\n\n    Color.NAMES = _colorKeywords;\n    Color.prototype.r = 1;\n    Color.prototype.g = 1;\n    Color.prototype.b = 1;\n\n    var Face3 = /*#__PURE__*/function () {\n        function Face3(a, b, c, normal, color, materialIndex) {\n            this.a = a;\n            this.b = b;\n            this.c = c;\n            this.normal = normal && normal.isVector3 ? normal : new Vector3();\n            this.vertexNormals = Array.isArray(normal) ? normal : [];\n            this.color = color && color.isColor ? color : new Color();\n            this.vertexColors = Array.isArray(color) ? color : [];\n            this.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n        }\n\n        var _proto = Face3.prototype;\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(source) {\n            this.a = source.a;\n            this.b = source.b;\n            this.c = source.c;\n            this.normal.copy(source.normal);\n            this.color.copy(source.color);\n            this.materialIndex = source.materialIndex;\n\n            for (var i = 0, il = source.vertexNormals.length; i < il; i++) {\n                this.vertexNormals[i] = source.vertexNormals[i].clone();\n            }\n\n            for (var _i = 0, _il = source.vertexColors.length; _i < _il; _i++) {\n                this.vertexColors[_i] = source.vertexColors[_i].clone();\n            }\n\n            return this;\n        };\n\n        return Face3;\n    }();\n\n    var materialId = 0;\n\n    function Material() {\n        Object.defineProperty(this, 'id', {\n            value: materialId++\n        });\n        this.uuid = MathUtils.generateUUID();\n        this.name = '';\n        this.type = 'Material';\n        this.fog = true;\n        this.blending = NormalBlending;\n        this.side = FrontSide;\n        this.flatShading = false;\n        this.vertexColors = false;\n        this.opacity = 1;\n        this.transparent = false;\n        this.blendSrc = SrcAlphaFactor;\n        this.blendDst = OneMinusSrcAlphaFactor;\n        this.blendEquation = AddEquation;\n        this.blendSrcAlpha = null;\n        this.blendDstAlpha = null;\n        this.blendEquationAlpha = null;\n        this.depthFunc = LessEqualDepth;\n        this.depthTest = true;\n        this.depthWrite = true;\n        this.stencilWriteMask = 0xff;\n        this.stencilFunc = AlwaysStencilFunc;\n        this.stencilRef = 0;\n        this.stencilFuncMask = 0xff;\n        this.stencilFail = KeepStencilOp;\n        this.stencilZFail = KeepStencilOp;\n        this.stencilZPass = KeepStencilOp;\n        this.stencilWrite = false;\n        this.clippingPlanes = null;\n        this.clipIntersection = false;\n        this.clipShadows = false;\n        this.shadowSide = null;\n        this.colorWrite = true;\n        this.precision = null; // override the renderer's default precision for this material\n\n        this.polygonOffset = false;\n        this.polygonOffsetFactor = 0;\n        this.polygonOffsetUnits = 0;\n        this.dithering = false;\n        this.alphaTest = 0;\n        this.premultipliedAlpha = false;\n        this.visible = true;\n        this.toneMapped = true;\n        this.userData = {};\n        this.version = 0;\n    }\n\n    Material.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: Material,\n        isMaterial: true,\n        onBeforeCompile: function onBeforeCompile()\n            /* shaderobject, renderer */\n        {},\n        customProgramCacheKey: function customProgramCacheKey() {\n            return this.onBeforeCompile.toString();\n        },\n        setValues: function setValues(values) {\n            if (values === undefined) return;\n\n            for (var key in values) {\n                var newValue = values[key];\n\n                if (newValue === undefined) {\n                    console.warn(\"THREE.Material: '\" + key + \"' parameter is undefined.\");\n                    continue;\n                } // for backward compatability if shading is set in the constructor\n\n\n                if (key === 'shading') {\n                    console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n                    this.flatShading = newValue === FlatShading ? true : false;\n                    continue;\n                }\n\n                var currentValue = this[key];\n\n                if (currentValue === undefined) {\n                    console.warn(\"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\");\n                    continue;\n                }\n\n                if (currentValue && currentValue.isColor) {\n                    currentValue.set(newValue);\n                } else if (currentValue && currentValue.isVector3 && newValue && newValue.isVector3) {\n                    currentValue.copy(newValue);\n                } else {\n                    this[key] = newValue;\n                }\n            }\n        },\n        toJSON: function toJSON(meta) {\n            var isRoot = meta === undefined || typeof meta === 'string';\n\n            if (isRoot) {\n                meta = {\n                    textures: {},\n                    images: {}\n                };\n            }\n\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Material',\n                    generator: 'Material.toJSON'\n                }\n            }; // standard Material serialization\n\n            data.uuid = this.uuid;\n            data.type = this.type;\n            if (this.name !== '') data.name = this.name;\n            if (this.color && this.color.isColor) data.color = this.color.getHex();\n            if (this.roughness !== undefined) data.roughness = this.roughness;\n            if (this.metalness !== undefined) data.metalness = this.metalness;\n            if (this.sheen && this.sheen.isColor) data.sheen = this.sheen.getHex();\n            if (this.emissive && this.emissive.isColor) data.emissive = this.emissive.getHex();\n            if (this.emissiveIntensity && this.emissiveIntensity !== 1) data.emissiveIntensity = this.emissiveIntensity;\n            if (this.specular && this.specular.isColor) data.specular = this.specular.getHex();\n            if (this.shininess !== undefined) data.shininess = this.shininess;\n            if (this.clearcoat !== undefined) data.clearcoat = this.clearcoat;\n            if (this.clearcoatRoughness !== undefined) data.clearcoatRoughness = this.clearcoatRoughness;\n\n            if (this.clearcoatMap && this.clearcoatMap.isTexture) {\n                data.clearcoatMap = this.clearcoatMap.toJSON(meta).uuid;\n            }\n\n            if (this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture) {\n                data.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(meta).uuid;\n            }\n\n            if (this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture) {\n                data.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(meta).uuid;\n                data.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n            }\n\n            if (this.map && this.map.isTexture) data.map = this.map.toJSON(meta).uuid;\n            if (this.matcap && this.matcap.isTexture) data.matcap = this.matcap.toJSON(meta).uuid;\n            if (this.alphaMap && this.alphaMap.isTexture) data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n            if (this.lightMap && this.lightMap.isTexture) data.lightMap = this.lightMap.toJSON(meta).uuid;\n\n            if (this.aoMap && this.aoMap.isTexture) {\n                data.aoMap = this.aoMap.toJSON(meta).uuid;\n                data.aoMapIntensity = this.aoMapIntensity;\n            }\n\n            if (this.bumpMap && this.bumpMap.isTexture) {\n                data.bumpMap = this.bumpMap.toJSON(meta).uuid;\n                data.bumpScale = this.bumpScale;\n            }\n\n            if (this.normalMap && this.normalMap.isTexture) {\n                data.normalMap = this.normalMap.toJSON(meta).uuid;\n                data.normalMapType = this.normalMapType;\n                data.normalScale = this.normalScale.toArray();\n            }\n\n            if (this.displacementMap && this.displacementMap.isTexture) {\n                data.displacementMap = this.displacementMap.toJSON(meta).uuid;\n                data.displacementScale = this.displacementScale;\n                data.displacementBias = this.displacementBias;\n            }\n\n            if (this.roughnessMap && this.roughnessMap.isTexture) data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n            if (this.metalnessMap && this.metalnessMap.isTexture) data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n            if (this.emissiveMap && this.emissiveMap.isTexture) data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n            if (this.specularMap && this.specularMap.isTexture) data.specularMap = this.specularMap.toJSON(meta).uuid;\n\n            if (this.envMap && this.envMap.isTexture) {\n                data.envMap = this.envMap.toJSON(meta).uuid;\n                data.reflectivity = this.reflectivity; // Scale behind envMap\n\n                data.refractionRatio = this.refractionRatio;\n                if (this.combine !== undefined) data.combine = this.combine;\n                if (this.envMapIntensity !== undefined) data.envMapIntensity = this.envMapIntensity;\n            }\n\n            if (this.gradientMap && this.gradientMap.isTexture) {\n                data.gradientMap = this.gradientMap.toJSON(meta).uuid;\n            }\n\n            if (this.size !== undefined) data.size = this.size;\n            if (this.sizeAttenuation !== undefined) data.sizeAttenuation = this.sizeAttenuation;\n            if (this.blending !== NormalBlending) data.blending = this.blending;\n            if (this.flatShading === true) data.flatShading = this.flatShading;\n            if (this.side !== FrontSide) data.side = this.side;\n            if (this.vertexColors) data.vertexColors = true;\n            if (this.opacity < 1) data.opacity = this.opacity;\n            if (this.transparent === true) data.transparent = this.transparent;\n            data.depthFunc = this.depthFunc;\n            data.depthTest = this.depthTest;\n            data.depthWrite = this.depthWrite;\n            data.stencilWrite = this.stencilWrite;\n            data.stencilWriteMask = this.stencilWriteMask;\n            data.stencilFunc = this.stencilFunc;\n            data.stencilRef = this.stencilRef;\n            data.stencilFuncMask = this.stencilFuncMask;\n            data.stencilFail = this.stencilFail;\n            data.stencilZFail = this.stencilZFail;\n            data.stencilZPass = this.stencilZPass; // rotation (SpriteMaterial)\n\n            if (this.rotation && this.rotation !== 0) data.rotation = this.rotation;\n            if (this.polygonOffset === true) data.polygonOffset = true;\n            if (this.polygonOffsetFactor !== 0) data.polygonOffsetFactor = this.polygonOffsetFactor;\n            if (this.polygonOffsetUnits !== 0) data.polygonOffsetUnits = this.polygonOffsetUnits;\n            if (this.linewidth && this.linewidth !== 1) data.linewidth = this.linewidth;\n            if (this.dashSize !== undefined) data.dashSize = this.dashSize;\n            if (this.gapSize !== undefined) data.gapSize = this.gapSize;\n            if (this.scale !== undefined) data.scale = this.scale;\n            if (this.dithering === true) data.dithering = true;\n            if (this.alphaTest > 0) data.alphaTest = this.alphaTest;\n            if (this.premultipliedAlpha === true) data.premultipliedAlpha = this.premultipliedAlpha;\n            if (this.wireframe === true) data.wireframe = this.wireframe;\n            if (this.wireframeLinewidth > 1) data.wireframeLinewidth = this.wireframeLinewidth;\n            if (this.wireframeLinecap !== 'round') data.wireframeLinecap = this.wireframeLinecap;\n            if (this.wireframeLinejoin !== 'round') data.wireframeLinejoin = this.wireframeLinejoin;\n            if (this.morphTargets === true) data.morphTargets = true;\n            if (this.morphNormals === true) data.morphNormals = true;\n            if (this.skinning === true) data.skinning = true;\n            if (this.visible === false) data.visible = false;\n            if (this.toneMapped === false) data.toneMapped = false;\n            if (JSON.stringify(this.userData) !== '{}') data.userData = this.userData; // TODO: Copied from Object3D.toJSON\n\n            function extractFromCache(cache) {\n                var values = [];\n\n                for (var key in cache) {\n                    var _data = cache[key];\n                    delete _data.metadata;\n                    values.push(_data);\n                }\n\n                return values;\n            }\n\n            if (isRoot) {\n                var textures = extractFromCache(meta.textures);\n                var images = extractFromCache(meta.images);\n                if (textures.length > 0) data.textures = textures;\n                if (images.length > 0) data.images = images;\n            }\n\n            return data;\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        copy: function copy(source) {\n            this.name = source.name;\n            this.fog = source.fog;\n            this.blending = source.blending;\n            this.side = source.side;\n            this.flatShading = source.flatShading;\n            this.vertexColors = source.vertexColors;\n            this.opacity = source.opacity;\n            this.transparent = source.transparent;\n            this.blendSrc = source.blendSrc;\n            this.blendDst = source.blendDst;\n            this.blendEquation = source.blendEquation;\n            this.blendSrcAlpha = source.blendSrcAlpha;\n            this.blendDstAlpha = source.blendDstAlpha;\n            this.blendEquationAlpha = source.blendEquationAlpha;\n            this.depthFunc = source.depthFunc;\n            this.depthTest = source.depthTest;\n            this.depthWrite = source.depthWrite;\n            this.stencilWriteMask = source.stencilWriteMask;\n            this.stencilFunc = source.stencilFunc;\n            this.stencilRef = source.stencilRef;\n            this.stencilFuncMask = source.stencilFuncMask;\n            this.stencilFail = source.stencilFail;\n            this.stencilZFail = source.stencilZFail;\n            this.stencilZPass = source.stencilZPass;\n            this.stencilWrite = source.stencilWrite;\n            var srcPlanes = source.clippingPlanes;\n            var dstPlanes = null;\n\n            if (srcPlanes !== null) {\n                var n = srcPlanes.length;\n                dstPlanes = new Array(n);\n\n                for (var i = 0; i !== n; ++i) {\n                    dstPlanes[i] = srcPlanes[i].clone();\n                }\n            }\n\n            this.clippingPlanes = dstPlanes;\n            this.clipIntersection = source.clipIntersection;\n            this.clipShadows = source.clipShadows;\n            this.shadowSide = source.shadowSide;\n            this.colorWrite = source.colorWrite;\n            this.precision = source.precision;\n            this.polygonOffset = source.polygonOffset;\n            this.polygonOffsetFactor = source.polygonOffsetFactor;\n            this.polygonOffsetUnits = source.polygonOffsetUnits;\n            this.dithering = source.dithering;\n            this.alphaTest = source.alphaTest;\n            this.premultipliedAlpha = source.premultipliedAlpha;\n            this.visible = source.visible;\n            this.toneMapped = source.toneMapped;\n            this.userData = JSON.parse(JSON.stringify(source.userData));\n            return this;\n        },\n        dispose: function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        }\n    });\n    Object.defineProperty(Material.prototype, 'needsUpdate', {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\tspecularMap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n\t *\tcombine: THREE.Multiply,\n\t *\treflectivity: <float>,\n\t *\trefractionRatio: <float>,\n\t *\n\t *\tdepthTest: <bool>,\n\t *\tdepthWrite: <bool>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>\n\t * }\n     */\n\n    function MeshBasicMaterial(parameters) {\n        Material.call(this);\n        this.type = 'MeshBasicMaterial';\n        this.color = new Color(0xffffff); // emissive\n\n        this.map = null;\n        this.lightMap = null;\n        this.lightMapIntensity = 1.0;\n        this.aoMap = null;\n        this.aoMapIntensity = 1.0;\n        this.specularMap = null;\n        this.alphaMap = null;\n        this.envMap = null;\n        this.combine = MultiplyOperation;\n        this.reflectivity = 1;\n        this.refractionRatio = 0.98;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.wireframeLinecap = 'round';\n        this.wireframeLinejoin = 'round';\n        this.skinning = false;\n        this.morphTargets = false;\n        this.setValues(parameters);\n    }\n\n    MeshBasicMaterial.prototype = Object.create(Material.prototype);\n    MeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n    MeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\n    MeshBasicMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.color.copy(source.color);\n        this.map = source.map;\n        this.lightMap = source.lightMap;\n        this.lightMapIntensity = source.lightMapIntensity;\n        this.aoMap = source.aoMap;\n        this.aoMapIntensity = source.aoMapIntensity;\n        this.specularMap = source.specularMap;\n        this.alphaMap = source.alphaMap;\n        this.envMap = source.envMap;\n        this.combine = source.combine;\n        this.reflectivity = source.reflectivity;\n        this.refractionRatio = source.refractionRatio;\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.wireframeLinecap = source.wireframeLinecap;\n        this.wireframeLinejoin = source.wireframeLinejoin;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        return this;\n    };\n\n    var _vector$3 = new Vector3();\n\n    var _vector2$1 = new Vector2();\n\n    function BufferAttribute(array, itemSize, normalized) {\n        if (Array.isArray(array)) {\n            throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n        }\n\n        this.name = '';\n        this.array = array;\n        this.itemSize = itemSize;\n        this.count = array !== undefined ? array.length / itemSize : 0;\n        this.normalized = normalized === true;\n        this.usage = StaticDrawUsage;\n        this.updateRange = {\n            offset: 0,\n            count: -1\n        };\n        this.version = 0;\n    }\n\n    Object.defineProperty(BufferAttribute.prototype, 'needsUpdate', {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n    Object.assign(BufferAttribute.prototype, {\n        isBufferAttribute: true,\n        onUploadCallback: function onUploadCallback() {},\n        setUsage: function setUsage(value) {\n            this.usage = value;\n            return this;\n        },\n        copy: function copy(source) {\n            this.name = source.name;\n            this.array = new source.array.constructor(source.array);\n            this.itemSize = source.itemSize;\n            this.count = source.count;\n            this.normalized = source.normalized;\n            this.usage = source.usage;\n            return this;\n        },\n        copyAt: function copyAt(index1, attribute, index2) {\n            index1 *= this.itemSize;\n            index2 *= attribute.itemSize;\n\n            for (var i = 0, l = this.itemSize; i < l; i++) {\n                this.array[index1 + i] = attribute.array[index2 + i];\n            }\n\n            return this;\n        },\n        copyArray: function copyArray(array) {\n            this.array.set(array);\n            return this;\n        },\n        copyColorsArray: function copyColorsArray(colors) {\n            var array = this.array;\n            var offset = 0;\n\n            for (var i = 0, l = colors.length; i < l; i++) {\n                var color = colors[i];\n\n                if (color === undefined) {\n                    console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);\n                    color = new Color();\n                }\n\n                array[offset++] = color.r;\n                array[offset++] = color.g;\n                array[offset++] = color.b;\n            }\n\n            return this;\n        },\n        copyVector2sArray: function copyVector2sArray(vectors) {\n            var array = this.array;\n            var offset = 0;\n\n            for (var i = 0, l = vectors.length; i < l; i++) {\n                var vector = vectors[i];\n\n                if (vector === undefined) {\n                    console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);\n                    vector = new Vector2();\n                }\n\n                array[offset++] = vector.x;\n                array[offset++] = vector.y;\n            }\n\n            return this;\n        },\n        copyVector3sArray: function copyVector3sArray(vectors) {\n            var array = this.array;\n            var offset = 0;\n\n            for (var i = 0, l = vectors.length; i < l; i++) {\n                var vector = vectors[i];\n\n                if (vector === undefined) {\n                    console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);\n                    vector = new Vector3();\n                }\n\n                array[offset++] = vector.x;\n                array[offset++] = vector.y;\n                array[offset++] = vector.z;\n            }\n\n            return this;\n        },\n        copyVector4sArray: function copyVector4sArray(vectors) {\n            var array = this.array;\n            var offset = 0;\n\n            for (var i = 0, l = vectors.length; i < l; i++) {\n                var vector = vectors[i];\n\n                if (vector === undefined) {\n                    console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);\n                    vector = new Vector4();\n                }\n\n                array[offset++] = vector.x;\n                array[offset++] = vector.y;\n                array[offset++] = vector.z;\n                array[offset++] = vector.w;\n            }\n\n            return this;\n        },\n        applyMatrix3: function applyMatrix3(m) {\n            if (this.itemSize === 2) {\n                for (var i = 0, l = this.count; i < l; i++) {\n                    _vector2$1.fromBufferAttribute(this, i);\n\n                    _vector2$1.applyMatrix3(m);\n\n                    this.setXY(i, _vector2$1.x, _vector2$1.y);\n                }\n            } else if (this.itemSize === 3) {\n                for (var _i = 0, _l = this.count; _i < _l; _i++) {\n                    _vector$3.fromBufferAttribute(this, _i);\n\n                    _vector$3.applyMatrix3(m);\n\n                    this.setXYZ(_i, _vector$3.x, _vector$3.y, _vector$3.z);\n                }\n            }\n\n            return this;\n        },\n        applyMatrix4: function applyMatrix4(m) {\n            for (var i = 0, l = this.count; i < l; i++) {\n                _vector$3.x = this.getX(i);\n                _vector$3.y = this.getY(i);\n                _vector$3.z = this.getZ(i);\n\n                _vector$3.applyMatrix4(m);\n\n                this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n            }\n\n            return this;\n        },\n        applyNormalMatrix: function applyNormalMatrix(m) {\n            for (var i = 0, l = this.count; i < l; i++) {\n                _vector$3.x = this.getX(i);\n                _vector$3.y = this.getY(i);\n                _vector$3.z = this.getZ(i);\n\n                _vector$3.applyNormalMatrix(m);\n\n                this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n            }\n\n            return this;\n        },\n        transformDirection: function transformDirection(m) {\n            for (var i = 0, l = this.count; i < l; i++) {\n                _vector$3.x = this.getX(i);\n                _vector$3.y = this.getY(i);\n                _vector$3.z = this.getZ(i);\n\n                _vector$3.transformDirection(m);\n\n                this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n            }\n\n            return this;\n        },\n        set: function set(value, offset) {\n            if (offset === undefined) offset = 0;\n            this.array.set(value, offset);\n            return this;\n        },\n        getX: function getX(index) {\n            return this.array[index * this.itemSize];\n        },\n        setX: function setX(index, x) {\n            this.array[index * this.itemSize] = x;\n            return this;\n        },\n        getY: function getY(index) {\n            return this.array[index * this.itemSize + 1];\n        },\n        setY: function setY(index, y) {\n            this.array[index * this.itemSize + 1] = y;\n            return this;\n        },\n        getZ: function getZ(index) {\n            return this.array[index * this.itemSize + 2];\n        },\n        setZ: function setZ(index, z) {\n            this.array[index * this.itemSize + 2] = z;\n            return this;\n        },\n        getW: function getW(index) {\n            return this.array[index * this.itemSize + 3];\n        },\n        setW: function setW(index, w) {\n            this.array[index * this.itemSize + 3] = w;\n            return this;\n        },\n        setXY: function setXY(index, x, y) {\n            index *= this.itemSize;\n            this.array[index + 0] = x;\n            this.array[index + 1] = y;\n            return this;\n        },\n        setXYZ: function setXYZ(index, x, y, z) {\n            index *= this.itemSize;\n            this.array[index + 0] = x;\n            this.array[index + 1] = y;\n            this.array[index + 2] = z;\n            return this;\n        },\n        setXYZW: function setXYZW(index, x, y, z, w) {\n            index *= this.itemSize;\n            this.array[index + 0] = x;\n            this.array[index + 1] = y;\n            this.array[index + 2] = z;\n            this.array[index + 3] = w;\n            return this;\n        },\n        onUpload: function onUpload(callback) {\n            this.onUploadCallback = callback;\n            return this;\n        },\n        clone: function clone() {\n            return new this.constructor(this.array, this.itemSize).copy(this);\n        },\n        toJSON: function toJSON() {\n            return {\n                itemSize: this.itemSize,\n                type: this.array.constructor.name,\n                array: Array.prototype.slice.call(this.array),\n                normalized: this.normalized\n            };\n        }\n    }); //\n\n    function Int8BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Int8Array(array), itemSize, normalized);\n    }\n\n    Int8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Int8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n    function Uint8BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint8Array(array), itemSize, normalized);\n    }\n\n    Uint8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Uint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n    function Uint8ClampedBufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint8ClampedArray(array), itemSize, normalized);\n    }\n\n    Uint8ClampedBufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Uint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n    function Int16BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Int16Array(array), itemSize, normalized);\n    }\n\n    Int16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Int16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n    function Uint16BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint16Array(array), itemSize, normalized);\n    }\n\n    Uint16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Uint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n    function Int32BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Int32Array(array), itemSize, normalized);\n    }\n\n    Int32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Int32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n    function Uint32BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint32Array(array), itemSize, normalized);\n    }\n\n    Uint32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Uint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n    function Float32BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Float32Array(array), itemSize, normalized);\n    }\n\n    Float32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Float32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n    function Float64BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Float64Array(array), itemSize, normalized);\n    }\n\n    Float64BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Float64BufferAttribute.prototype.constructor = Float64BufferAttribute; //\n\n    var DirectGeometry = /*#__PURE__*/function () {\n        function DirectGeometry() {\n            this.vertices = [];\n            this.normals = [];\n            this.colors = [];\n            this.uvs = [];\n            this.uvs2 = [];\n            this.groups = [];\n            this.morphTargets = {};\n            this.skinWeights = [];\n            this.skinIndices = []; // this.lineDistances = [];\n\n            this.boundingBox = null;\n            this.boundingSphere = null; // update flags\n\n            this.verticesNeedUpdate = false;\n            this.normalsNeedUpdate = false;\n            this.colorsNeedUpdate = false;\n            this.uvsNeedUpdate = false;\n            this.groupsNeedUpdate = false;\n        }\n\n        var _proto = DirectGeometry.prototype;\n\n        _proto.computeGroups = function computeGroups(geometry) {\n            var groups = [];\n            var group, i;\n            var materialIndex = undefined;\n            var faces = geometry.faces;\n\n            for (i = 0; i < faces.length; i++) {\n                var face = faces[i]; // materials\n\n                if (face.materialIndex !== materialIndex) {\n                    materialIndex = face.materialIndex;\n\n                    if (group !== undefined) {\n                        group.count = i * 3 - group.start;\n                        groups.push(group);\n                    }\n\n                    group = {\n                        start: i * 3,\n                        materialIndex: materialIndex\n                    };\n                }\n            }\n\n            if (group !== undefined) {\n                group.count = i * 3 - group.start;\n                groups.push(group);\n            }\n\n            this.groups = groups;\n        };\n\n        _proto.fromGeometry = function fromGeometry(geometry) {\n            var faces = geometry.faces;\n            var vertices = geometry.vertices;\n            var faceVertexUvs = geometry.faceVertexUvs;\n            var hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;\n            var hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0; // morphs\n\n            var morphTargets = geometry.morphTargets;\n            var morphTargetsLength = morphTargets.length;\n            var morphTargetsPosition;\n\n            if (morphTargetsLength > 0) {\n                morphTargetsPosition = [];\n\n                for (var i = 0; i < morphTargetsLength; i++) {\n                    morphTargetsPosition[i] = {\n                        name: morphTargets[i].name,\n                        data: []\n                    };\n                }\n\n                this.morphTargets.position = morphTargetsPosition;\n            }\n\n            var morphNormals = geometry.morphNormals;\n            var morphNormalsLength = morphNormals.length;\n            var morphTargetsNormal;\n\n            if (morphNormalsLength > 0) {\n                morphTargetsNormal = [];\n\n                for (var _i = 0; _i < morphNormalsLength; _i++) {\n                    morphTargetsNormal[_i] = {\n                        name: morphNormals[_i].name,\n                        data: []\n                    };\n                }\n\n                this.morphTargets.normal = morphTargetsNormal;\n            } // skins\n\n\n            var skinIndices = geometry.skinIndices;\n            var skinWeights = geometry.skinWeights;\n            var hasSkinIndices = skinIndices.length === vertices.length;\n            var hasSkinWeights = skinWeights.length === vertices.length; //\n\n            if (vertices.length > 0 && faces.length === 0) {\n                console.error('THREE.DirectGeometry: Faceless geometries are not supported.');\n            }\n\n            for (var _i2 = 0; _i2 < faces.length; _i2++) {\n                var face = faces[_i2];\n                this.vertices.push(vertices[face.a], vertices[face.b], vertices[face.c]);\n                var vertexNormals = face.vertexNormals;\n\n                if (vertexNormals.length === 3) {\n                    this.normals.push(vertexNormals[0], vertexNormals[1], vertexNormals[2]);\n                } else {\n                    var normal = face.normal;\n                    this.normals.push(normal, normal, normal);\n                }\n\n                var vertexColors = face.vertexColors;\n\n                if (vertexColors.length === 3) {\n                    this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);\n                } else {\n                    var color = face.color;\n                    this.colors.push(color, color, color);\n                }\n\n                if (hasFaceVertexUv === true) {\n                    var vertexUvs = faceVertexUvs[0][_i2];\n\n                    if (vertexUvs !== undefined) {\n                        this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n                    } else {\n                        console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', _i2);\n                        this.uvs.push(new Vector2(), new Vector2(), new Vector2());\n                    }\n                }\n\n                if (hasFaceVertexUv2 === true) {\n                    var _vertexUvs = faceVertexUvs[1][_i2];\n\n                    if (_vertexUvs !== undefined) {\n                        this.uvs2.push(_vertexUvs[0], _vertexUvs[1], _vertexUvs[2]);\n                    } else {\n                        console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', _i2);\n                        this.uvs2.push(new Vector2(), new Vector2(), new Vector2());\n                    }\n                } // morphs\n\n\n                for (var j = 0; j < morphTargetsLength; j++) {\n                    var morphTarget = morphTargets[j].vertices;\n                    morphTargetsPosition[j].data.push(morphTarget[face.a], morphTarget[face.b], morphTarget[face.c]);\n                }\n\n                for (var _j = 0; _j < morphNormalsLength; _j++) {\n                    var morphNormal = morphNormals[_j].vertexNormals[_i2];\n\n                    morphTargetsNormal[_j].data.push(morphNormal.a, morphNormal.b, morphNormal.c);\n                } // skins\n\n\n                if (hasSkinIndices) {\n                    this.skinIndices.push(skinIndices[face.a], skinIndices[face.b], skinIndices[face.c]);\n                }\n\n                if (hasSkinWeights) {\n                    this.skinWeights.push(skinWeights[face.a], skinWeights[face.b], skinWeights[face.c]);\n                }\n            }\n\n            this.computeGroups(geometry);\n            this.verticesNeedUpdate = geometry.verticesNeedUpdate;\n            this.normalsNeedUpdate = geometry.normalsNeedUpdate;\n            this.colorsNeedUpdate = geometry.colorsNeedUpdate;\n            this.uvsNeedUpdate = geometry.uvsNeedUpdate;\n            this.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n            if (geometry.boundingSphere !== null) {\n                this.boundingSphere = geometry.boundingSphere.clone();\n            }\n\n            if (geometry.boundingBox !== null) {\n                this.boundingBox = geometry.boundingBox.clone();\n            }\n\n            return this;\n        };\n\n        return DirectGeometry;\n    }();\n\n    function arrayMax(array) {\n        if (array.length === 0) return -Infinity;\n        var max = array[0];\n\n        for (var i = 1, l = array.length; i < l; ++i) {\n            if (array[i] > max) max = array[i];\n        }\n\n        return max;\n    }\n\n    var _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\n    var _m1$2 = new Matrix4();\n\n    var _obj = new Object3D();\n\n    var _offset = new Vector3();\n\n    var _box$2 = new Box3();\n\n    var _boxMorphTargets = new Box3();\n\n    var _vector$4 = new Vector3();\n\n    function BufferGeometry() {\n        Object.defineProperty(this, 'id', {\n            value: _bufferGeometryId += 2\n        });\n        this.uuid = MathUtils.generateUUID();\n        this.name = '';\n        this.type = 'BufferGeometry';\n        this.index = null;\n        this.attributes = {};\n        this.morphAttributes = {};\n        this.morphTargetsRelative = false;\n        this.groups = [];\n        this.boundingBox = null;\n        this.boundingSphere = null;\n        this.drawRange = {\n            start: 0,\n            count: Infinity\n        };\n        this.userData = {};\n    }\n\n    BufferGeometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: BufferGeometry,\n        isBufferGeometry: true,\n        getIndex: function getIndex() {\n            return this.index;\n        },\n        setIndex: function setIndex(index) {\n            if (Array.isArray(index)) {\n                this.index = new (arrayMax(index) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(index, 1);\n            } else {\n                this.index = index;\n            }\n\n            return this;\n        },\n        getAttribute: function getAttribute(name) {\n            return this.attributes[name];\n        },\n        setAttribute: function setAttribute(name, attribute) {\n            this.attributes[name] = attribute;\n            return this;\n        },\n        deleteAttribute: function deleteAttribute(name) {\n            delete this.attributes[name];\n            return this;\n        },\n        addGroup: function addGroup(start, count, materialIndex) {\n            this.groups.push({\n                start: start,\n                count: count,\n                materialIndex: materialIndex !== undefined ? materialIndex : 0\n            });\n        },\n        clearGroups: function clearGroups() {\n            this.groups = [];\n        },\n        setDrawRange: function setDrawRange(start, count) {\n            this.drawRange.start = start;\n            this.drawRange.count = count;\n        },\n        applyMatrix4: function applyMatrix4(matrix) {\n            var position = this.attributes.position;\n\n            if (position !== undefined) {\n                position.applyMatrix4(matrix);\n                position.needsUpdate = true;\n            }\n\n            var normal = this.attributes.normal;\n\n            if (normal !== undefined) {\n                var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n                normal.applyNormalMatrix(normalMatrix);\n                normal.needsUpdate = true;\n            }\n\n            var tangent = this.attributes.tangent;\n\n            if (tangent !== undefined) {\n                tangent.transformDirection(matrix);\n                tangent.needsUpdate = true;\n            }\n\n            if (this.boundingBox !== null) {\n                this.computeBoundingBox();\n            }\n\n            if (this.boundingSphere !== null) {\n                this.computeBoundingSphere();\n            }\n\n            return this;\n        },\n        rotateX: function rotateX(angle) {\n            // rotate geometry around world x-axis\n            _m1$2.makeRotationX(angle);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        rotateY: function rotateY(angle) {\n            // rotate geometry around world y-axis\n            _m1$2.makeRotationY(angle);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        rotateZ: function rotateZ(angle) {\n            // rotate geometry around world z-axis\n            _m1$2.makeRotationZ(angle);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        translate: function translate(x, y, z) {\n            // translate geometry\n            _m1$2.makeTranslation(x, y, z);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        scale: function scale(x, y, z) {\n            // scale geometry\n            _m1$2.makeScale(x, y, z);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        lookAt: function lookAt(vector) {\n            _obj.lookAt(vector);\n\n            _obj.updateMatrix();\n\n            this.applyMatrix4(_obj.matrix);\n            return this;\n        },\n        center: function center() {\n            this.computeBoundingBox();\n            this.boundingBox.getCenter(_offset).negate();\n            this.translate(_offset.x, _offset.y, _offset.z);\n            return this;\n        },\n        setFromObject: function setFromObject(object) {\n            // console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n            var geometry = object.geometry;\n\n            if (object.isPoints || object.isLine) {\n                var positions = new Float32BufferAttribute(geometry.vertices.length * 3, 3);\n                var colors = new Float32BufferAttribute(geometry.colors.length * 3, 3);\n                this.setAttribute('position', positions.copyVector3sArray(geometry.vertices));\n                this.setAttribute('color', colors.copyColorsArray(geometry.colors));\n\n                if (geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length) {\n                    var lineDistances = new Float32BufferAttribute(geometry.lineDistances.length, 1);\n                    this.setAttribute('lineDistance', lineDistances.copyArray(geometry.lineDistances));\n                }\n\n                if (geometry.boundingSphere !== null) {\n                    this.boundingSphere = geometry.boundingSphere.clone();\n                }\n\n                if (geometry.boundingBox !== null) {\n                    this.boundingBox = geometry.boundingBox.clone();\n                }\n            } else if (object.isMesh) {\n                if (geometry && geometry.isGeometry) {\n                    this.fromGeometry(geometry);\n                }\n            }\n\n            return this;\n        },\n        setFromPoints: function setFromPoints(points) {\n            var position = [];\n\n            for (var i = 0, l = points.length; i < l; i++) {\n                var point = points[i];\n                position.push(point.x, point.y, point.z || 0);\n            }\n\n            this.setAttribute('position', new Float32BufferAttribute(position, 3));\n            return this;\n        },\n        updateFromObject: function updateFromObject(object) {\n            var geometry = object.geometry;\n\n            if (object.isMesh) {\n                var direct = geometry.__directGeometry;\n\n                if (geometry.elementsNeedUpdate === true) {\n                    direct = undefined;\n                    geometry.elementsNeedUpdate = false;\n                }\n\n                if (direct === undefined) {\n                    return this.fromGeometry(geometry);\n                }\n\n                direct.verticesNeedUpdate = geometry.verticesNeedUpdate;\n                direct.normalsNeedUpdate = geometry.normalsNeedUpdate;\n                direct.colorsNeedUpdate = geometry.colorsNeedUpdate;\n                direct.uvsNeedUpdate = geometry.uvsNeedUpdate;\n                direct.groupsNeedUpdate = geometry.groupsNeedUpdate;\n                geometry.verticesNeedUpdate = false;\n                geometry.normalsNeedUpdate = false;\n                geometry.colorsNeedUpdate = false;\n                geometry.uvsNeedUpdate = false;\n                geometry.groupsNeedUpdate = false;\n                geometry = direct;\n            }\n\n            if (geometry.verticesNeedUpdate === true) {\n                var attribute = this.attributes.position;\n\n                if (attribute !== undefined) {\n                    attribute.copyVector3sArray(geometry.vertices);\n                    attribute.needsUpdate = true;\n                }\n\n                geometry.verticesNeedUpdate = false;\n            }\n\n            if (geometry.normalsNeedUpdate === true) {\n                var _attribute = this.attributes.normal;\n\n                if (_attribute !== undefined) {\n                    _attribute.copyVector3sArray(geometry.normals);\n\n                    _attribute.needsUpdate = true;\n                }\n\n                geometry.normalsNeedUpdate = false;\n            }\n\n            if (geometry.colorsNeedUpdate === true) {\n                var _attribute2 = this.attributes.color;\n\n                if (_attribute2 !== undefined) {\n                    _attribute2.copyColorsArray(geometry.colors);\n\n                    _attribute2.needsUpdate = true;\n                }\n\n                geometry.colorsNeedUpdate = false;\n            }\n\n            if (geometry.uvsNeedUpdate) {\n                var _attribute3 = this.attributes.uv;\n\n                if (_attribute3 !== undefined) {\n                    _attribute3.copyVector2sArray(geometry.uvs);\n\n                    _attribute3.needsUpdate = true;\n                }\n\n                geometry.uvsNeedUpdate = false;\n            }\n\n            if (geometry.lineDistancesNeedUpdate) {\n                var _attribute4 = this.attributes.lineDistance;\n\n                if (_attribute4 !== undefined) {\n                    _attribute4.copyArray(geometry.lineDistances);\n\n                    _attribute4.needsUpdate = true;\n                }\n\n                geometry.lineDistancesNeedUpdate = false;\n            }\n\n            if (geometry.groupsNeedUpdate) {\n                geometry.computeGroups(object.geometry);\n                this.groups = geometry.groups;\n                geometry.groupsNeedUpdate = false;\n            }\n\n            return this;\n        },\n        fromGeometry: function fromGeometry(geometry) {\n            geometry.__directGeometry = new DirectGeometry().fromGeometry(geometry);\n            return this.fromDirectGeometry(geometry.__directGeometry);\n        },\n        fromDirectGeometry: function fromDirectGeometry(geometry) {\n            var positions = new Float32Array(geometry.vertices.length * 3);\n            this.setAttribute('position', new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices));\n\n            if (geometry.normals.length > 0) {\n                var normals = new Float32Array(geometry.normals.length * 3);\n                this.setAttribute('normal', new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals));\n            }\n\n            if (geometry.colors.length > 0) {\n                var colors = new Float32Array(geometry.colors.length * 3);\n                this.setAttribute('color', new BufferAttribute(colors, 3).copyColorsArray(geometry.colors));\n            }\n\n            if (geometry.uvs.length > 0) {\n                var uvs = new Float32Array(geometry.uvs.length * 2);\n                this.setAttribute('uv', new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs));\n            }\n\n            if (geometry.uvs2.length > 0) {\n                var uvs2 = new Float32Array(geometry.uvs2.length * 2);\n                this.setAttribute('uv2', new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2));\n            } // groups\n\n\n            this.groups = geometry.groups; // morphs\n\n            for (var name in geometry.morphTargets) {\n                var array = [];\n                var morphTargets = geometry.morphTargets[name];\n\n                for (var i = 0, l = morphTargets.length; i < l; i++) {\n                    var morphTarget = morphTargets[i];\n                    var attribute = new Float32BufferAttribute(morphTarget.data.length * 3, 3);\n                    attribute.name = morphTarget.name;\n                    array.push(attribute.copyVector3sArray(morphTarget.data));\n                }\n\n                this.morphAttributes[name] = array;\n            } // skinning\n\n\n            if (geometry.skinIndices.length > 0) {\n                var skinIndices = new Float32BufferAttribute(geometry.skinIndices.length * 4, 4);\n                this.setAttribute('skinIndex', skinIndices.copyVector4sArray(geometry.skinIndices));\n            }\n\n            if (geometry.skinWeights.length > 0) {\n                var skinWeights = new Float32BufferAttribute(geometry.skinWeights.length * 4, 4);\n                this.setAttribute('skinWeight', skinWeights.copyVector4sArray(geometry.skinWeights));\n            } //\n\n\n            if (geometry.boundingSphere !== null) {\n                this.boundingSphere = geometry.boundingSphere.clone();\n            }\n\n            if (geometry.boundingBox !== null) {\n                this.boundingBox = geometry.boundingBox.clone();\n            }\n\n            return this;\n        },\n        computeBoundingBox: function computeBoundingBox() {\n            if (this.boundingBox === null) {\n                this.boundingBox = new Box3();\n            }\n\n            var position = this.attributes.position;\n            var morphAttributesPosition = this.morphAttributes.position;\n\n            if (position && position.isGLBufferAttribute) {\n                console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n                this.boundingBox.set(new Vector3(-Infinity, -Infinity, -Infinity), new Vector3(+Infinity, +Infinity, +Infinity));\n                return;\n            }\n\n            if (position !== undefined) {\n                this.boundingBox.setFromBufferAttribute(position); // process morph attributes if present\n\n                if (morphAttributesPosition) {\n                    for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n                        var morphAttribute = morphAttributesPosition[i];\n\n                        _box$2.setFromBufferAttribute(morphAttribute);\n\n                        if (this.morphTargetsRelative) {\n                            _vector$4.addVectors(this.boundingBox.min, _box$2.min);\n\n                            this.boundingBox.expandByPoint(_vector$4);\n\n                            _vector$4.addVectors(this.boundingBox.max, _box$2.max);\n\n                            this.boundingBox.expandByPoint(_vector$4);\n                        } else {\n                            this.boundingBox.expandByPoint(_box$2.min);\n                            this.boundingBox.expandByPoint(_box$2.max);\n                        }\n                    }\n                }\n            } else {\n                this.boundingBox.makeEmpty();\n            }\n\n            if (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {\n                console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this);\n            }\n        },\n        computeBoundingSphere: function computeBoundingSphere() {\n            if (this.boundingSphere === null) {\n                this.boundingSphere = new Sphere();\n            }\n\n            var position = this.attributes.position;\n            var morphAttributesPosition = this.morphAttributes.position;\n\n            if (position && position.isGLBufferAttribute) {\n                console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n                this.boundingSphere.set(new Vector3(), Infinity);\n                return;\n            }\n\n            if (position) {\n                // first, find the center of the bounding sphere\n                var center = this.boundingSphere.center;\n\n                _box$2.setFromBufferAttribute(position); // process morph attributes if present\n\n\n                if (morphAttributesPosition) {\n                    for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n                        var morphAttribute = morphAttributesPosition[i];\n\n                        _boxMorphTargets.setFromBufferAttribute(morphAttribute);\n\n                        if (this.morphTargetsRelative) {\n                            _vector$4.addVectors(_box$2.min, _boxMorphTargets.min);\n\n                            _box$2.expandByPoint(_vector$4);\n\n                            _vector$4.addVectors(_box$2.max, _boxMorphTargets.max);\n\n                            _box$2.expandByPoint(_vector$4);\n                        } else {\n                            _box$2.expandByPoint(_boxMorphTargets.min);\n\n                            _box$2.expandByPoint(_boxMorphTargets.max);\n                        }\n                    }\n                }\n\n                _box$2.getCenter(center); // second, try to find a boundingSphere with a radius smaller than the\n                // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\n                var maxRadiusSq = 0;\n\n                for (var _i = 0, _il = position.count; _i < _il; _i++) {\n                    _vector$4.fromBufferAttribute(position, _i);\n\n                    maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$4));\n                } // process morph attributes if present\n\n\n                if (morphAttributesPosition) {\n                    for (var _i2 = 0, _il2 = morphAttributesPosition.length; _i2 < _il2; _i2++) {\n                        var _morphAttribute = morphAttributesPosition[_i2];\n                        var morphTargetsRelative = this.morphTargetsRelative;\n\n                        for (var j = 0, jl = _morphAttribute.count; j < jl; j++) {\n                            _vector$4.fromBufferAttribute(_morphAttribute, j);\n\n                            if (morphTargetsRelative) {\n                                _offset.fromBufferAttribute(position, j);\n\n                                _vector$4.add(_offset);\n                            }\n\n                            maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$4));\n                        }\n                    }\n                }\n\n                this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n                if (isNaN(this.boundingSphere.radius)) {\n                    console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this);\n                }\n            }\n        },\n        computeFaceNormals: function computeFaceNormals() {// backwards compatibility\n        },\n        computeVertexNormals: function computeVertexNormals() {\n            var index = this.index;\n            var positionAttribute = this.getAttribute('position');\n\n            if (positionAttribute !== undefined) {\n                var normalAttribute = this.getAttribute('normal');\n\n                if (normalAttribute === undefined) {\n                    normalAttribute = new BufferAttribute(new Float32Array(positionAttribute.count * 3), 3);\n                    this.setAttribute('normal', normalAttribute);\n                } else {\n                    // reset existing normals to zero\n                    for (var i = 0, il = normalAttribute.count; i < il; i++) {\n                        normalAttribute.setXYZ(i, 0, 0, 0);\n                    }\n                }\n\n                var pA = new Vector3(),\n                    pB = new Vector3(),\n                    pC = new Vector3();\n                var nA = new Vector3(),\n                    nB = new Vector3(),\n                    nC = new Vector3();\n                var cb = new Vector3(),\n                    ab = new Vector3(); // indexed elements\n\n                if (index) {\n                    for (var _i3 = 0, _il3 = index.count; _i3 < _il3; _i3 += 3) {\n                        var vA = index.getX(_i3 + 0);\n                        var vB = index.getX(_i3 + 1);\n                        var vC = index.getX(_i3 + 2);\n                        pA.fromBufferAttribute(positionAttribute, vA);\n                        pB.fromBufferAttribute(positionAttribute, vB);\n                        pC.fromBufferAttribute(positionAttribute, vC);\n                        cb.subVectors(pC, pB);\n                        ab.subVectors(pA, pB);\n                        cb.cross(ab);\n                        nA.fromBufferAttribute(normalAttribute, vA);\n                        nB.fromBufferAttribute(normalAttribute, vB);\n                        nC.fromBufferAttribute(normalAttribute, vC);\n                        nA.add(cb);\n                        nB.add(cb);\n                        nC.add(cb);\n                        normalAttribute.setXYZ(vA, nA.x, nA.y, nA.z);\n                        normalAttribute.setXYZ(vB, nB.x, nB.y, nB.z);\n                        normalAttribute.setXYZ(vC, nC.x, nC.y, nC.z);\n                    }\n                } else {\n                    // non-indexed elements (unconnected triangle soup)\n                    for (var _i4 = 0, _il4 = positionAttribute.count; _i4 < _il4; _i4 += 3) {\n                        pA.fromBufferAttribute(positionAttribute, _i4 + 0);\n                        pB.fromBufferAttribute(positionAttribute, _i4 + 1);\n                        pC.fromBufferAttribute(positionAttribute, _i4 + 2);\n                        cb.subVectors(pC, pB);\n                        ab.subVectors(pA, pB);\n                        cb.cross(ab);\n                        normalAttribute.setXYZ(_i4 + 0, cb.x, cb.y, cb.z);\n                        normalAttribute.setXYZ(_i4 + 1, cb.x, cb.y, cb.z);\n                        normalAttribute.setXYZ(_i4 + 2, cb.x, cb.y, cb.z);\n                    }\n                }\n\n                this.normalizeNormals();\n                normalAttribute.needsUpdate = true;\n            }\n        },\n        merge: function merge(geometry, offset) {\n            if (!(geometry && geometry.isBufferGeometry)) {\n                console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);\n                return;\n            }\n\n            if (offset === undefined) {\n                offset = 0;\n                console.warn('THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. ' + 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.');\n            }\n\n            var attributes = this.attributes;\n\n            for (var key in attributes) {\n                if (geometry.attributes[key] === undefined) continue;\n                var attribute1 = attributes[key];\n                var attributeArray1 = attribute1.array;\n                var attribute2 = geometry.attributes[key];\n                var attributeArray2 = attribute2.array;\n                var attributeOffset = attribute2.itemSize * offset;\n                var length = Math.min(attributeArray2.length, attributeArray1.length - attributeOffset);\n\n                for (var i = 0, j = attributeOffset; i < length; i++, j++) {\n                    attributeArray1[j] = attributeArray2[i];\n                }\n            }\n\n            return this;\n        },\n        normalizeNormals: function normalizeNormals() {\n            var normals = this.attributes.normal;\n\n            for (var i = 0, il = normals.count; i < il; i++) {\n                _vector$4.fromBufferAttribute(normals, i);\n\n                _vector$4.normalize();\n\n                normals.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n            }\n        },\n        toNonIndexed: function toNonIndexed() {\n            function convertBufferAttribute(attribute, indices) {\n                var array = attribute.array;\n                var itemSize = attribute.itemSize;\n                var normalized = attribute.normalized;\n                var array2 = new array.constructor(indices.length * itemSize);\n                var index = 0,\n                    index2 = 0;\n\n                for (var i = 0, l = indices.length; i < l; i++) {\n                    index = indices[i] * itemSize;\n\n                    for (var j = 0; j < itemSize; j++) {\n                        array2[index2++] = array[index++];\n                    }\n                }\n\n                return new BufferAttribute(array2, itemSize, normalized);\n            } //\n\n\n            if (this.index === null) {\n                console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');\n                return this;\n            }\n\n            var geometry2 = new BufferGeometry();\n            var indices = this.index.array;\n            var attributes = this.attributes; // attributes\n\n            for (var name in attributes) {\n                var attribute = attributes[name];\n                var newAttribute = convertBufferAttribute(attribute, indices);\n                geometry2.setAttribute(name, newAttribute);\n            } // morph attributes\n\n\n            var morphAttributes = this.morphAttributes;\n\n            for (var _name in morphAttributes) {\n                var morphArray = [];\n                var morphAttribute = morphAttributes[_name]; // morphAttribute: array of Float32BufferAttributes\n\n                for (var i = 0, il = morphAttribute.length; i < il; i++) {\n                    var _attribute5 = morphAttribute[i];\n\n                    var _newAttribute = convertBufferAttribute(_attribute5, indices);\n\n                    morphArray.push(_newAttribute);\n                }\n\n                geometry2.morphAttributes[_name] = morphArray;\n            }\n\n            geometry2.morphTargetsRelative = this.morphTargetsRelative; // groups\n\n            var groups = this.groups;\n\n            for (var _i5 = 0, l = groups.length; _i5 < l; _i5++) {\n                var group = groups[_i5];\n                geometry2.addGroup(group.start, group.count, group.materialIndex);\n            }\n\n            return geometry2;\n        },\n        toJSON: function toJSON() {\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'BufferGeometry',\n                    generator: 'BufferGeometry.toJSON'\n                }\n            }; // standard BufferGeometry serialization\n\n            data.uuid = this.uuid;\n            data.type = this.type;\n            if (this.name !== '') data.name = this.name;\n            if (Object.keys(this.userData).length > 0) data.userData = this.userData;\n\n            if (this.parameters !== undefined) {\n                var parameters = this.parameters;\n\n                for (var key in parameters) {\n                    if (parameters[key] !== undefined) data[key] = parameters[key];\n                }\n\n                return data;\n            }\n\n            data.data = {\n                attributes: {}\n            };\n            var index = this.index;\n\n            if (index !== null) {\n                data.data.index = {\n                    type: index.array.constructor.name,\n                    array: Array.prototype.slice.call(index.array)\n                };\n            }\n\n            var attributes = this.attributes;\n\n            for (var _key in attributes) {\n                var attribute = attributes[_key];\n                var attributeData = attribute.toJSON(data.data);\n                if (attribute.name !== '') attributeData.name = attribute.name;\n                data.data.attributes[_key] = attributeData;\n            }\n\n            var morphAttributes = {};\n            var hasMorphAttributes = false;\n\n            for (var _key2 in this.morphAttributes) {\n                var attributeArray = this.morphAttributes[_key2];\n                var array = [];\n\n                for (var i = 0, il = attributeArray.length; i < il; i++) {\n                    var _attribute6 = attributeArray[i];\n\n                    var _attributeData = _attribute6.toJSON(data.data);\n\n                    if (_attribute6.name !== '') _attributeData.name = _attribute6.name;\n                    array.push(_attributeData);\n                }\n\n                if (array.length > 0) {\n                    morphAttributes[_key2] = array;\n                    hasMorphAttributes = true;\n                }\n            }\n\n            if (hasMorphAttributes) {\n                data.data.morphAttributes = morphAttributes;\n                data.data.morphTargetsRelative = this.morphTargetsRelative;\n            }\n\n            var groups = this.groups;\n\n            if (groups.length > 0) {\n                data.data.groups = JSON.parse(JSON.stringify(groups));\n            }\n\n            var boundingSphere = this.boundingSphere;\n\n            if (boundingSphere !== null) {\n                data.data.boundingSphere = {\n                    center: boundingSphere.center.toArray(),\n                    radius: boundingSphere.radius\n                };\n            }\n\n            return data;\n        },\n        clone: function clone() {\n            /*\n             // Handle primitives\n             const parameters = this.parameters;\n             if ( parameters !== undefined ) {\n             const values = [];\n             for ( const key in parameters ) {\n             values.push( parameters[ key ] );\n             }\n             const geometry = Object.create( this.constructor.prototype );\n             this.constructor.apply( geometry, values );\n             return geometry;\n             }\n             return new this.constructor().copy( this );\n             */\n            return new BufferGeometry().copy(this);\n        },\n        copy: function copy(source) {\n            // reset\n            this.index = null;\n            this.attributes = {};\n            this.morphAttributes = {};\n            this.groups = [];\n            this.boundingBox = null;\n            this.boundingSphere = null; // used for storing cloned, shared data\n\n            var data = {}; // name\n\n            this.name = source.name; // index\n\n            var index = source.index;\n\n            if (index !== null) {\n                this.setIndex(index.clone(data));\n            } // attributes\n\n\n            var attributes = source.attributes;\n\n            for (var name in attributes) {\n                var attribute = attributes[name];\n                this.setAttribute(name, attribute.clone(data));\n            } // morph attributes\n\n\n            var morphAttributes = source.morphAttributes;\n\n            for (var _name2 in morphAttributes) {\n                var array = [];\n                var morphAttribute = morphAttributes[_name2]; // morphAttribute: array of Float32BufferAttributes\n\n                for (var i = 0, l = morphAttribute.length; i < l; i++) {\n                    array.push(morphAttribute[i].clone(data));\n                }\n\n                this.morphAttributes[_name2] = array;\n            }\n\n            this.morphTargetsRelative = source.morphTargetsRelative; // groups\n\n            var groups = source.groups;\n\n            for (var _i6 = 0, _l = groups.length; _i6 < _l; _i6++) {\n                var group = groups[_i6];\n                this.addGroup(group.start, group.count, group.materialIndex);\n            } // bounding box\n\n\n            var boundingBox = source.boundingBox;\n\n            if (boundingBox !== null) {\n                this.boundingBox = boundingBox.clone();\n            } // bounding sphere\n\n\n            var boundingSphere = source.boundingSphere;\n\n            if (boundingSphere !== null) {\n                this.boundingSphere = boundingSphere.clone();\n            } // draw range\n\n\n            this.drawRange.start = source.drawRange.start;\n            this.drawRange.count = source.drawRange.count; // user data\n\n            this.userData = source.userData;\n            return this;\n        },\n        dispose: function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        }\n    });\n\n    var _inverseMatrix = new Matrix4();\n\n    var _ray = new Ray();\n\n    var _sphere = new Sphere();\n\n    var _vA = new Vector3();\n\n    var _vB = new Vector3();\n\n    var _vC = new Vector3();\n\n    var _tempA = new Vector3();\n\n    var _tempB = new Vector3();\n\n    var _tempC = new Vector3();\n\n    var _morphA = new Vector3();\n\n    var _morphB = new Vector3();\n\n    var _morphC = new Vector3();\n\n    var _uvA = new Vector2();\n\n    var _uvB = new Vector2();\n\n    var _uvC = new Vector2();\n\n    var _intersectionPoint = new Vector3();\n\n    var _intersectionPointWorld = new Vector3();\n\n    function Mesh(geometry, material) {\n        Object3D.call(this);\n        this.type = 'Mesh';\n        this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n        this.material = material !== undefined ? material : new MeshBasicMaterial();\n        this.updateMorphTargets();\n    }\n\n    Mesh.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Mesh,\n        isMesh: true,\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source);\n\n            if (source.morphTargetInfluences !== undefined) {\n                this.morphTargetInfluences = source.morphTargetInfluences.slice();\n            }\n\n            if (source.morphTargetDictionary !== undefined) {\n                this.morphTargetDictionary = Object.assign({}, source.morphTargetDictionary);\n            }\n\n            this.material = source.material;\n            this.geometry = source.geometry;\n            return this;\n        },\n        updateMorphTargets: function updateMorphTargets() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                var morphAttributes = geometry.morphAttributes;\n                var keys = Object.keys(morphAttributes);\n\n                if (keys.length > 0) {\n                    var morphAttribute = morphAttributes[keys[0]];\n\n                    if (morphAttribute !== undefined) {\n                        this.morphTargetInfluences = [];\n                        this.morphTargetDictionary = {};\n\n                        for (var m = 0, ml = morphAttribute.length; m < ml; m++) {\n                            var name = morphAttribute[m].name || String(m);\n                            this.morphTargetInfluences.push(0);\n                            this.morphTargetDictionary[name] = m;\n                        }\n                    }\n                }\n            } else {\n                var morphTargets = geometry.morphTargets;\n\n                if (morphTargets !== undefined && morphTargets.length > 0) {\n                    console.error('THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n                }\n            }\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var geometry = this.geometry;\n            var material = this.material;\n            var matrixWorld = this.matrixWorld;\n            if (material === undefined) return; // Checking boundingSphere distance to ray\n\n            if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n            _sphere.copy(geometry.boundingSphere);\n\n            _sphere.applyMatrix4(matrixWorld);\n\n            if (raycaster.ray.intersectsSphere(_sphere) === false) return; //\n\n            _inverseMatrix.getInverse(matrixWorld);\n\n            _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix); // Check boundingBox before continuing\n\n\n            if (geometry.boundingBox !== null) {\n                if (_ray.intersectsBox(geometry.boundingBox) === false) return;\n            }\n\n            var intersection;\n\n            if (geometry.isBufferGeometry) {\n                var index = geometry.index;\n                var position = geometry.attributes.position;\n                var morphPosition = geometry.morphAttributes.position;\n                var morphTargetsRelative = geometry.morphTargetsRelative;\n                var uv = geometry.attributes.uv;\n                var uv2 = geometry.attributes.uv2;\n                var groups = geometry.groups;\n                var drawRange = geometry.drawRange;\n\n                if (index !== null) {\n                    // indexed buffer geometry\n                    if (Array.isArray(material)) {\n                        for (var i = 0, il = groups.length; i < il; i++) {\n                            var group = groups[i];\n                            var groupMaterial = material[group.materialIndex];\n                            var start = Math.max(group.start, drawRange.start);\n                            var end = Math.min(group.start + group.count, drawRange.start + drawRange.count);\n\n                            for (var j = start, jl = end; j < jl; j += 3) {\n                                var a = index.getX(j);\n                                var b = index.getX(j + 1);\n                                var c = index.getX(j + 2);\n                                intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n                                if (intersection) {\n                                    intersection.faceIndex = Math.floor(j / 3); // triangle number in indexed buffer semantics\n\n                                    intersection.face.materialIndex = group.materialIndex;\n                                    intersects.push(intersection);\n                                }\n                            }\n                        }\n                    } else {\n                        var _start = Math.max(0, drawRange.start);\n\n                        var _end = Math.min(index.count, drawRange.start + drawRange.count);\n\n                        for (var _i = _start, _il = _end; _i < _il; _i += 3) {\n                            var _a = index.getX(_i);\n\n                            var _b = index.getX(_i + 1);\n\n                            var _c = index.getX(_i + 2);\n\n                            intersection = checkBufferGeometryIntersection(this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, _a, _b, _c);\n\n                            if (intersection) {\n                                intersection.faceIndex = Math.floor(_i / 3); // triangle number in indexed buffer semantics\n\n                                intersects.push(intersection);\n                            }\n                        }\n                    }\n                } else if (position !== undefined) {\n                    // non-indexed buffer geometry\n                    if (Array.isArray(material)) {\n                        for (var _i2 = 0, _il2 = groups.length; _i2 < _il2; _i2++) {\n                            var _group = groups[_i2];\n                            var _groupMaterial = material[_group.materialIndex];\n\n                            var _start2 = Math.max(_group.start, drawRange.start);\n\n                            var _end2 = Math.min(_group.start + _group.count, drawRange.start + drawRange.count);\n\n                            for (var _j = _start2, _jl = _end2; _j < _jl; _j += 3) {\n                                var _a2 = _j;\n\n                                var _b2 = _j + 1;\n\n                                var _c2 = _j + 2;\n\n                                intersection = checkBufferGeometryIntersection(this, _groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, _a2, _b2, _c2);\n\n                                if (intersection) {\n                                    intersection.faceIndex = Math.floor(_j / 3); // triangle number in non-indexed buffer semantics\n\n                                    intersection.face.materialIndex = _group.materialIndex;\n                                    intersects.push(intersection);\n                                }\n                            }\n                        }\n                    } else {\n                        var _start3 = Math.max(0, drawRange.start);\n\n                        var _end3 = Math.min(position.count, drawRange.start + drawRange.count);\n\n                        for (var _i3 = _start3, _il3 = _end3; _i3 < _il3; _i3 += 3) {\n                            var _a3 = _i3;\n\n                            var _b3 = _i3 + 1;\n\n                            var _c3 = _i3 + 2;\n\n                            intersection = checkBufferGeometryIntersection(this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, _a3, _b3, _c3);\n\n                            if (intersection) {\n                                intersection.faceIndex = Math.floor(_i3 / 3); // triangle number in non-indexed buffer semantics\n\n                                intersects.push(intersection);\n                            }\n                        }\n                    }\n                }\n            } else if (geometry.isGeometry) {\n                var isMultiMaterial = Array.isArray(material);\n                var vertices = geometry.vertices;\n                var faces = geometry.faces;\n                var uvs;\n                var faceVertexUvs = geometry.faceVertexUvs[0];\n                if (faceVertexUvs.length > 0) uvs = faceVertexUvs;\n\n                for (var f = 0, fl = faces.length; f < fl; f++) {\n                    var face = faces[f];\n                    var faceMaterial = isMultiMaterial ? material[face.materialIndex] : material;\n                    if (faceMaterial === undefined) continue;\n                    var fvA = vertices[face.a];\n                    var fvB = vertices[face.b];\n                    var fvC = vertices[face.c];\n                    intersection = checkIntersection(this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint);\n\n                    if (intersection) {\n                        if (uvs && uvs[f]) {\n                            var uvs_f = uvs[f];\n\n                            _uvA.copy(uvs_f[0]);\n\n                            _uvB.copy(uvs_f[1]);\n\n                            _uvC.copy(uvs_f[2]);\n\n                            intersection.uv = Triangle.getUV(_intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2());\n                        }\n\n                        intersection.face = face;\n                        intersection.faceIndex = f;\n                        intersects.push(intersection);\n                    }\n                }\n            }\n        }\n    });\n\n    function checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {\n        var intersect;\n\n        if (material.side === BackSide) {\n            intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n        } else {\n            intersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);\n        }\n\n        if (intersect === null) return null;\n\n        _intersectionPointWorld.copy(point);\n\n        _intersectionPointWorld.applyMatrix4(object.matrixWorld);\n\n        var distance = raycaster.ray.origin.distanceTo(_intersectionPointWorld);\n        if (distance < raycaster.near || distance > raycaster.far) return null;\n        return {\n            distance: distance,\n            point: _intersectionPointWorld.clone(),\n            object: object\n        };\n    }\n\n    function checkBufferGeometryIntersection(object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c) {\n        _vA.fromBufferAttribute(position, a);\n\n        _vB.fromBufferAttribute(position, b);\n\n        _vC.fromBufferAttribute(position, c);\n\n        var morphInfluences = object.morphTargetInfluences;\n\n        if (material.morphTargets && morphPosition && morphInfluences) {\n            _morphA.set(0, 0, 0);\n\n            _morphB.set(0, 0, 0);\n\n            _morphC.set(0, 0, 0);\n\n            for (var i = 0, il = morphPosition.length; i < il; i++) {\n                var influence = morphInfluences[i];\n                var morphAttribute = morphPosition[i];\n                if (influence === 0) continue;\n\n                _tempA.fromBufferAttribute(morphAttribute, a);\n\n                _tempB.fromBufferAttribute(morphAttribute, b);\n\n                _tempC.fromBufferAttribute(morphAttribute, c);\n\n                if (morphTargetsRelative) {\n                    _morphA.addScaledVector(_tempA, influence);\n\n                    _morphB.addScaledVector(_tempB, influence);\n\n                    _morphC.addScaledVector(_tempC, influence);\n                } else {\n                    _morphA.addScaledVector(_tempA.sub(_vA), influence);\n\n                    _morphB.addScaledVector(_tempB.sub(_vB), influence);\n\n                    _morphC.addScaledVector(_tempC.sub(_vC), influence);\n                }\n            }\n\n            _vA.add(_morphA);\n\n            _vB.add(_morphB);\n\n            _vC.add(_morphC);\n        }\n\n        if (object.isSkinnedMesh) {\n            object.boneTransform(a, _vA);\n            object.boneTransform(b, _vB);\n            object.boneTransform(c, _vC);\n        }\n\n        var intersection = checkIntersection(object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint);\n\n        if (intersection) {\n            if (uv) {\n                _uvA.fromBufferAttribute(uv, a);\n\n                _uvB.fromBufferAttribute(uv, b);\n\n                _uvC.fromBufferAttribute(uv, c);\n\n                intersection.uv = Triangle.getUV(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2());\n            }\n\n            if (uv2) {\n                _uvA.fromBufferAttribute(uv2, a);\n\n                _uvB.fromBufferAttribute(uv2, b);\n\n                _uvC.fromBufferAttribute(uv2, c);\n\n                intersection.uv2 = Triangle.getUV(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2());\n            }\n\n            var face = new Face3(a, b, c);\n            Triangle.getNormal(_vA, _vB, _vC, face.normal);\n            intersection.face = face;\n        }\n\n        return intersection;\n    }\n\n    var BoxBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(BoxBufferGeometry, _BufferGeometry);\n\n        function BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {\n            var _this;\n\n            if (width === void 0) {\n                width = 1;\n            }\n\n            if (height === void 0) {\n                height = 1;\n            }\n\n            if (depth === void 0) {\n                depth = 1;\n            }\n\n            if (widthSegments === void 0) {\n                widthSegments = 1;\n            }\n\n            if (heightSegments === void 0) {\n                heightSegments = 1;\n            }\n\n            if (depthSegments === void 0) {\n                depthSegments = 1;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'BoxBufferGeometry';\n            _this.parameters = {\n                width: width,\n                height: height,\n                depth: depth,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments,\n                depthSegments: depthSegments\n            };\n\n            var scope = _assertThisInitialized(_this); // segments\n\n\n            widthSegments = Math.floor(widthSegments);\n            heightSegments = Math.floor(heightSegments);\n            depthSegments = Math.floor(depthSegments); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var numberOfVertices = 0;\n            var groupStart = 0; // build each side of the box geometry\n\n            buildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0); // px\n\n            buildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1); // nx\n\n            buildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2); // py\n\n            buildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3); // ny\n\n            buildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4); // pz\n\n            buildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5); // nz\n            // build geometry\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            function buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {\n                var segmentWidth = width / gridX;\n                var segmentHeight = height / gridY;\n                var widthHalf = width / 2;\n                var heightHalf = height / 2;\n                var depthHalf = depth / 2;\n                var gridX1 = gridX + 1;\n                var gridY1 = gridY + 1;\n                var vertexCounter = 0;\n                var groupCount = 0;\n                var vector = new Vector3(); // generate vertices, normals and uvs\n\n                for (var iy = 0; iy < gridY1; iy++) {\n                    var y = iy * segmentHeight - heightHalf;\n\n                    for (var ix = 0; ix < gridX1; ix++) {\n                        var x = ix * segmentWidth - widthHalf; // set values to correct vector component\n\n                        vector[u] = x * udir;\n                        vector[v] = y * vdir;\n                        vector[w] = depthHalf; // now apply vector to vertex buffer\n\n                        vertices.push(vector.x, vector.y, vector.z); // set values to correct vector component\n\n                        vector[u] = 0;\n                        vector[v] = 0;\n                        vector[w] = depth > 0 ? 1 : -1; // now apply vector to normal buffer\n\n                        normals.push(vector.x, vector.y, vector.z); // uvs\n\n                        uvs.push(ix / gridX);\n                        uvs.push(1 - iy / gridY); // counters\n\n                        vertexCounter += 1;\n                    }\n                } // indices\n                // 1. you need three indices to draw a single face\n                // 2. a single segment consists of two faces\n                // 3. so we need to generate six (2*3) indices per segment\n\n\n                for (var _iy = 0; _iy < gridY; _iy++) {\n                    for (var _ix = 0; _ix < gridX; _ix++) {\n                        var a = numberOfVertices + _ix + gridX1 * _iy;\n                        var b = numberOfVertices + _ix + gridX1 * (_iy + 1);\n                        var c = numberOfVertices + (_ix + 1) + gridX1 * (_iy + 1);\n                        var d = numberOfVertices + (_ix + 1) + gridX1 * _iy; // faces\n\n                        indices.push(a, b, d);\n                        indices.push(b, c, d); // increase counter\n\n                        groupCount += 6;\n                    }\n                } // add a group to the geometry. this will ensure multi material support\n\n\n                scope.addGroup(groupStart, groupCount, materialIndex); // calculate new start value for groups\n\n                groupStart += groupCount; // update total number of vertices\n\n                numberOfVertices += vertexCounter;\n            }\n\n            return _this;\n        }\n\n        return BoxBufferGeometry;\n    }(BufferGeometry);\n\n    /**\n     * Uniform Utilities\n     */\n    function cloneUniforms(src) {\n        var dst = {};\n\n        for (var u in src) {\n            dst[u] = {};\n\n            for (var p in src[u]) {\n                var property = src[u][p];\n\n                if (property && (property.isColor || property.isMatrix3 || property.isMatrix4 || property.isVector2 || property.isVector3 || property.isVector4 || property.isTexture)) {\n                    dst[u][p] = property.clone();\n                } else if (Array.isArray(property)) {\n                    dst[u][p] = property.slice();\n                } else {\n                    dst[u][p] = property;\n                }\n            }\n        }\n\n        return dst;\n    }\n    function mergeUniforms(uniforms) {\n        var merged = {};\n\n        for (var u = 0; u < uniforms.length; u++) {\n            var tmp = cloneUniforms(uniforms[u]);\n\n            for (var p in tmp) {\n                merged[p] = tmp[p];\n            }\n        }\n\n        return merged;\n    } // Legacy\n\n    var UniformsUtils = {\n        clone: cloneUniforms,\n        merge: mergeUniforms\n    };\n\n    var default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\n    var default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n    /**\n     * parameters = {\n\t *\tdefines: { \"label\" : \"value\" },\n\t *\tuniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n\t *\n\t *\tfragmentShader: <string>,\n\t *\tvertexShader: <string>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tlights: <bool>,\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>,\n\t *\tmorphNormals: <bool>\n\t * }\n     */\n\n    function ShaderMaterial(parameters) {\n        Material.call(this);\n        this.type = 'ShaderMaterial';\n        this.defines = {};\n        this.uniforms = {};\n        this.vertexShader = default_vertex;\n        this.fragmentShader = default_fragment;\n        this.linewidth = 1;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.fog = false; // set to use scene fog\n\n        this.lights = false; // set to use scene lights\n\n        this.clipping = false; // set to use user-defined clipping planes\n\n        this.skinning = false; // set to use skinning attribute streams\n\n        this.morphTargets = false; // set to use morph targets\n\n        this.morphNormals = false; // set to use morph normals\n\n        this.extensions = {\n            derivatives: false,\n            // set to use derivatives\n            fragDepth: false,\n            // set to use fragment depth values\n            drawBuffers: false,\n            // set to use draw buffers\n            shaderTextureLOD: false // set to use shader texture LOD\n\n        }; // When rendered geometry doesn't include these attributes but the material does,\n        // use these default values in WebGL. This avoids errors when buffer data is missing.\n\n        this.defaultAttributeValues = {\n            'color': [1, 1, 1],\n            'uv': [0, 0],\n            'uv2': [0, 0]\n        };\n        this.index0AttributeName = undefined;\n        this.uniformsNeedUpdate = false;\n        this.glslVersion = null;\n\n        if (parameters !== undefined) {\n            if (parameters.attributes !== undefined) {\n                console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');\n            }\n\n            this.setValues(parameters);\n        }\n    }\n\n    ShaderMaterial.prototype = Object.create(Material.prototype);\n    ShaderMaterial.prototype.constructor = ShaderMaterial;\n    ShaderMaterial.prototype.isShaderMaterial = true;\n\n    ShaderMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.fragmentShader = source.fragmentShader;\n        this.vertexShader = source.vertexShader;\n        this.uniforms = cloneUniforms(source.uniforms);\n        this.defines = Object.assign({}, source.defines);\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.lights = source.lights;\n        this.clipping = source.clipping;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        this.extensions = Object.assign({}, source.extensions);\n        this.glslVersion = source.glslVersion;\n        return this;\n    };\n\n    ShaderMaterial.prototype.toJSON = function (meta) {\n        var data = Material.prototype.toJSON.call(this, meta);\n        data.glslVersion = this.glslVersion;\n        data.uniforms = {};\n\n        for (var name in this.uniforms) {\n            var uniform = this.uniforms[name];\n            var value = uniform.value;\n\n            if (value && value.isTexture) {\n                data.uniforms[name] = {\n                    type: 't',\n                    value: value.toJSON(meta).uuid\n                };\n            } else if (value && value.isColor) {\n                data.uniforms[name] = {\n                    type: 'c',\n                    value: value.getHex()\n                };\n            } else if (value && value.isVector2) {\n                data.uniforms[name] = {\n                    type: 'v2',\n                    value: value.toArray()\n                };\n            } else if (value && value.isVector3) {\n                data.uniforms[name] = {\n                    type: 'v3',\n                    value: value.toArray()\n                };\n            } else if (value && value.isVector4) {\n                data.uniforms[name] = {\n                    type: 'v4',\n                    value: value.toArray()\n                };\n            } else if (value && value.isMatrix3) {\n                data.uniforms[name] = {\n                    type: 'm3',\n                    value: value.toArray()\n                };\n            } else if (value && value.isMatrix4) {\n                data.uniforms[name] = {\n                    type: 'm4',\n                    value: value.toArray()\n                };\n            } else {\n                data.uniforms[name] = {\n                    value: value\n                }; // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n            }\n        }\n\n        if (Object.keys(this.defines).length > 0) data.defines = this.defines;\n        data.vertexShader = this.vertexShader;\n        data.fragmentShader = this.fragmentShader;\n        var extensions = {};\n\n        for (var key in this.extensions) {\n            if (this.extensions[key] === true) extensions[key] = true;\n        }\n\n        if (Object.keys(extensions).length > 0) data.extensions = extensions;\n        return data;\n    };\n\n    function Camera() {\n        Object3D.call(this);\n        this.type = 'Camera';\n        this.matrixWorldInverse = new Matrix4();\n        this.projectionMatrix = new Matrix4();\n        this.projectionMatrixInverse = new Matrix4();\n    }\n\n    Camera.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Camera,\n        isCamera: true,\n        copy: function copy(source, recursive) {\n            Object3D.prototype.copy.call(this, source, recursive);\n            this.matrixWorldInverse.copy(source.matrixWorldInverse);\n            this.projectionMatrix.copy(source.projectionMatrix);\n            this.projectionMatrixInverse.copy(source.projectionMatrixInverse);\n            return this;\n        },\n        getWorldDirection: function getWorldDirection(target) {\n            if (target === undefined) {\n                console.warn('THREE.Camera: .getWorldDirection() target is now required');\n                target = new Vector3();\n            }\n\n            this.updateMatrixWorld(true);\n            var e = this.matrixWorld.elements;\n            return target.set(-e[8], -e[9], -e[10]).normalize();\n        },\n        updateMatrixWorld: function updateMatrixWorld(force) {\n            Object3D.prototype.updateMatrixWorld.call(this, force);\n            this.matrixWorldInverse.getInverse(this.matrixWorld);\n        },\n        updateWorldMatrix: function updateWorldMatrix(updateParents, updateChildren) {\n            Object3D.prototype.updateWorldMatrix.call(this, updateParents, updateChildren);\n            this.matrixWorldInverse.getInverse(this.matrixWorld);\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        }\n    });\n\n    function PerspectiveCamera(fov, aspect, near, far) {\n        Camera.call(this);\n        this.type = 'PerspectiveCamera';\n        this.fov = fov !== undefined ? fov : 50;\n        this.zoom = 1;\n        this.near = near !== undefined ? near : 0.1;\n        this.far = far !== undefined ? far : 2000;\n        this.focus = 10;\n        this.aspect = aspect !== undefined ? aspect : 1;\n        this.view = null;\n        this.filmGauge = 35; // width of the film (default in millimeters)\n\n        this.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n        this.updateProjectionMatrix();\n    }\n\n    PerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n        constructor: PerspectiveCamera,\n        isPerspectiveCamera: true,\n        copy: function copy(source, recursive) {\n            Camera.prototype.copy.call(this, source, recursive);\n            this.fov = source.fov;\n            this.zoom = source.zoom;\n            this.near = source.near;\n            this.far = source.far;\n            this.focus = source.focus;\n            this.aspect = source.aspect;\n            this.view = source.view === null ? null : Object.assign({}, source.view);\n            this.filmGauge = source.filmGauge;\n            this.filmOffset = source.filmOffset;\n            return this;\n        },\n\n        /**\n         * Sets the FOV by focal length in respect to the current .filmGauge.\n         *\n         * The default film gauge is 35, so that the focal length can be specified for\n         * a 35mm (full frame) camera.\n         *\n         * Values for focal length and film gauge must have the same unit.\n         */\n        setFocalLength: function setFocalLength(focalLength) {\n            // see http://www.bobatkins.com/photography/technical/field_of_view.html\n            var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n            this.fov = MathUtils.RAD2DEG * 2 * Math.atan(vExtentSlope);\n            this.updateProjectionMatrix();\n        },\n\n        /**\n         * Calculates the focal length from the current .fov and .filmGauge.\n         */\n        getFocalLength: function getFocalLength() {\n            var vExtentSlope = Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov);\n            return 0.5 * this.getFilmHeight() / vExtentSlope;\n        },\n        getEffectiveFOV: function getEffectiveFOV() {\n            return MathUtils.RAD2DEG * 2 * Math.atan(Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov) / this.zoom);\n        },\n        getFilmWidth: function getFilmWidth() {\n            // film not completely covered in portrait format (aspect < 1)\n            return this.filmGauge * Math.min(this.aspect, 1);\n        },\n        getFilmHeight: function getFilmHeight() {\n            // film not completely covered in landscape format (aspect > 1)\n            return this.filmGauge / Math.max(this.aspect, 1);\n        },\n\n        /**\n         * Sets an offset in a larger frustum. This is useful for multi-window or\n         * multi-monitor/multi-machine setups.\n         *\n         * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n         * the monitors are in grid like this\n         *\n         *\t +---+---+---+\n         *\t | A | B | C |\n         *\t +---+---+---+\n         *\t | D | E | F |\n         *\t +---+---+---+\n         *\n         * then for each monitor you would call it like this\n         *\n         *\t const w = 1920;\n         *\t const h = 1080;\n         *\t const fullWidth = w * 3;\n         *\t const fullHeight = h * 2;\n         *\n         *\t --A--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n         *\t --B--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n         *\t --C--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n         *\t --D--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n         *\t --E--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n         *\t --F--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n         *\n         *\t Note there is no reason monitors have to be the same size or in a grid.\n         */\n        setViewOffset: function setViewOffset(fullWidth, fullHeight, x, y, width, height) {\n            this.aspect = fullWidth / fullHeight;\n\n            if (this.view === null) {\n                this.view = {\n                    enabled: true,\n                    fullWidth: 1,\n                    fullHeight: 1,\n                    offsetX: 0,\n                    offsetY: 0,\n                    width: 1,\n                    height: 1\n                };\n            }\n\n            this.view.enabled = true;\n            this.view.fullWidth = fullWidth;\n            this.view.fullHeight = fullHeight;\n            this.view.offsetX = x;\n            this.view.offsetY = y;\n            this.view.width = width;\n            this.view.height = height;\n            this.updateProjectionMatrix();\n        },\n        clearViewOffset: function clearViewOffset() {\n            if (this.view !== null) {\n                this.view.enabled = false;\n            }\n\n            this.updateProjectionMatrix();\n        },\n        updateProjectionMatrix: function updateProjectionMatrix() {\n            var near = this.near;\n            var top = near * Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov) / this.zoom;\n            var height = 2 * top;\n            var width = this.aspect * height;\n            var left = -0.5 * width;\n            var view = this.view;\n\n            if (this.view !== null && this.view.enabled) {\n                var fullWidth = view.fullWidth,\n                    fullHeight = view.fullHeight;\n                left += view.offsetX * width / fullWidth;\n                top -= view.offsetY * height / fullHeight;\n                width *= view.width / fullWidth;\n                height *= view.height / fullHeight;\n            }\n\n            var skew = this.filmOffset;\n            if (skew !== 0) left += near * skew / this.getFilmWidth();\n            this.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);\n            this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n        },\n        toJSON: function toJSON(meta) {\n            var data = Object3D.prototype.toJSON.call(this, meta);\n            data.object.fov = this.fov;\n            data.object.zoom = this.zoom;\n            data.object.near = this.near;\n            data.object.far = this.far;\n            data.object.focus = this.focus;\n            data.object.aspect = this.aspect;\n            if (this.view !== null) data.object.view = Object.assign({}, this.view);\n            data.object.filmGauge = this.filmGauge;\n            data.object.filmOffset = this.filmOffset;\n            return data;\n        }\n    });\n\n    var fov = 90,\n        aspect = 1;\n\n    function CubeCamera(near, far, renderTarget) {\n        Object3D.call(this);\n        this.type = 'CubeCamera';\n\n        if (renderTarget.isWebGLCubeRenderTarget !== true) {\n            console.error('THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.');\n            return;\n        }\n\n        this.renderTarget = renderTarget;\n        var cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n        cameraPX.layers = this.layers;\n        cameraPX.up.set(0, -1, 0);\n        cameraPX.lookAt(new Vector3(1, 0, 0));\n        this.add(cameraPX);\n        var cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n        cameraNX.layers = this.layers;\n        cameraNX.up.set(0, -1, 0);\n        cameraNX.lookAt(new Vector3(-1, 0, 0));\n        this.add(cameraNX);\n        var cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n        cameraPY.layers = this.layers;\n        cameraPY.up.set(0, 0, 1);\n        cameraPY.lookAt(new Vector3(0, 1, 0));\n        this.add(cameraPY);\n        var cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n        cameraNY.layers = this.layers;\n        cameraNY.up.set(0, 0, -1);\n        cameraNY.lookAt(new Vector3(0, -1, 0));\n        this.add(cameraNY);\n        var cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n        cameraPZ.layers = this.layers;\n        cameraPZ.up.set(0, -1, 0);\n        cameraPZ.lookAt(new Vector3(0, 0, 1));\n        this.add(cameraPZ);\n        var cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n        cameraNZ.layers = this.layers;\n        cameraNZ.up.set(0, -1, 0);\n        cameraNZ.lookAt(new Vector3(0, 0, -1));\n        this.add(cameraNZ);\n\n        this.update = function (renderer, scene) {\n            if (this.parent === null) this.updateMatrixWorld();\n            var currentXrEnabled = renderer.xr.enabled;\n            var currentRenderTarget = renderer.getRenderTarget();\n            renderer.xr.enabled = false;\n            var generateMipmaps = renderTarget.texture.generateMipmaps;\n            renderTarget.texture.generateMipmaps = false;\n            renderer.setRenderTarget(renderTarget, 0);\n            renderer.render(scene, cameraPX);\n            renderer.setRenderTarget(renderTarget, 1);\n            renderer.render(scene, cameraNX);\n            renderer.setRenderTarget(renderTarget, 2);\n            renderer.render(scene, cameraPY);\n            renderer.setRenderTarget(renderTarget, 3);\n            renderer.render(scene, cameraNY);\n            renderer.setRenderTarget(renderTarget, 4);\n            renderer.render(scene, cameraPZ);\n            renderTarget.texture.generateMipmaps = generateMipmaps;\n            renderer.setRenderTarget(renderTarget, 5);\n            renderer.render(scene, cameraNZ);\n            renderer.setRenderTarget(currentRenderTarget);\n            renderer.xr.enabled = currentXrEnabled;\n        };\n\n        this.clear = function (renderer, color, depth, stencil) {\n            var currentRenderTarget = renderer.getRenderTarget();\n\n            for (var i = 0; i < 6; i++) {\n                renderer.setRenderTarget(renderTarget, i);\n                renderer.clear(color, depth, stencil);\n            }\n\n            renderer.setRenderTarget(currentRenderTarget);\n        };\n    }\n\n    CubeCamera.prototype = Object.create(Object3D.prototype);\n    CubeCamera.prototype.constructor = CubeCamera;\n\n    function CubeTexture(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n        images = images !== undefined ? images : [];\n        mapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n        format = format !== undefined ? format : RGBFormat;\n        Texture.call(this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n        this.flipY = false;\n        this._needsFlipEnvMap = true;\n    }\n\n    CubeTexture.prototype = Object.create(Texture.prototype);\n    CubeTexture.prototype.constructor = CubeTexture;\n    CubeTexture.prototype.isCubeTexture = true;\n    Object.defineProperty(CubeTexture.prototype, 'images', {\n        get: function get() {\n            return this.image;\n        },\n        set: function set(value) {\n            this.image = value;\n        }\n    });\n\n    function WebGLCubeRenderTarget(size, options, dummy) {\n        if (Number.isInteger(options)) {\n            console.warn('THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )');\n            options = dummy;\n        }\n\n        WebGLRenderTarget.call(this, size, size, options);\n        options = options || {};\n        this.texture = new CubeTexture(undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n        this.texture._needsFlipEnvMap = false;\n    }\n\n    WebGLCubeRenderTarget.prototype = Object.create(WebGLRenderTarget.prototype);\n    WebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\n    WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\n    WebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function (renderer, texture) {\n        this.texture.type = texture.type;\n        this.texture.format = RGBAFormat; // see #18859\n\n        this.texture.encoding = texture.encoding;\n        this.texture.generateMipmaps = texture.generateMipmaps;\n        this.texture.minFilter = texture.minFilter;\n        this.texture.magFilter = texture.magFilter;\n        var shader = {\n            uniforms: {\n                tEquirect: {\n                    value: null\n                }\n            },\n            vertexShader:\n            /* glsl */\n                \"\\n\\n\\t\\t\\tvarying vec3 vWorldDirection;\\n\\n\\t\\t\\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\n\\t\\t\\t\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\n\\t\\t\\t\\t#include <begin_vertex>\\n\\t\\t\\t\\t#include <project_vertex>\\n\\n\\t\\t\\t}\\n\\t\\t\",\n            fragmentShader:\n            /* glsl */\n                \"\\n\\n\\t\\t\\tuniform sampler2D tEquirect;\\n\\n\\t\\t\\tvarying vec3 vWorldDirection;\\n\\n\\t\\t\\t#include <common>\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tvec3 direction = normalize( vWorldDirection );\\n\\n\\t\\t\\t\\tvec2 sampleUV = equirectUv( direction );\\n\\n\\t\\t\\t\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\n\\t\\t\\t}\\n\\t\\t\"\n        };\n        var geometry = new BoxBufferGeometry(5, 5, 5);\n        var material = new ShaderMaterial({\n            name: 'CubemapFromEquirect',\n            uniforms: cloneUniforms(shader.uniforms),\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader,\n            side: BackSide,\n            blending: NoBlending\n        });\n        material.uniforms.tEquirect.value = texture;\n        var mesh = new Mesh(geometry, material);\n        var currentMinFilter = texture.minFilter; // Avoid blurred poles\n\n        if (texture.minFilter === LinearMipmapLinearFilter) texture.minFilter = LinearFilter;\n        var camera = new CubeCamera(1, 10, this);\n        camera.update(renderer, mesh);\n        texture.minFilter = currentMinFilter;\n        mesh.geometry.dispose();\n        mesh.material.dispose();\n        return this;\n    };\n\n    function DataTexture(data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n        Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n        this.image = {\n            data: data || null,\n            width: width || 1,\n            height: height || 1\n        };\n        this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n        this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n        this.generateMipmaps = false;\n        this.flipY = false;\n        this.unpackAlignment = 1;\n        this.needsUpdate = true;\n    }\n\n    DataTexture.prototype = Object.create(Texture.prototype);\n    DataTexture.prototype.constructor = DataTexture;\n    DataTexture.prototype.isDataTexture = true;\n\n    var _sphere$1 = /*@__PURE__*/new Sphere();\n\n    var _vector$5 = /*@__PURE__*/new Vector3();\n\n    var Frustum = /*#__PURE__*/function () {\n        function Frustum(p0, p1, p2, p3, p4, p5) {\n            this.planes = [p0 !== undefined ? p0 : new Plane(), p1 !== undefined ? p1 : new Plane(), p2 !== undefined ? p2 : new Plane(), p3 !== undefined ? p3 : new Plane(), p4 !== undefined ? p4 : new Plane(), p5 !== undefined ? p5 : new Plane()];\n        }\n\n        var _proto = Frustum.prototype;\n\n        _proto.set = function set(p0, p1, p2, p3, p4, p5) {\n            var planes = this.planes;\n            planes[0].copy(p0);\n            planes[1].copy(p1);\n            planes[2].copy(p2);\n            planes[3].copy(p3);\n            planes[4].copy(p4);\n            planes[5].copy(p5);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(frustum) {\n            var planes = this.planes;\n\n            for (var i = 0; i < 6; i++) {\n                planes[i].copy(frustum.planes[i]);\n            }\n\n            return this;\n        };\n\n        _proto.setFromProjectionMatrix = function setFromProjectionMatrix(m) {\n            var planes = this.planes;\n            var me = m.elements;\n            var me0 = me[0],\n                me1 = me[1],\n                me2 = me[2],\n                me3 = me[3];\n            var me4 = me[4],\n                me5 = me[5],\n                me6 = me[6],\n                me7 = me[7];\n            var me8 = me[8],\n                me9 = me[9],\n                me10 = me[10],\n                me11 = me[11];\n            var me12 = me[12],\n                me13 = me[13],\n                me14 = me[14],\n                me15 = me[15];\n            planes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\n            planes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\n            planes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\n            planes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\n            planes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\n            planes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\n            return this;\n        };\n\n        _proto.intersectsObject = function intersectsObject(object) {\n            var geometry = object.geometry;\n            if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n            _sphere$1.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n\n            return this.intersectsSphere(_sphere$1);\n        };\n\n        _proto.intersectsSprite = function intersectsSprite(sprite) {\n            _sphere$1.center.set(0, 0, 0);\n\n            _sphere$1.radius = 0.7071067811865476;\n\n            _sphere$1.applyMatrix4(sprite.matrixWorld);\n\n            return this.intersectsSphere(_sphere$1);\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            var planes = this.planes;\n            var center = sphere.center;\n            var negRadius = -sphere.radius;\n\n            for (var i = 0; i < 6; i++) {\n                var distance = planes[i].distanceToPoint(center);\n\n                if (distance < negRadius) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            var planes = this.planes;\n\n            for (var i = 0; i < 6; i++) {\n                var plane = planes[i]; // corner at max distance\n\n                _vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n                _vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n                _vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n                if (plane.distanceToPoint(_vector$5) < 0) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            var planes = this.planes;\n\n            for (var i = 0; i < 6; i++) {\n                if (planes[i].distanceToPoint(point) < 0) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        return Frustum;\n    }();\n\n    function WebGLAnimation() {\n        var context = null;\n        var isAnimating = false;\n        var animationLoop = null;\n        var requestId = null;\n\n        function onAnimationFrame(time, frame) {\n            animationLoop(time, frame);\n            requestId = context.requestAnimationFrame(onAnimationFrame);\n        }\n\n        return {\n            start: function start() {\n                if (isAnimating === true) return;\n                if (animationLoop === null) return;\n                requestId = context.requestAnimationFrame(onAnimationFrame);\n                isAnimating = true;\n            },\n            stop: function stop() {\n                context.cancelAnimationFrame(requestId);\n                isAnimating = false;\n            },\n            setAnimationLoop: function setAnimationLoop(callback) {\n                animationLoop = callback;\n            },\n            setContext: function setContext(value) {\n                context = value;\n            }\n        };\n    }\n\n    function WebGLAttributes(gl, capabilities) {\n        var isWebGL2 = capabilities.isWebGL2;\n        var buffers = new WeakMap();\n\n        function createBuffer(attribute, bufferType) {\n            var array = attribute.array;\n            var usage = attribute.usage;\n            var buffer = gl.createBuffer();\n            gl.bindBuffer(bufferType, buffer);\n            gl.bufferData(bufferType, array, usage);\n            attribute.onUploadCallback();\n            var type = 5126;\n\n            if (array instanceof Float32Array) {\n                type = 5126;\n            } else if (array instanceof Float64Array) {\n                console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');\n            } else if (array instanceof Uint16Array) {\n                type = 5123;\n            } else if (array instanceof Int16Array) {\n                type = 5122;\n            } else if (array instanceof Uint32Array) {\n                type = 5125;\n            } else if (array instanceof Int32Array) {\n                type = 5124;\n            } else if (array instanceof Int8Array) {\n                type = 5120;\n            } else if (array instanceof Uint8Array) {\n                type = 5121;\n            }\n\n            return {\n                buffer: buffer,\n                type: type,\n                bytesPerElement: array.BYTES_PER_ELEMENT,\n                version: attribute.version\n            };\n        }\n\n        function updateBuffer(buffer, attribute, bufferType) {\n            var array = attribute.array;\n            var updateRange = attribute.updateRange;\n            gl.bindBuffer(bufferType, buffer);\n\n            if (updateRange.count === -1) {\n                // Not using update ranges\n                gl.bufferSubData(bufferType, 0, array);\n            } else {\n                if (isWebGL2) {\n                    gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array, updateRange.offset, updateRange.count);\n                } else {\n                    gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array.subarray(updateRange.offset, updateRange.offset + updateRange.count));\n                }\n\n                updateRange.count = -1; // reset range\n            }\n        } //\n\n\n        function get(attribute) {\n            if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n            return buffers.get(attribute);\n        }\n\n        function remove(attribute) {\n            if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n            var data = buffers.get(attribute);\n\n            if (data) {\n                gl.deleteBuffer(data.buffer);\n                buffers.delete(attribute);\n            }\n        }\n\n        function update(attribute, bufferType) {\n            if (attribute.isGLBufferAttribute) {\n                var cached = buffers.get(attribute);\n\n                if (!cached || cached.version < attribute.version) {\n                    buffers.set(attribute, {\n                        buffer: attribute.buffer,\n                        type: attribute.type,\n                        bytesPerElement: attribute.elementSize,\n                        version: attribute.version\n                    });\n                }\n\n                return;\n            }\n\n            if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n            var data = buffers.get(attribute);\n\n            if (data === undefined) {\n                buffers.set(attribute, createBuffer(attribute, bufferType));\n            } else if (data.version < attribute.version) {\n                updateBuffer(data.buffer, attribute, bufferType);\n                data.version = attribute.version;\n            }\n        }\n\n        return {\n            get: get,\n            remove: remove,\n            update: update\n        };\n    }\n\n    var PlaneBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(PlaneBufferGeometry, _BufferGeometry);\n\n        function PlaneBufferGeometry(width, height, widthSegments, heightSegments) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'PlaneBufferGeometry';\n            _this.parameters = {\n                width: width,\n                height: height,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments\n            };\n            width = width || 1;\n            height = height || 1;\n            var width_half = width / 2;\n            var height_half = height / 2;\n            var gridX = Math.floor(widthSegments) || 1;\n            var gridY = Math.floor(heightSegments) || 1;\n            var gridX1 = gridX + 1;\n            var gridY1 = gridY + 1;\n            var segment_width = width / gridX;\n            var segment_height = height / gridY; // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // generate vertices, normals and uvs\n\n            for (var iy = 0; iy < gridY1; iy++) {\n                var y = iy * segment_height - height_half;\n\n                for (var ix = 0; ix < gridX1; ix++) {\n                    var x = ix * segment_width - width_half;\n                    vertices.push(x, -y, 0);\n                    normals.push(0, 0, 1);\n                    uvs.push(ix / gridX);\n                    uvs.push(1 - iy / gridY);\n                }\n            } // indices\n\n\n            for (var _iy = 0; _iy < gridY; _iy++) {\n                for (var _ix = 0; _ix < gridX; _ix++) {\n                    var a = _ix + gridX1 * _iy;\n                    var b = _ix + gridX1 * (_iy + 1);\n                    var c = _ix + 1 + gridX1 * (_iy + 1);\n                    var d = _ix + 1 + gridX1 * _iy; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return PlaneBufferGeometry;\n    }(BufferGeometry);\n\n    var alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\n    var alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n    var alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\n    var aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\n    var aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\n    var begin_vertex = \"vec3 transformed = vec3( position );\";\n\n    var beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\n    var bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\n    var bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\n    var clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\n    var clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\n    var clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\n    var clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\n    var color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\n    var color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\n    var color_pars_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\n    var color_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor.xyz *= color.xyz;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\n    var common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\n    var cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\n    var defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\n    var displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\n    var displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\n    var emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\n    var emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\n    var encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\n    var encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\n    var envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\n    var envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\n    var envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\n    var envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\n    var envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n    var fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\n    var fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\n    var fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\n    var fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\n    var gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\n    var lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\n    var lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\n    var lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\n    var lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\n    var envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\n    var lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\n    var lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n    var lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\n    var lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n    var lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\n    var lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(\t\t0, 1,\t\t0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\n    var lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\n    var lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\n    var lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\n    var logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\n    var logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\n    var logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\n    var logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n    var map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\n    var map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\n    var map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\n    var map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n    var metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\n    var metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\n    var morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\n    var morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\n    var morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\n    var normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\n    var normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\n    var normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\n    var clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\n    var clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\n    var clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\n    var packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\n    var premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\n    var project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\n    var dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\n    var dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\n    var roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\n    var roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\n    var shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\tf.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\tf.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n    var shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\n    var shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\n    var shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\n    var skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\n    var skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n    var skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\n    var skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\n    var specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\n    var specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\n    var tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\n    var tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(\t1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,\t1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,\t1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\n    var transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\n\n    var transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\n\n    var uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\n    var uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\n    var uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\n    var uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\n    var uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\n    var uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\n    var worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\n    var background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n    var background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\n    var cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n    var cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\n    var depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\n    var depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\n    var distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\n    var distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\n    var equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n    var equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\n    var linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\n    var linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\n    var meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\n    var normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\n    var points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\n    var points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n    var shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n    var sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var ShaderChunk = {\n        alphamap_fragment: alphamap_fragment,\n        alphamap_pars_fragment: alphamap_pars_fragment,\n        alphatest_fragment: alphatest_fragment,\n        aomap_fragment: aomap_fragment,\n        aomap_pars_fragment: aomap_pars_fragment,\n        begin_vertex: begin_vertex,\n        beginnormal_vertex: beginnormal_vertex,\n        bsdfs: bsdfs,\n        bumpmap_pars_fragment: bumpmap_pars_fragment,\n        clipping_planes_fragment: clipping_planes_fragment,\n        clipping_planes_pars_fragment: clipping_planes_pars_fragment,\n        clipping_planes_pars_vertex: clipping_planes_pars_vertex,\n        clipping_planes_vertex: clipping_planes_vertex,\n        color_fragment: color_fragment,\n        color_pars_fragment: color_pars_fragment,\n        color_pars_vertex: color_pars_vertex,\n        color_vertex: color_vertex,\n        common: common,\n        cube_uv_reflection_fragment: cube_uv_reflection_fragment,\n        defaultnormal_vertex: defaultnormal_vertex,\n        displacementmap_pars_vertex: displacementmap_pars_vertex,\n        displacementmap_vertex: displacementmap_vertex,\n        emissivemap_fragment: emissivemap_fragment,\n        emissivemap_pars_fragment: emissivemap_pars_fragment,\n        encodings_fragment: encodings_fragment,\n        encodings_pars_fragment: encodings_pars_fragment,\n        envmap_fragment: envmap_fragment,\n        envmap_common_pars_fragment: envmap_common_pars_fragment,\n        envmap_pars_fragment: envmap_pars_fragment,\n        envmap_pars_vertex: envmap_pars_vertex,\n        envmap_physical_pars_fragment: envmap_physical_pars_fragment,\n        envmap_vertex: envmap_vertex,\n        fog_vertex: fog_vertex,\n        fog_pars_vertex: fog_pars_vertex,\n        fog_fragment: fog_fragment,\n        fog_pars_fragment: fog_pars_fragment,\n        gradientmap_pars_fragment: gradientmap_pars_fragment,\n        lightmap_fragment: lightmap_fragment,\n        lightmap_pars_fragment: lightmap_pars_fragment,\n        lights_lambert_vertex: lights_lambert_vertex,\n        lights_pars_begin: lights_pars_begin,\n        lights_toon_fragment: lights_toon_fragment,\n        lights_toon_pars_fragment: lights_toon_pars_fragment,\n        lights_phong_fragment: lights_phong_fragment,\n        lights_phong_pars_fragment: lights_phong_pars_fragment,\n        lights_physical_fragment: lights_physical_fragment,\n        lights_physical_pars_fragment: lights_physical_pars_fragment,\n        lights_fragment_begin: lights_fragment_begin,\n        lights_fragment_maps: lights_fragment_maps,\n        lights_fragment_end: lights_fragment_end,\n        logdepthbuf_fragment: logdepthbuf_fragment,\n        logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n        logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n        logdepthbuf_vertex: logdepthbuf_vertex,\n        map_fragment: map_fragment,\n        map_pars_fragment: map_pars_fragment,\n        map_particle_fragment: map_particle_fragment,\n        map_particle_pars_fragment: map_particle_pars_fragment,\n        metalnessmap_fragment: metalnessmap_fragment,\n        metalnessmap_pars_fragment: metalnessmap_pars_fragment,\n        morphnormal_vertex: morphnormal_vertex,\n        morphtarget_pars_vertex: morphtarget_pars_vertex,\n        morphtarget_vertex: morphtarget_vertex,\n        normal_fragment_begin: normal_fragment_begin,\n        normal_fragment_maps: normal_fragment_maps,\n        normalmap_pars_fragment: normalmap_pars_fragment,\n        clearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n        clearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n        clearcoat_pars_fragment: clearcoat_pars_fragment,\n        packing: packing,\n        premultiplied_alpha_fragment: premultiplied_alpha_fragment,\n        project_vertex: project_vertex,\n        dithering_fragment: dithering_fragment,\n        dithering_pars_fragment: dithering_pars_fragment,\n        roughnessmap_fragment: roughnessmap_fragment,\n        roughnessmap_pars_fragment: roughnessmap_pars_fragment,\n        shadowmap_pars_fragment: shadowmap_pars_fragment,\n        shadowmap_pars_vertex: shadowmap_pars_vertex,\n        shadowmap_vertex: shadowmap_vertex,\n        shadowmask_pars_fragment: shadowmask_pars_fragment,\n        skinbase_vertex: skinbase_vertex,\n        skinning_pars_vertex: skinning_pars_vertex,\n        skinning_vertex: skinning_vertex,\n        skinnormal_vertex: skinnormal_vertex,\n        specularmap_fragment: specularmap_fragment,\n        specularmap_pars_fragment: specularmap_pars_fragment,\n        tonemapping_fragment: tonemapping_fragment,\n        tonemapping_pars_fragment: tonemapping_pars_fragment,\n        transmissionmap_fragment: transmissionmap_fragment,\n        transmissionmap_pars_fragment: transmissionmap_pars_fragment,\n        uv_pars_fragment: uv_pars_fragment,\n        uv_pars_vertex: uv_pars_vertex,\n        uv_vertex: uv_vertex,\n        uv2_pars_fragment: uv2_pars_fragment,\n        uv2_pars_vertex: uv2_pars_vertex,\n        uv2_vertex: uv2_vertex,\n        worldpos_vertex: worldpos_vertex,\n        background_frag: background_frag,\n        background_vert: background_vert,\n        cube_frag: cube_frag,\n        cube_vert: cube_vert,\n        depth_frag: depth_frag,\n        depth_vert: depth_vert,\n        distanceRGBA_frag: distanceRGBA_frag,\n        distanceRGBA_vert: distanceRGBA_vert,\n        equirect_frag: equirect_frag,\n        equirect_vert: equirect_vert,\n        linedashed_frag: linedashed_frag,\n        linedashed_vert: linedashed_vert,\n        meshbasic_frag: meshbasic_frag,\n        meshbasic_vert: meshbasic_vert,\n        meshlambert_frag: meshlambert_frag,\n        meshlambert_vert: meshlambert_vert,\n        meshmatcap_frag: meshmatcap_frag,\n        meshmatcap_vert: meshmatcap_vert,\n        meshtoon_frag: meshtoon_frag,\n        meshtoon_vert: meshtoon_vert,\n        meshphong_frag: meshphong_frag,\n        meshphong_vert: meshphong_vert,\n        meshphysical_frag: meshphysical_frag,\n        meshphysical_vert: meshphysical_vert,\n        normal_frag: normal_frag,\n        normal_vert: normal_vert,\n        points_frag: points_frag,\n        points_vert: points_vert,\n        shadow_frag: shadow_frag,\n        shadow_vert: shadow_vert,\n        sprite_frag: sprite_frag,\n        sprite_vert: sprite_vert\n    };\n\n    /**\n     * Uniforms library for shared webgl shaders\n     */\n\n    var UniformsLib = {\n        common: {\n            diffuse: {\n                value: new Color(0xeeeeee)\n            },\n            opacity: {\n                value: 1.0\n            },\n            map: {\n                value: null\n            },\n            uvTransform: {\n                value: new Matrix3()\n            },\n            uv2Transform: {\n                value: new Matrix3()\n            },\n            alphaMap: {\n                value: null\n            }\n        },\n        specularmap: {\n            specularMap: {\n                value: null\n            }\n        },\n        envmap: {\n            envMap: {\n                value: null\n            },\n            flipEnvMap: {\n                value: -1\n            },\n            reflectivity: {\n                value: 1.0\n            },\n            refractionRatio: {\n                value: 0.98\n            },\n            maxMipLevel: {\n                value: 0\n            }\n        },\n        aomap: {\n            aoMap: {\n                value: null\n            },\n            aoMapIntensity: {\n                value: 1\n            }\n        },\n        lightmap: {\n            lightMap: {\n                value: null\n            },\n            lightMapIntensity: {\n                value: 1\n            }\n        },\n        emissivemap: {\n            emissiveMap: {\n                value: null\n            }\n        },\n        bumpmap: {\n            bumpMap: {\n                value: null\n            },\n            bumpScale: {\n                value: 1\n            }\n        },\n        normalmap: {\n            normalMap: {\n                value: null\n            },\n            normalScale: {\n                value: new Vector2(1, 1)\n            }\n        },\n        displacementmap: {\n            displacementMap: {\n                value: null\n            },\n            displacementScale: {\n                value: 1\n            },\n            displacementBias: {\n                value: 0\n            }\n        },\n        roughnessmap: {\n            roughnessMap: {\n                value: null\n            }\n        },\n        metalnessmap: {\n            metalnessMap: {\n                value: null\n            }\n        },\n        gradientmap: {\n            gradientMap: {\n                value: null\n            }\n        },\n        fog: {\n            fogDensity: {\n                value: 0.00025\n            },\n            fogNear: {\n                value: 1\n            },\n            fogFar: {\n                value: 2000\n            },\n            fogColor: {\n                value: new Color(0xffffff)\n            }\n        },\n        lights: {\n            ambientLightColor: {\n                value: []\n            },\n            lightProbe: {\n                value: []\n            },\n            directionalLights: {\n                value: [],\n                properties: {\n                    direction: {},\n                    color: {}\n                }\n            },\n            directionalLightShadows: {\n                value: [],\n                properties: {\n                    shadowBias: {},\n                    shadowNormalBias: {},\n                    shadowRadius: {},\n                    shadowMapSize: {}\n                }\n            },\n            directionalShadowMap: {\n                value: []\n            },\n            directionalShadowMatrix: {\n                value: []\n            },\n            spotLights: {\n                value: [],\n                properties: {\n                    color: {},\n                    position: {},\n                    direction: {},\n                    distance: {},\n                    coneCos: {},\n                    penumbraCos: {},\n                    decay: {}\n                }\n            },\n            spotLightShadows: {\n                value: [],\n                properties: {\n                    shadowBias: {},\n                    shadowNormalBias: {},\n                    shadowRadius: {},\n                    shadowMapSize: {}\n                }\n            },\n            spotShadowMap: {\n                value: []\n            },\n            spotShadowMatrix: {\n                value: []\n            },\n            pointLights: {\n                value: [],\n                properties: {\n                    color: {},\n                    position: {},\n                    decay: {},\n                    distance: {}\n                }\n            },\n            pointLightShadows: {\n                value: [],\n                properties: {\n                    shadowBias: {},\n                    shadowNormalBias: {},\n                    shadowRadius: {},\n                    shadowMapSize: {},\n                    shadowCameraNear: {},\n                    shadowCameraFar: {}\n                }\n            },\n            pointShadowMap: {\n                value: []\n            },\n            pointShadowMatrix: {\n                value: []\n            },\n            hemisphereLights: {\n                value: [],\n                properties: {\n                    direction: {},\n                    skyColor: {},\n                    groundColor: {}\n                }\n            },\n            // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n            rectAreaLights: {\n                value: [],\n                properties: {\n                    color: {},\n                    position: {},\n                    width: {},\n                    height: {}\n                }\n            },\n            ltc_1: {\n                value: null\n            },\n            ltc_2: {\n                value: null\n            }\n        },\n        points: {\n            diffuse: {\n                value: new Color(0xeeeeee)\n            },\n            opacity: {\n                value: 1.0\n            },\n            size: {\n                value: 1.0\n            },\n            scale: {\n                value: 1.0\n            },\n            map: {\n                value: null\n            },\n            alphaMap: {\n                value: null\n            },\n            uvTransform: {\n                value: new Matrix3()\n            }\n        },\n        sprite: {\n            diffuse: {\n                value: new Color(0xeeeeee)\n            },\n            opacity: {\n                value: 1.0\n            },\n            center: {\n                value: new Vector2(0.5, 0.5)\n            },\n            rotation: {\n                value: 0.0\n            },\n            map: {\n                value: null\n            },\n            alphaMap: {\n                value: null\n            },\n            uvTransform: {\n                value: new Matrix3()\n            }\n        }\n    };\n\n    var ShaderLib = {\n        basic: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.fog]),\n            vertexShader: ShaderChunk.meshbasic_vert,\n            fragmentShader: ShaderChunk.meshbasic_frag\n        },\n        lambert: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.fog, UniformsLib.lights, {\n                emissive: {\n                    value: new Color(0x000000)\n                }\n            }]),\n            vertexShader: ShaderChunk.meshlambert_vert,\n            fragmentShader: ShaderChunk.meshlambert_frag\n        },\n        phong: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, UniformsLib.lights, {\n                emissive: {\n                    value: new Color(0x000000)\n                },\n                specular: {\n                    value: new Color(0x111111)\n                },\n                shininess: {\n                    value: 30\n                }\n            }]),\n            vertexShader: ShaderChunk.meshphong_vert,\n            fragmentShader: ShaderChunk.meshphong_frag\n        },\n        standard: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.roughnessmap, UniformsLib.metalnessmap, UniformsLib.fog, UniformsLib.lights, {\n                emissive: {\n                    value: new Color(0x000000)\n                },\n                roughness: {\n                    value: 1.0\n                },\n                metalness: {\n                    value: 0.0\n                },\n                envMapIntensity: {\n                    value: 1\n                } // temporary\n\n            }]),\n            vertexShader: ShaderChunk.meshphysical_vert,\n            fragmentShader: ShaderChunk.meshphysical_frag\n        },\n        toon: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.gradientmap, UniformsLib.fog, UniformsLib.lights, {\n                emissive: {\n                    value: new Color(0x000000)\n                }\n            }]),\n            vertexShader: ShaderChunk.meshtoon_vert,\n            fragmentShader: ShaderChunk.meshtoon_frag\n        },\n        matcap: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, {\n                matcap: {\n                    value: null\n                }\n            }]),\n            vertexShader: ShaderChunk.meshmatcap_vert,\n            fragmentShader: ShaderChunk.meshmatcap_frag\n        },\n        points: {\n            uniforms: mergeUniforms([UniformsLib.points, UniformsLib.fog]),\n            vertexShader: ShaderChunk.points_vert,\n            fragmentShader: ShaderChunk.points_frag\n        },\n        dashed: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.fog, {\n                scale: {\n                    value: 1\n                },\n                dashSize: {\n                    value: 1\n                },\n                totalSize: {\n                    value: 2\n                }\n            }]),\n            vertexShader: ShaderChunk.linedashed_vert,\n            fragmentShader: ShaderChunk.linedashed_frag\n        },\n        depth: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap]),\n            vertexShader: ShaderChunk.depth_vert,\n            fragmentShader: ShaderChunk.depth_frag\n        },\n        normal: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, {\n                opacity: {\n                    value: 1.0\n                }\n            }]),\n            vertexShader: ShaderChunk.normal_vert,\n            fragmentShader: ShaderChunk.normal_frag\n        },\n        sprite: {\n            uniforms: mergeUniforms([UniformsLib.sprite, UniformsLib.fog]),\n            vertexShader: ShaderChunk.sprite_vert,\n            fragmentShader: ShaderChunk.sprite_frag\n        },\n        background: {\n            uniforms: {\n                uvTransform: {\n                    value: new Matrix3()\n                },\n                t2D: {\n                    value: null\n                }\n            },\n            vertexShader: ShaderChunk.background_vert,\n            fragmentShader: ShaderChunk.background_frag\n        },\n\n        /* -------------------------------------------------------------------------\n         //\tCube map shader\n         ------------------------------------------------------------------------- */\n        cube: {\n            uniforms: mergeUniforms([UniformsLib.envmap, {\n                opacity: {\n                    value: 1.0\n                }\n            }]),\n            vertexShader: ShaderChunk.cube_vert,\n            fragmentShader: ShaderChunk.cube_frag\n        },\n        equirect: {\n            uniforms: {\n                tEquirect: {\n                    value: null\n                }\n            },\n            vertexShader: ShaderChunk.equirect_vert,\n            fragmentShader: ShaderChunk.equirect_frag\n        },\n        distanceRGBA: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap, {\n                referencePosition: {\n                    value: new Vector3()\n                },\n                nearDistance: {\n                    value: 1\n                },\n                farDistance: {\n                    value: 1000\n                }\n            }]),\n            vertexShader: ShaderChunk.distanceRGBA_vert,\n            fragmentShader: ShaderChunk.distanceRGBA_frag\n        },\n        shadow: {\n            uniforms: mergeUniforms([UniformsLib.lights, UniformsLib.fog, {\n                color: {\n                    value: new Color(0x00000)\n                },\n                opacity: {\n                    value: 1.0\n                }\n            }]),\n            vertexShader: ShaderChunk.shadow_vert,\n            fragmentShader: ShaderChunk.shadow_frag\n        }\n    };\n    ShaderLib.physical = {\n        uniforms: mergeUniforms([ShaderLib.standard.uniforms, {\n            clearcoat: {\n                value: 0\n            },\n            clearcoatMap: {\n                value: null\n            },\n            clearcoatRoughness: {\n                value: 0\n            },\n            clearcoatRoughnessMap: {\n                value: null\n            },\n            clearcoatNormalScale: {\n                value: new Vector2(1, 1)\n            },\n            clearcoatNormalMap: {\n                value: null\n            },\n            sheen: {\n                value: new Color(0x000000)\n            },\n            transmission: {\n                value: 0\n            },\n            transmissionMap: {\n                value: null\n            }\n        }]),\n        vertexShader: ShaderChunk.meshphysical_vert,\n        fragmentShader: ShaderChunk.meshphysical_frag\n    };\n\n    function WebGLBackground(renderer, cubemaps, state, objects, premultipliedAlpha) {\n        var clearColor = new Color(0x000000);\n        var clearAlpha = 0;\n        var planeMesh;\n        var boxMesh;\n        var currentBackground = null;\n        var currentBackgroundVersion = 0;\n        var currentTonemapping = null;\n\n        function render(renderList, scene, camera, forceClear) {\n            var background = scene.isScene === true ? scene.background : null;\n\n            if (background && background.isTexture) {\n                background = cubemaps.get(background);\n            } // Ignore background in AR\n            // TODO: Reconsider this.\n\n\n            var xr = renderer.xr;\n            var session = xr.getSession && xr.getSession();\n\n            if (session && session.environmentBlendMode === 'additive') {\n                background = null;\n            }\n\n            if (background === null) {\n                setClear(clearColor, clearAlpha);\n            } else if (background && background.isColor) {\n                setClear(background, 1);\n                forceClear = true;\n            }\n\n            if (renderer.autoClear || forceClear) {\n                renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n            }\n\n            if (background && (background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping)) {\n                if (boxMesh === undefined) {\n                    boxMesh = new Mesh(new BoxBufferGeometry(1, 1, 1), new ShaderMaterial({\n                        name: 'BackgroundCubeMaterial',\n                        uniforms: cloneUniforms(ShaderLib.cube.uniforms),\n                        vertexShader: ShaderLib.cube.vertexShader,\n                        fragmentShader: ShaderLib.cube.fragmentShader,\n                        side: BackSide,\n                        depthTest: false,\n                        depthWrite: false,\n                        fog: false\n                    }));\n                    boxMesh.geometry.deleteAttribute('normal');\n                    boxMesh.geometry.deleteAttribute('uv');\n\n                    boxMesh.onBeforeRender = function (renderer, scene, camera) {\n                        this.matrixWorld.copyPosition(camera.matrixWorld);\n                    }; // enable code injection for non-built-in material\n\n\n                    Object.defineProperty(boxMesh.material, 'envMap', {\n                        get: function get() {\n                            return this.uniforms.envMap.value;\n                        }\n                    });\n                    objects.update(boxMesh);\n                }\n\n                if (background.isWebGLCubeRenderTarget) {\n                    // TODO Deprecate\n                    background = background.texture;\n                }\n\n                boxMesh.material.uniforms.envMap.value = background;\n                boxMesh.material.uniforms.flipEnvMap.value = background.isCubeTexture && background._needsFlipEnvMap ? -1 : 1;\n\n                if (currentBackground !== background || currentBackgroundVersion !== background.version || currentTonemapping !== renderer.toneMapping) {\n                    boxMesh.material.needsUpdate = true;\n                    currentBackground = background;\n                    currentBackgroundVersion = background.version;\n                    currentTonemapping = renderer.toneMapping;\n                } // push to the pre-sorted opaque render list\n\n\n                renderList.unshift(boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null);\n            } else if (background && background.isTexture) {\n                if (planeMesh === undefined) {\n                    planeMesh = new Mesh(new PlaneBufferGeometry(2, 2), new ShaderMaterial({\n                        name: 'BackgroundMaterial',\n                        uniforms: cloneUniforms(ShaderLib.background.uniforms),\n                        vertexShader: ShaderLib.background.vertexShader,\n                        fragmentShader: ShaderLib.background.fragmentShader,\n                        side: FrontSide,\n                        depthTest: false,\n                        depthWrite: false,\n                        fog: false\n                    }));\n                    planeMesh.geometry.deleteAttribute('normal'); // enable code injection for non-built-in material\n\n                    Object.defineProperty(planeMesh.material, 'map', {\n                        get: function get() {\n                            return this.uniforms.t2D.value;\n                        }\n                    });\n                    objects.update(planeMesh);\n                }\n\n                planeMesh.material.uniforms.t2D.value = background;\n\n                if (background.matrixAutoUpdate === true) {\n                    background.updateMatrix();\n                }\n\n                planeMesh.material.uniforms.uvTransform.value.copy(background.matrix);\n\n                if (currentBackground !== background || currentBackgroundVersion !== background.version || currentTonemapping !== renderer.toneMapping) {\n                    planeMesh.material.needsUpdate = true;\n                    currentBackground = background;\n                    currentBackgroundVersion = background.version;\n                    currentTonemapping = renderer.toneMapping;\n                } // push to the pre-sorted opaque render list\n\n\n                renderList.unshift(planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null);\n            }\n        }\n\n        function setClear(color, alpha) {\n            state.buffers.color.setClear(color.r, color.g, color.b, alpha, premultipliedAlpha);\n        }\n\n        return {\n            getClearColor: function getClearColor() {\n                return clearColor;\n            },\n            setClearColor: function setClearColor(color, alpha) {\n                clearColor.set(color);\n                clearAlpha = alpha !== undefined ? alpha : 1;\n                setClear(clearColor, clearAlpha);\n            },\n            getClearAlpha: function getClearAlpha() {\n                return clearAlpha;\n            },\n            setClearAlpha: function setClearAlpha(alpha) {\n                clearAlpha = alpha;\n                setClear(clearColor, clearAlpha);\n            },\n            render: render\n        };\n    }\n\n    function WebGLBindingStates(gl, extensions, attributes, capabilities) {\n        var maxVertexAttributes = gl.getParameter(34921);\n        var extension = capabilities.isWebGL2 ? null : extensions.get('OES_vertex_array_object');\n        var vaoAvailable = capabilities.isWebGL2 || extension !== null;\n        var bindingStates = {};\n        var defaultState = createBindingState(null);\n        var currentState = defaultState;\n\n        function setup(object, material, program, geometry, index) {\n            var updateBuffers = false;\n\n            if (vaoAvailable) {\n                var state = getBindingState(geometry, program, material);\n\n                if (currentState !== state) {\n                    currentState = state;\n                    bindVertexArrayObject(currentState.object);\n                }\n\n                updateBuffers = needsUpdate(geometry, index);\n                if (updateBuffers) saveCache(geometry, index);\n            } else {\n                var wireframe = material.wireframe === true;\n\n                if (currentState.geometry !== geometry.id || currentState.program !== program.id || currentState.wireframe !== wireframe) {\n                    currentState.geometry = geometry.id;\n                    currentState.program = program.id;\n                    currentState.wireframe = wireframe;\n                    updateBuffers = true;\n                }\n            }\n\n            if (object.isInstancedMesh === true) {\n                updateBuffers = true;\n            }\n\n            if (index !== null) {\n                attributes.update(index, 34963);\n            }\n\n            if (updateBuffers) {\n                setupVertexAttributes(object, material, program, geometry);\n\n                if (index !== null) {\n                    gl.bindBuffer(34963, attributes.get(index).buffer);\n                }\n            }\n        }\n\n        function createVertexArrayObject() {\n            if (capabilities.isWebGL2) return gl.createVertexArray();\n            return extension.createVertexArrayOES();\n        }\n\n        function bindVertexArrayObject(vao) {\n            if (capabilities.isWebGL2) return gl.bindVertexArray(vao);\n            return extension.bindVertexArrayOES(vao);\n        }\n\n        function deleteVertexArrayObject(vao) {\n            if (capabilities.isWebGL2) return gl.deleteVertexArray(vao);\n            return extension.deleteVertexArrayOES(vao);\n        }\n\n        function getBindingState(geometry, program, material) {\n            var wireframe = material.wireframe === true;\n            var programMap = bindingStates[geometry.id];\n\n            if (programMap === undefined) {\n                programMap = {};\n                bindingStates[geometry.id] = programMap;\n            }\n\n            var stateMap = programMap[program.id];\n\n            if (stateMap === undefined) {\n                stateMap = {};\n                programMap[program.id] = stateMap;\n            }\n\n            var state = stateMap[wireframe];\n\n            if (state === undefined) {\n                state = createBindingState(createVertexArrayObject());\n                stateMap[wireframe] = state;\n            }\n\n            return state;\n        }\n\n        function createBindingState(vao) {\n            var newAttributes = [];\n            var enabledAttributes = [];\n            var attributeDivisors = [];\n\n            for (var i = 0; i < maxVertexAttributes; i++) {\n                newAttributes[i] = 0;\n                enabledAttributes[i] = 0;\n                attributeDivisors[i] = 0;\n            }\n\n            return {\n                // for backward compatibility on non-VAO support browser\n                geometry: null,\n                program: null,\n                wireframe: false,\n                newAttributes: newAttributes,\n                enabledAttributes: enabledAttributes,\n                attributeDivisors: attributeDivisors,\n                object: vao,\n                attributes: {},\n                index: null\n            };\n        }\n\n        function needsUpdate(geometry, index) {\n            var cachedAttributes = currentState.attributes;\n            var geometryAttributes = geometry.attributes;\n            if (Object.keys(cachedAttributes).length !== Object.keys(geometryAttributes).length) return true;\n\n            for (var key in geometryAttributes) {\n                var cachedAttribute = cachedAttributes[key];\n                var geometryAttribute = geometryAttributes[key];\n                if (cachedAttribute === undefined) return true;\n                if (cachedAttribute.attribute !== geometryAttribute) return true;\n                if (cachedAttribute.data !== geometryAttribute.data) return true;\n            }\n\n            if (currentState.index !== index) return true;\n            return false;\n        }\n\n        function saveCache(geometry, index) {\n            var cache = {};\n            var attributes = geometry.attributes;\n\n            for (var key in attributes) {\n                var attribute = attributes[key];\n                var data = {};\n                data.attribute = attribute;\n\n                if (attribute.data) {\n                    data.data = attribute.data;\n                }\n\n                cache[key] = data;\n            }\n\n            currentState.attributes = cache;\n            currentState.index = index;\n        }\n\n        function initAttributes() {\n            var newAttributes = currentState.newAttributes;\n\n            for (var i = 0, il = newAttributes.length; i < il; i++) {\n                newAttributes[i] = 0;\n            }\n        }\n\n        function enableAttribute(attribute) {\n            enableAttributeAndDivisor(attribute, 0);\n        }\n\n        function enableAttributeAndDivisor(attribute, meshPerAttribute) {\n            var newAttributes = currentState.newAttributes;\n            var enabledAttributes = currentState.enabledAttributes;\n            var attributeDivisors = currentState.attributeDivisors;\n            newAttributes[attribute] = 1;\n\n            if (enabledAttributes[attribute] === 0) {\n                gl.enableVertexAttribArray(attribute);\n                enabledAttributes[attribute] = 1;\n            }\n\n            if (attributeDivisors[attribute] !== meshPerAttribute) {\n                var _extension = capabilities.isWebGL2 ? gl : extensions.get('ANGLE_instanced_arrays');\n\n                _extension[capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE'](attribute, meshPerAttribute);\n\n                attributeDivisors[attribute] = meshPerAttribute;\n            }\n        }\n\n        function disableUnusedAttributes() {\n            var newAttributes = currentState.newAttributes;\n            var enabledAttributes = currentState.enabledAttributes;\n\n            for (var i = 0, il = enabledAttributes.length; i < il; i++) {\n                if (enabledAttributes[i] !== newAttributes[i]) {\n                    gl.disableVertexAttribArray(i);\n                    enabledAttributes[i] = 0;\n                }\n            }\n        }\n\n        function vertexAttribPointer(index, size, type, normalized, stride, offset) {\n            if (capabilities.isWebGL2 === true && (type === 5124 || type === 5125)) {\n                gl.vertexAttribIPointer(index, size, type, stride, offset);\n            } else {\n                gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n            }\n        }\n\n        function setupVertexAttributes(object, material, program, geometry) {\n            if (capabilities.isWebGL2 === false && (object.isInstancedMesh || geometry.isInstancedBufferGeometry)) {\n                if (extensions.get('ANGLE_instanced_arrays') === null) return;\n            }\n\n            initAttributes();\n            var geometryAttributes = geometry.attributes;\n            var programAttributes = program.getAttributes();\n            var materialDefaultAttributeValues = material.defaultAttributeValues;\n\n            for (var name in programAttributes) {\n                var programAttribute = programAttributes[name];\n\n                if (programAttribute >= 0) {\n                    var geometryAttribute = geometryAttributes[name];\n\n                    if (geometryAttribute !== undefined) {\n                        var normalized = geometryAttribute.normalized;\n                        var size = geometryAttribute.itemSize;\n                        var attribute = attributes.get(geometryAttribute); // TODO Attribute may not be available on context restore\n\n                        if (attribute === undefined) continue;\n                        var buffer = attribute.buffer;\n                        var type = attribute.type;\n                        var bytesPerElement = attribute.bytesPerElement;\n\n                        if (geometryAttribute.isInterleavedBufferAttribute) {\n                            var data = geometryAttribute.data;\n                            var stride = data.stride;\n                            var offset = geometryAttribute.offset;\n\n                            if (data && data.isInstancedInterleavedBuffer) {\n                                enableAttributeAndDivisor(programAttribute, data.meshPerAttribute);\n\n                                if (geometry._maxInstanceCount === undefined) {\n                                    geometry._maxInstanceCount = data.meshPerAttribute * data.count;\n                                }\n                            } else {\n                                enableAttribute(programAttribute);\n                            }\n\n                            gl.bindBuffer(34962, buffer);\n                            vertexAttribPointer(programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement);\n                        } else {\n                            if (geometryAttribute.isInstancedBufferAttribute) {\n                                enableAttributeAndDivisor(programAttribute, geometryAttribute.meshPerAttribute);\n\n                                if (geometry._maxInstanceCount === undefined) {\n                                    geometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n                                }\n                            } else {\n                                enableAttribute(programAttribute);\n                            }\n\n                            gl.bindBuffer(34962, buffer);\n                            vertexAttribPointer(programAttribute, size, type, normalized, 0, 0);\n                        }\n                    } else if (name === 'instanceMatrix') {\n                        var _attribute = attributes.get(object.instanceMatrix); // TODO Attribute may not be available on context restore\n\n\n                        if (_attribute === undefined) continue;\n                        var _buffer = _attribute.buffer;\n                        var _type = _attribute.type;\n                        enableAttributeAndDivisor(programAttribute + 0, 1);\n                        enableAttributeAndDivisor(programAttribute + 1, 1);\n                        enableAttributeAndDivisor(programAttribute + 2, 1);\n                        enableAttributeAndDivisor(programAttribute + 3, 1);\n                        gl.bindBuffer(34962, _buffer);\n                        gl.vertexAttribPointer(programAttribute + 0, 4, _type, false, 64, 0);\n                        gl.vertexAttribPointer(programAttribute + 1, 4, _type, false, 64, 16);\n                        gl.vertexAttribPointer(programAttribute + 2, 4, _type, false, 64, 32);\n                        gl.vertexAttribPointer(programAttribute + 3, 4, _type, false, 64, 48);\n                    } else if (name === 'instanceColor') {\n                        var _attribute2 = attributes.get(object.instanceColor); // TODO Attribute may not be available on context restore\n\n\n                        if (_attribute2 === undefined) continue;\n                        var _buffer2 = _attribute2.buffer;\n                        var _type2 = _attribute2.type;\n                        enableAttributeAndDivisor(programAttribute, 1);\n                        gl.bindBuffer(34962, _buffer2);\n                        gl.vertexAttribPointer(programAttribute, 3, _type2, false, 12, 0);\n                    } else if (materialDefaultAttributeValues !== undefined) {\n                        var value = materialDefaultAttributeValues[name];\n\n                        if (value !== undefined) {\n                            switch (value.length) {\n                                case 2:\n                                    gl.vertexAttrib2fv(programAttribute, value);\n                                    break;\n\n                                case 3:\n                                    gl.vertexAttrib3fv(programAttribute, value);\n                                    break;\n\n                                case 4:\n                                    gl.vertexAttrib4fv(programAttribute, value);\n                                    break;\n\n                                default:\n                                    gl.vertexAttrib1fv(programAttribute, value);\n                            }\n                        }\n                    }\n                }\n            }\n\n            disableUnusedAttributes();\n        }\n\n        function dispose() {\n            reset();\n\n            for (var geometryId in bindingStates) {\n                var programMap = bindingStates[geometryId];\n\n                for (var programId in programMap) {\n                    var stateMap = programMap[programId];\n\n                    for (var wireframe in stateMap) {\n                        deleteVertexArrayObject(stateMap[wireframe].object);\n                        delete stateMap[wireframe];\n                    }\n\n                    delete programMap[programId];\n                }\n\n                delete bindingStates[geometryId];\n            }\n        }\n\n        function releaseStatesOfGeometry(geometry) {\n            if (bindingStates[geometry.id] === undefined) return;\n            var programMap = bindingStates[geometry.id];\n\n            for (var programId in programMap) {\n                var stateMap = programMap[programId];\n\n                for (var wireframe in stateMap) {\n                    deleteVertexArrayObject(stateMap[wireframe].object);\n                    delete stateMap[wireframe];\n                }\n\n                delete programMap[programId];\n            }\n\n            delete bindingStates[geometry.id];\n        }\n\n        function releaseStatesOfProgram(program) {\n            for (var geometryId in bindingStates) {\n                var programMap = bindingStates[geometryId];\n                if (programMap[program.id] === undefined) continue;\n                var stateMap = programMap[program.id];\n\n                for (var wireframe in stateMap) {\n                    deleteVertexArrayObject(stateMap[wireframe].object);\n                    delete stateMap[wireframe];\n                }\n\n                delete programMap[program.id];\n            }\n        }\n\n        function reset() {\n            resetDefaultState();\n            if (currentState === defaultState) return;\n            currentState = defaultState;\n            bindVertexArrayObject(currentState.object);\n        } // for backward-compatilibity\n\n\n        function resetDefaultState() {\n            defaultState.geometry = null;\n            defaultState.program = null;\n            defaultState.wireframe = false;\n        }\n\n        return {\n            setup: setup,\n            reset: reset,\n            resetDefaultState: resetDefaultState,\n            dispose: dispose,\n            releaseStatesOfGeometry: releaseStatesOfGeometry,\n            releaseStatesOfProgram: releaseStatesOfProgram,\n            initAttributes: initAttributes,\n            enableAttribute: enableAttribute,\n            disableUnusedAttributes: disableUnusedAttributes\n        };\n    }\n\n    function WebGLBufferRenderer(gl, extensions, info, capabilities) {\n        var isWebGL2 = capabilities.isWebGL2;\n        var mode;\n\n        function setMode(value) {\n            mode = value;\n        }\n\n        function render(start, count) {\n            gl.drawArrays(mode, start, count);\n            info.update(count, mode, 1);\n        }\n\n        function renderInstances(start, count, primcount) {\n            if (primcount === 0) return;\n            var extension, methodName;\n\n            if (isWebGL2) {\n                extension = gl;\n                methodName = 'drawArraysInstanced';\n            } else {\n                extension = extensions.get('ANGLE_instanced_arrays');\n                methodName = 'drawArraysInstancedANGLE';\n\n                if (extension === null) {\n                    console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n                    return;\n                }\n            }\n\n            extension[methodName](mode, start, count, primcount);\n            info.update(count, mode, primcount);\n        } //\n\n\n        this.setMode = setMode;\n        this.render = render;\n        this.renderInstances = renderInstances;\n    }\n\n    function WebGLCapabilities(gl, extensions, parameters) {\n        var maxAnisotropy;\n\n        function getMaxAnisotropy() {\n            if (maxAnisotropy !== undefined) return maxAnisotropy;\n            var extension = extensions.get('EXT_texture_filter_anisotropic');\n\n            if (extension !== null) {\n                maxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n            } else {\n                maxAnisotropy = 0;\n            }\n\n            return maxAnisotropy;\n        }\n\n        function getMaxPrecision(precision) {\n            if (precision === 'highp') {\n                if (gl.getShaderPrecisionFormat(35633, 36338).precision > 0 && gl.getShaderPrecisionFormat(35632, 36338).precision > 0) {\n                    return 'highp';\n                }\n\n                precision = 'mediump';\n            }\n\n            if (precision === 'mediump') {\n                if (gl.getShaderPrecisionFormat(35633, 36337).precision > 0 && gl.getShaderPrecisionFormat(35632, 36337).precision > 0) {\n                    return 'mediump';\n                }\n            }\n\n            return 'lowp';\n        }\n        /* eslint-disable no-undef */\n\n\n        var isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext || typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext;\n        /* eslint-enable no-undef */\n\n        var precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n        var maxPrecision = getMaxPrecision(precision);\n\n        if (maxPrecision !== precision) {\n            console.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');\n            precision = maxPrecision;\n        }\n\n        var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n        var maxTextures = gl.getParameter(34930);\n        var maxVertexTextures = gl.getParameter(35660);\n        var maxTextureSize = gl.getParameter(3379);\n        var maxCubemapSize = gl.getParameter(34076);\n        var maxAttributes = gl.getParameter(34921);\n        var maxVertexUniforms = gl.getParameter(36347);\n        var maxVaryings = gl.getParameter(36348);\n        var maxFragmentUniforms = gl.getParameter(36349);\n        var vertexTextures = maxVertexTextures > 0;\n        var floatFragmentTextures = isWebGL2 || !!extensions.get('OES_texture_float');\n        var floatVertexTextures = vertexTextures && floatFragmentTextures;\n        var maxSamples = isWebGL2 ? gl.getParameter(36183) : 0;\n        return {\n            isWebGL2: isWebGL2,\n            getMaxAnisotropy: getMaxAnisotropy,\n            getMaxPrecision: getMaxPrecision,\n            precision: precision,\n            logarithmicDepthBuffer: logarithmicDepthBuffer,\n            maxTextures: maxTextures,\n            maxVertexTextures: maxVertexTextures,\n            maxTextureSize: maxTextureSize,\n            maxCubemapSize: maxCubemapSize,\n            maxAttributes: maxAttributes,\n            maxVertexUniforms: maxVertexUniforms,\n            maxVaryings: maxVaryings,\n            maxFragmentUniforms: maxFragmentUniforms,\n            vertexTextures: vertexTextures,\n            floatFragmentTextures: floatFragmentTextures,\n            floatVertexTextures: floatVertexTextures,\n            maxSamples: maxSamples\n        };\n    }\n\n    function WebGLClipping(properties) {\n        var scope = this;\n        var globalState = null,\n            numGlobalPlanes = 0,\n            localClippingEnabled = false,\n            renderingShadows = false;\n        var plane = new Plane(),\n            viewNormalMatrix = new Matrix3(),\n            uniform = {\n                value: null,\n                needsUpdate: false\n            };\n        this.uniform = uniform;\n        this.numPlanes = 0;\n        this.numIntersection = 0;\n\n        this.init = function (planes, enableLocalClipping, camera) {\n            var enabled = planes.length !== 0 || enableLocalClipping || // enable state of previous frame - the clipping code has to\n                // run another frame in order to reset the state:\n                numGlobalPlanes !== 0 || localClippingEnabled;\n            localClippingEnabled = enableLocalClipping;\n            globalState = projectPlanes(planes, camera, 0);\n            numGlobalPlanes = planes.length;\n            return enabled;\n        };\n\n        this.beginShadows = function () {\n            renderingShadows = true;\n            projectPlanes(null);\n        };\n\n        this.endShadows = function () {\n            renderingShadows = false;\n            resetGlobalState();\n        };\n\n        this.setState = function (material, camera, useCache) {\n            var planes = material.clippingPlanes,\n                clipIntersection = material.clipIntersection,\n                clipShadows = material.clipShadows;\n            var materialProperties = properties.get(material);\n\n            if (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {\n                // there's no local clipping\n                if (renderingShadows) {\n                    // there's no global clipping\n                    projectPlanes(null);\n                } else {\n                    resetGlobalState();\n                }\n            } else {\n                var nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n                    lGlobal = nGlobal * 4;\n                var dstArray = materialProperties.clippingState || null;\n                uniform.value = dstArray; // ensure unique state\n\n                dstArray = projectPlanes(planes, camera, lGlobal, useCache);\n\n                for (var i = 0; i !== lGlobal; ++i) {\n                    dstArray[i] = globalState[i];\n                }\n\n                materialProperties.clippingState = dstArray;\n                this.numIntersection = clipIntersection ? this.numPlanes : 0;\n                this.numPlanes += nGlobal;\n            }\n        };\n\n        function resetGlobalState() {\n            if (uniform.value !== globalState) {\n                uniform.value = globalState;\n                uniform.needsUpdate = numGlobalPlanes > 0;\n            }\n\n            scope.numPlanes = numGlobalPlanes;\n            scope.numIntersection = 0;\n        }\n\n        function projectPlanes(planes, camera, dstOffset, skipTransform) {\n            var nPlanes = planes !== null ? planes.length : 0;\n            var dstArray = null;\n\n            if (nPlanes !== 0) {\n                dstArray = uniform.value;\n\n                if (skipTransform !== true || dstArray === null) {\n                    var flatSize = dstOffset + nPlanes * 4,\n                        viewMatrix = camera.matrixWorldInverse;\n                    viewNormalMatrix.getNormalMatrix(viewMatrix);\n\n                    if (dstArray === null || dstArray.length < flatSize) {\n                        dstArray = new Float32Array(flatSize);\n                    }\n\n                    for (var i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {\n                        plane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);\n                        plane.normal.toArray(dstArray, i4);\n                        dstArray[i4 + 3] = plane.constant;\n                    }\n                }\n\n                uniform.value = dstArray;\n                uniform.needsUpdate = true;\n            }\n\n            scope.numPlanes = nPlanes;\n            scope.numIntersection = 0;\n            return dstArray;\n        }\n    }\n\n    function WebGLCubeMaps(renderer) {\n        var cubemaps = new WeakMap();\n\n        function mapTextureMapping(texture, mapping) {\n            if (mapping === EquirectangularReflectionMapping) {\n                texture.mapping = CubeReflectionMapping;\n            } else if (mapping === EquirectangularRefractionMapping) {\n                texture.mapping = CubeRefractionMapping;\n            }\n\n            return texture;\n        }\n\n        function get(texture) {\n            if (texture && texture.isTexture) {\n                var mapping = texture.mapping;\n\n                if (mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping) {\n                    if (cubemaps.has(texture)) {\n                        var cubemap = cubemaps.get(texture).texture;\n                        return mapTextureMapping(cubemap, texture.mapping);\n                    } else {\n                        var image = texture.image;\n\n                        if (image && image.height > 0) {\n                            var currentRenderList = renderer.getRenderList();\n                            var currentRenderTarget = renderer.getRenderTarget();\n                            var currentRenderState = renderer.getRenderState();\n                            var renderTarget = new WebGLCubeRenderTarget(image.height / 2);\n                            renderTarget.fromEquirectangularTexture(renderer, texture);\n                            cubemaps.set(texture, renderTarget);\n                            renderer.setRenderTarget(currentRenderTarget);\n                            renderer.setRenderList(currentRenderList);\n                            renderer.setRenderState(currentRenderState);\n                            return mapTextureMapping(renderTarget.texture, texture.mapping);\n                        } else {\n                            // image not yet ready. try the conversion next frame\n                            return null;\n                        }\n                    }\n                }\n            }\n\n            return texture;\n        }\n\n        function dispose() {\n            cubemaps = new WeakMap();\n        }\n\n        return {\n            get: get,\n            dispose: dispose\n        };\n    }\n\n    function WebGLExtensions(gl) {\n        var extensions = {};\n        return {\n            has: function has(name) {\n                if (extensions[name] !== undefined) {\n                    return extensions[name] !== null;\n                }\n\n                var extension;\n\n                switch (name) {\n                    case 'WEBGL_depth_texture':\n                        extension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\n                        break;\n\n                    case 'EXT_texture_filter_anisotropic':\n                        extension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n                        break;\n\n                    case 'WEBGL_compressed_texture_s3tc':\n                        extension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n                        break;\n\n                    case 'WEBGL_compressed_texture_pvrtc':\n                        extension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n                        break;\n\n                    default:\n                        extension = gl.getExtension(name);\n                }\n\n                extensions[name] = extension;\n                return extension !== null;\n            },\n            get: function get(name) {\n                if (!this.has(name)) {\n                    console.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');\n                }\n\n                return extensions[name];\n            }\n        };\n    }\n\n    function WebGLGeometries(gl, attributes, info, bindingStates) {\n        var geometries = new WeakMap();\n        var wireframeAttributes = new WeakMap();\n\n        function onGeometryDispose(event) {\n            var geometry = event.target;\n            var buffergeometry = geometries.get(geometry);\n\n            if (buffergeometry.index !== null) {\n                attributes.remove(buffergeometry.index);\n            }\n\n            for (var name in buffergeometry.attributes) {\n                attributes.remove(buffergeometry.attributes[name]);\n            }\n\n            geometry.removeEventListener('dispose', onGeometryDispose);\n            geometries.delete(geometry);\n            var attribute = wireframeAttributes.get(buffergeometry);\n\n            if (attribute) {\n                attributes.remove(attribute);\n                wireframeAttributes.delete(buffergeometry);\n            }\n\n            bindingStates.releaseStatesOfGeometry(geometry);\n\n            if (geometry.isInstancedBufferGeometry === true) {\n                delete geometry._maxInstanceCount;\n            } //\n\n\n            info.memory.geometries--;\n        }\n\n        function get(object, geometry) {\n            var buffergeometry = geometries.get(geometry);\n            if (buffergeometry) return buffergeometry;\n            geometry.addEventListener('dispose', onGeometryDispose);\n\n            if (geometry.isBufferGeometry) {\n                buffergeometry = geometry;\n            } else if (geometry.isGeometry) {\n                if (geometry._bufferGeometry === undefined) {\n                    geometry._bufferGeometry = new BufferGeometry().setFromObject(object);\n                }\n\n                buffergeometry = geometry._bufferGeometry;\n            }\n\n            geometries.set(geometry, buffergeometry);\n            info.memory.geometries++;\n            return buffergeometry;\n        }\n\n        function update(geometry) {\n            var geometryAttributes = geometry.attributes; // Updating index buffer in VAO now. See WebGLBindingStates.\n\n            for (var name in geometryAttributes) {\n                attributes.update(geometryAttributes[name], 34962);\n            } // morph targets\n\n\n            var morphAttributes = geometry.morphAttributes;\n\n            for (var _name in morphAttributes) {\n                var array = morphAttributes[_name];\n\n                for (var i = 0, l = array.length; i < l; i++) {\n                    attributes.update(array[i], 34962);\n                }\n            }\n        }\n\n        function updateWireframeAttribute(geometry) {\n            var indices = [];\n            var geometryIndex = geometry.index;\n            var geometryPosition = geometry.attributes.position;\n            var version = 0;\n\n            if (geometryIndex !== null) {\n                var array = geometryIndex.array;\n                version = geometryIndex.version;\n\n                for (var i = 0, l = array.length; i < l; i += 3) {\n                    var a = array[i + 0];\n                    var b = array[i + 1];\n                    var c = array[i + 2];\n                    indices.push(a, b, b, c, c, a);\n                }\n            } else {\n                var _array = geometryPosition.array;\n                version = geometryPosition.version;\n\n                for (var _i = 0, _l = _array.length / 3 - 1; _i < _l; _i += 3) {\n                    var _a = _i + 0;\n\n                    var _b = _i + 1;\n\n                    var _c = _i + 2;\n\n                    indices.push(_a, _b, _b, _c, _c, _a);\n                }\n            }\n\n            var attribute = new (arrayMax(indices) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(indices, 1);\n            attribute.version = version; // Updating index buffer in VAO now. See WebGLBindingStates\n            //\n\n            var previousAttribute = wireframeAttributes.get(geometry);\n            if (previousAttribute) attributes.remove(previousAttribute); //\n\n            wireframeAttributes.set(geometry, attribute);\n        }\n\n        function getWireframeAttribute(geometry) {\n            var currentAttribute = wireframeAttributes.get(geometry);\n\n            if (currentAttribute) {\n                var geometryIndex = geometry.index;\n\n                if (geometryIndex !== null) {\n                    // if the attribute is obsolete, create a new one\n                    if (currentAttribute.version < geometryIndex.version) {\n                        updateWireframeAttribute(geometry);\n                    }\n                }\n            } else {\n                updateWireframeAttribute(geometry);\n            }\n\n            return wireframeAttributes.get(geometry);\n        }\n\n        return {\n            get: get,\n            update: update,\n            getWireframeAttribute: getWireframeAttribute\n        };\n    }\n\n    function WebGLIndexedBufferRenderer(gl, extensions, info, capabilities) {\n        var isWebGL2 = capabilities.isWebGL2;\n        var mode;\n\n        function setMode(value) {\n            mode = value;\n        }\n\n        var type, bytesPerElement;\n\n        function setIndex(value) {\n            type = value.type;\n            bytesPerElement = value.bytesPerElement;\n        }\n\n        function render(start, count) {\n            gl.drawElements(mode, count, type, start * bytesPerElement);\n            info.update(count, mode, 1);\n        }\n\n        function renderInstances(start, count, primcount) {\n            if (primcount === 0) return;\n            var extension, methodName;\n\n            if (isWebGL2) {\n                extension = gl;\n                methodName = 'drawElementsInstanced';\n            } else {\n                extension = extensions.get('ANGLE_instanced_arrays');\n                methodName = 'drawElementsInstancedANGLE';\n\n                if (extension === null) {\n                    console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n                    return;\n                }\n            }\n\n            extension[methodName](mode, count, type, start * bytesPerElement, primcount);\n            info.update(count, mode, primcount);\n        } //\n\n\n        this.setMode = setMode;\n        this.setIndex = setIndex;\n        this.render = render;\n        this.renderInstances = renderInstances;\n    }\n\n    function WebGLInfo(gl) {\n        var memory = {\n            geometries: 0,\n            textures: 0\n        };\n        var render = {\n            frame: 0,\n            calls: 0,\n            triangles: 0,\n            points: 0,\n            lines: 0\n        };\n\n        function update(count, mode, instanceCount) {\n            render.calls++;\n\n            switch (mode) {\n                case 4:\n                    render.triangles += instanceCount * (count / 3);\n                    break;\n\n                case 1:\n                    render.lines += instanceCount * (count / 2);\n                    break;\n\n                case 3:\n                    render.lines += instanceCount * (count - 1);\n                    break;\n\n                case 2:\n                    render.lines += instanceCount * count;\n                    break;\n\n                case 0:\n                    render.points += instanceCount * count;\n                    break;\n\n                default:\n                    console.error('THREE.WebGLInfo: Unknown draw mode:', mode);\n                    break;\n            }\n        }\n\n        function reset() {\n            render.frame++;\n            render.calls = 0;\n            render.triangles = 0;\n            render.points = 0;\n            render.lines = 0;\n        }\n\n        return {\n            memory: memory,\n            render: render,\n            programs: null,\n            autoReset: true,\n            reset: reset,\n            update: update\n        };\n    }\n\n    function numericalSort(a, b) {\n        return a[0] - b[0];\n    }\n\n    function absNumericalSort(a, b) {\n        return Math.abs(b[1]) - Math.abs(a[1]);\n    }\n\n    function WebGLMorphtargets(gl) {\n        var influencesList = {};\n        var morphInfluences = new Float32Array(8);\n        var workInfluences = [];\n\n        for (var i = 0; i < 8; i++) {\n            workInfluences[i] = [i, 0];\n        }\n\n        function update(object, geometry, material, program) {\n            var objectInfluences = object.morphTargetInfluences; // When object doesn't have morph target influences defined, we treat it as a 0-length array\n            // This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n            var length = objectInfluences === undefined ? 0 : objectInfluences.length;\n            var influences = influencesList[geometry.id];\n\n            if (influences === undefined) {\n                // initialise list\n                influences = [];\n\n                for (var _i = 0; _i < length; _i++) {\n                    influences[_i] = [_i, 0];\n                }\n\n                influencesList[geometry.id] = influences;\n            } // Collect influences\n\n\n            for (var _i2 = 0; _i2 < length; _i2++) {\n                var influence = influences[_i2];\n                influence[0] = _i2;\n                influence[1] = objectInfluences[_i2];\n            }\n\n            influences.sort(absNumericalSort);\n\n            for (var _i3 = 0; _i3 < 8; _i3++) {\n                if (_i3 < length && influences[_i3][1]) {\n                    workInfluences[_i3][0] = influences[_i3][0];\n                    workInfluences[_i3][1] = influences[_i3][1];\n                } else {\n                    workInfluences[_i3][0] = Number.MAX_SAFE_INTEGER;\n                    workInfluences[_i3][1] = 0;\n                }\n            }\n\n            workInfluences.sort(numericalSort);\n            var morphTargets = material.morphTargets && geometry.morphAttributes.position;\n            var morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n            var morphInfluencesSum = 0;\n\n            for (var _i4 = 0; _i4 < 8; _i4++) {\n                var _influence = workInfluences[_i4];\n                var index = _influence[0];\n                var value = _influence[1];\n\n                if (index !== Number.MAX_SAFE_INTEGER && value) {\n                    if (morphTargets && geometry.getAttribute('morphTarget' + _i4) !== morphTargets[index]) {\n                        geometry.setAttribute('morphTarget' + _i4, morphTargets[index]);\n                    }\n\n                    if (morphNormals && geometry.getAttribute('morphNormal' + _i4) !== morphNormals[index]) {\n                        geometry.setAttribute('morphNormal' + _i4, morphNormals[index]);\n                    }\n\n                    morphInfluences[_i4] = value;\n                    morphInfluencesSum += value;\n                } else {\n                    if (morphTargets && geometry.getAttribute('morphTarget' + _i4) !== undefined) {\n                        geometry.deleteAttribute('morphTarget' + _i4);\n                    }\n\n                    if (morphNormals && geometry.getAttribute('morphNormal' + _i4) !== undefined) {\n                        geometry.deleteAttribute('morphNormal' + _i4);\n                    }\n\n                    morphInfluences[_i4] = 0;\n                }\n            } // GLSL shader uses formula baseinfluence * base + sum(target * influence)\n            // This allows us to switch between absolute morphs and relative morphs without changing shader code\n            // When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\n\n            var morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n            program.getUniforms().setValue(gl, 'morphTargetBaseInfluence', morphBaseInfluence);\n            program.getUniforms().setValue(gl, 'morphTargetInfluences', morphInfluences);\n        }\n\n        return {\n            update: update\n        };\n    }\n\n    function WebGLObjects(gl, geometries, attributes, info) {\n        var updateMap = new WeakMap();\n\n        function update(object) {\n            var frame = info.render.frame;\n            var geometry = object.geometry;\n            var buffergeometry = geometries.get(object, geometry); // Update once per frame\n\n            if (updateMap.get(buffergeometry) !== frame) {\n                if (geometry.isGeometry) {\n                    buffergeometry.updateFromObject(object);\n                }\n\n                geometries.update(buffergeometry);\n                updateMap.set(buffergeometry, frame);\n            }\n\n            if (object.isInstancedMesh) {\n                attributes.update(object.instanceMatrix, 34962);\n\n                if (object.instanceColor !== null) {\n                    attributes.update(object.instanceColor, 34962);\n                }\n            }\n\n            return buffergeometry;\n        }\n\n        function dispose() {\n            updateMap = new WeakMap();\n        }\n\n        return {\n            update: update,\n            dispose: dispose\n        };\n    }\n\n    function DataTexture2DArray(data, width, height, depth) {\n        Texture.call(this, null);\n        this.image = {\n            data: data || null,\n            width: width || 1,\n            height: height || 1,\n            depth: depth || 1\n        };\n        this.magFilter = NearestFilter;\n        this.minFilter = NearestFilter;\n        this.wrapR = ClampToEdgeWrapping;\n        this.generateMipmaps = false;\n        this.flipY = false;\n        this.needsUpdate = true;\n    }\n\n    DataTexture2DArray.prototype = Object.create(Texture.prototype);\n    DataTexture2DArray.prototype.constructor = DataTexture2DArray;\n    DataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n    function DataTexture3D(data, width, height, depth) {\n        // We're going to add .setXXX() methods for setting properties later.\n        // Users can still set in DataTexture3D directly.\n        //\n        //\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n        // \ttexture.anisotropy = 16;\n        //\n        // See #14839\n        Texture.call(this, null);\n        this.image = {\n            data: data || null,\n            width: width || 1,\n            height: height || 1,\n            depth: depth || 1\n        };\n        this.magFilter = NearestFilter;\n        this.minFilter = NearestFilter;\n        this.wrapR = ClampToEdgeWrapping;\n        this.generateMipmaps = false;\n        this.flipY = false;\n        this.needsUpdate = true;\n    }\n\n    DataTexture3D.prototype = Object.create(Texture.prototype);\n    DataTexture3D.prototype.constructor = DataTexture3D;\n    DataTexture3D.prototype.isDataTexture3D = true;\n\n    /**\n     * Uniforms of a program.\n     * Those form a tree structure with a special top-level container for the root,\n     * which you get by calling 'new WebGLUniforms( gl, program )'.\n     *\n     *\n     * Properties of inner nodes including the top-level container:\n     *\n     * .seq - array of nested uniforms\n     * .map - nested uniforms by name\n     *\n     *\n     * Methods of all nodes except the top-level container:\n     *\n     * .setValue( gl, value, [textures] )\n     *\n     * \t\tuploads a uniform value(s)\n     *\t\tthe 'textures' parameter is needed for sampler uniforms\n     *\n     *\n     * Static methods of the top-level container (textures factorizations):\n     *\n     * .upload( gl, seq, values, textures )\n     *\n     * \t\tsets uniforms in 'seq' to 'values[id].value'\n     *\n     * .seqWithValue( seq, values ) : filteredSeq\n     *\n     * \t\tfilters 'seq' entries with corresponding entry in values\n     *\n     *\n     * Methods of the top-level container (textures factorizations):\n     *\n     * .setValue( gl, name, value, textures )\n     *\n     * \t\tsets uniform with\tname 'name' to 'value'\n     *\n     * .setOptional( gl, obj, prop )\n     *\n     * \t\tlike .set for an optional property of the object\n     *\n     */\n    var emptyTexture = new Texture();\n    var emptyTexture2dArray = new DataTexture2DArray();\n    var emptyTexture3d = new DataTexture3D();\n    var emptyCubeTexture = new CubeTexture(); // --- Utilities ---\n    // Array Caches (provide typed arrays for temporary by size)\n\n    var arrayCacheF32 = [];\n    var arrayCacheI32 = []; // Float32Array caches used for uploading Matrix uniforms\n\n    var mat4array = new Float32Array(16);\n    var mat3array = new Float32Array(9);\n    var mat2array = new Float32Array(4); // Flattening for arrays of vectors and matrices\n\n    function flatten(array, nBlocks, blockSize) {\n        var firstElem = array[0];\n        if (firstElem <= 0 || firstElem > 0) return array; // unoptimized: ! isNaN( firstElem )\n        // see http://jacksondunstan.com/articles/983\n\n        var n = nBlocks * blockSize;\n        var r = arrayCacheF32[n];\n\n        if (r === undefined) {\n            r = new Float32Array(n);\n            arrayCacheF32[n] = r;\n        }\n\n        if (nBlocks !== 0) {\n            firstElem.toArray(r, 0);\n\n            for (var i = 1, offset = 0; i !== nBlocks; ++i) {\n                offset += blockSize;\n                array[i].toArray(r, offset);\n            }\n        }\n\n        return r;\n    }\n\n    function arraysEqual(a, b) {\n        if (a.length !== b.length) return false;\n\n        for (var i = 0, l = a.length; i < l; i++) {\n            if (a[i] !== b[i]) return false;\n        }\n\n        return true;\n    }\n\n    function copyArray(a, b) {\n        for (var i = 0, l = b.length; i < l; i++) {\n            a[i] = b[i];\n        }\n    } // Texture unit allocation\n\n\n    function allocTexUnits(textures, n) {\n        var r = arrayCacheI32[n];\n\n        if (r === undefined) {\n            r = new Int32Array(n);\n            arrayCacheI32[n] = r;\n        }\n\n        for (var i = 0; i !== n; ++i) {\n            r[i] = textures.allocateTextureUnit();\n        }\n\n        return r;\n    } // --- Setters ---\n    // Note: Defining these methods externally, because they come in a bunch\n    // and this way their names minify.\n    // Single scalar\n\n\n    function setValueV1f(gl, v) {\n        var cache = this.cache;\n        if (cache[0] === v) return;\n        gl.uniform1f(this.addr, v);\n        cache[0] = v;\n    } // Single float vector (from flat array or THREE.VectorN)\n\n\n    function setValueV2f(gl, v) {\n        var cache = this.cache;\n\n        if (v.x !== undefined) {\n            if (cache[0] !== v.x || cache[1] !== v.y) {\n                gl.uniform2f(this.addr, v.x, v.y);\n                cache[0] = v.x;\n                cache[1] = v.y;\n            }\n        } else {\n            if (arraysEqual(cache, v)) return;\n            gl.uniform2fv(this.addr, v);\n            copyArray(cache, v);\n        }\n    }\n\n    function setValueV3f(gl, v) {\n        var cache = this.cache;\n\n        if (v.x !== undefined) {\n            if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {\n                gl.uniform3f(this.addr, v.x, v.y, v.z);\n                cache[0] = v.x;\n                cache[1] = v.y;\n                cache[2] = v.z;\n            }\n        } else if (v.r !== undefined) {\n            if (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {\n                gl.uniform3f(this.addr, v.r, v.g, v.b);\n                cache[0] = v.r;\n                cache[1] = v.g;\n                cache[2] = v.b;\n            }\n        } else {\n            if (arraysEqual(cache, v)) return;\n            gl.uniform3fv(this.addr, v);\n            copyArray(cache, v);\n        }\n    }\n\n    function setValueV4f(gl, v) {\n        var cache = this.cache;\n\n        if (v.x !== undefined) {\n            if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {\n                gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n                cache[0] = v.x;\n                cache[1] = v.y;\n                cache[2] = v.z;\n                cache[3] = v.w;\n            }\n        } else {\n            if (arraysEqual(cache, v)) return;\n            gl.uniform4fv(this.addr, v);\n            copyArray(cache, v);\n        }\n    } // Single matrix (from flat array or MatrixN)\n\n\n    function setValueM2(gl, v) {\n        var cache = this.cache;\n        var elements = v.elements;\n\n        if (elements === undefined) {\n            if (arraysEqual(cache, v)) return;\n            gl.uniformMatrix2fv(this.addr, false, v);\n            copyArray(cache, v);\n        } else {\n            if (arraysEqual(cache, elements)) return;\n            mat2array.set(elements);\n            gl.uniformMatrix2fv(this.addr, false, mat2array);\n            copyArray(cache, elements);\n        }\n    }\n\n    function setValueM3(gl, v) {\n        var cache = this.cache;\n        var elements = v.elements;\n\n        if (elements === undefined) {\n            if (arraysEqual(cache, v)) return;\n            gl.uniformMatrix3fv(this.addr, false, v);\n            copyArray(cache, v);\n        } else {\n            if (arraysEqual(cache, elements)) return;\n            mat3array.set(elements);\n            gl.uniformMatrix3fv(this.addr, false, mat3array);\n            copyArray(cache, elements);\n        }\n    }\n\n    function setValueM4(gl, v) {\n        var cache = this.cache;\n        var elements = v.elements;\n\n        if (elements === undefined) {\n            if (arraysEqual(cache, v)) return;\n            gl.uniformMatrix4fv(this.addr, false, v);\n            copyArray(cache, v);\n        } else {\n            if (arraysEqual(cache, elements)) return;\n            mat4array.set(elements);\n            gl.uniformMatrix4fv(this.addr, false, mat4array);\n            copyArray(cache, elements);\n        }\n    } // Single texture (2D / Cube)\n\n\n    function setValueT1(gl, v, textures) {\n        var cache = this.cache;\n        var unit = textures.allocateTextureUnit();\n\n        if (cache[0] !== unit) {\n            gl.uniform1i(this.addr, unit);\n            cache[0] = unit;\n        }\n\n        textures.safeSetTexture2D(v || emptyTexture, unit);\n    }\n\n    function setValueT2DArray1(gl, v, textures) {\n        var cache = this.cache;\n        var unit = textures.allocateTextureUnit();\n\n        if (cache[0] !== unit) {\n            gl.uniform1i(this.addr, unit);\n            cache[0] = unit;\n        }\n\n        textures.setTexture2DArray(v || emptyTexture2dArray, unit);\n    }\n\n    function setValueT3D1(gl, v, textures) {\n        var cache = this.cache;\n        var unit = textures.allocateTextureUnit();\n\n        if (cache[0] !== unit) {\n            gl.uniform1i(this.addr, unit);\n            cache[0] = unit;\n        }\n\n        textures.setTexture3D(v || emptyTexture3d, unit);\n    }\n\n    function setValueT6(gl, v, textures) {\n        var cache = this.cache;\n        var unit = textures.allocateTextureUnit();\n\n        if (cache[0] !== unit) {\n            gl.uniform1i(this.addr, unit);\n            cache[0] = unit;\n        }\n\n        textures.safeSetTextureCube(v || emptyCubeTexture, unit);\n    } // Integer / Boolean vectors or arrays thereof (always flat arrays)\n\n\n    function setValueV1i(gl, v) {\n        var cache = this.cache;\n        if (cache[0] === v) return;\n        gl.uniform1i(this.addr, v);\n        cache[0] = v;\n    }\n\n    function setValueV2i(gl, v) {\n        var cache = this.cache;\n        if (arraysEqual(cache, v)) return;\n        gl.uniform2iv(this.addr, v);\n        copyArray(cache, v);\n    }\n\n    function setValueV3i(gl, v) {\n        var cache = this.cache;\n        if (arraysEqual(cache, v)) return;\n        gl.uniform3iv(this.addr, v);\n        copyArray(cache, v);\n    }\n\n    function setValueV4i(gl, v) {\n        var cache = this.cache;\n        if (arraysEqual(cache, v)) return;\n        gl.uniform4iv(this.addr, v);\n        copyArray(cache, v);\n    } // uint\n\n\n    function setValueV1ui(gl, v) {\n        var cache = this.cache;\n        if (cache[0] === v) return;\n        gl.uniform1ui(this.addr, v);\n        cache[0] = v;\n    } // Helper to pick the right setter for the singular case\n\n\n    function getSingularSetter(type) {\n        switch (type) {\n            case 0x1406:\n                return setValueV1f;\n            // FLOAT\n\n            case 0x8b50:\n                return setValueV2f;\n            // _VEC2\n\n            case 0x8b51:\n                return setValueV3f;\n            // _VEC3\n\n            case 0x8b52:\n                return setValueV4f;\n            // _VEC4\n\n            case 0x8b5a:\n                return setValueM2;\n            // _MAT2\n\n            case 0x8b5b:\n                return setValueM3;\n            // _MAT3\n\n            case 0x8b5c:\n                return setValueM4;\n            // _MAT4\n\n            case 0x1404:\n            case 0x8b56:\n                return setValueV1i;\n            // INT, BOOL\n\n            case 0x8b53:\n            case 0x8b57:\n                return setValueV2i;\n            // _VEC2\n\n            case 0x8b54:\n            case 0x8b58:\n                return setValueV3i;\n            // _VEC3\n\n            case 0x8b55:\n            case 0x8b59:\n                return setValueV4i;\n            // _VEC4\n\n            case 0x1405:\n                return setValueV1ui;\n            // UINT\n\n            case 0x8b5e: // SAMPLER_2D\n\n            case 0x8d66: // SAMPLER_EXTERNAL_OES\n\n            case 0x8dca: // INT_SAMPLER_2D\n\n            case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n            case 0x8b62:\n                // SAMPLER_2D_SHADOW\n                return setValueT1;\n\n            case 0x8b5f: // SAMPLER_3D\n\n            case 0x8dcb: // INT_SAMPLER_3D\n\n            case 0x8dd3:\n                // UNSIGNED_INT_SAMPLER_3D\n                return setValueT3D1;\n\n            case 0x8b60: // SAMPLER_CUBE\n\n            case 0x8dcc: // INT_SAMPLER_CUBE\n\n            case 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n            case 0x8dc5:\n                // SAMPLER_CUBE_SHADOW\n                return setValueT6;\n\n            case 0x8dc1: // SAMPLER_2D_ARRAY\n\n            case 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\n            case 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\n            case 0x8dc4:\n                // SAMPLER_2D_ARRAY_SHADOW\n                return setValueT2DArray1;\n        }\n    } // Array of scalars\n\n\n    function setValueV1fArray(gl, v) {\n        gl.uniform1fv(this.addr, v);\n    } // Integer / Boolean vectors or arrays thereof (always flat arrays)\n\n\n    function setValueV1iArray(gl, v) {\n        gl.uniform1iv(this.addr, v);\n    }\n\n    function setValueV2iArray(gl, v) {\n        gl.uniform2iv(this.addr, v);\n    }\n\n    function setValueV3iArray(gl, v) {\n        gl.uniform3iv(this.addr, v);\n    }\n\n    function setValueV4iArray(gl, v) {\n        gl.uniform4iv(this.addr, v);\n    } // Array of vectors (flat or from THREE classes)\n\n\n    function setValueV2fArray(gl, v) {\n        var data = flatten(v, this.size, 2);\n        gl.uniform2fv(this.addr, data);\n    }\n\n    function setValueV3fArray(gl, v) {\n        var data = flatten(v, this.size, 3);\n        gl.uniform3fv(this.addr, data);\n    }\n\n    function setValueV4fArray(gl, v) {\n        var data = flatten(v, this.size, 4);\n        gl.uniform4fv(this.addr, data);\n    } // Array of matrices (flat or from THREE clases)\n\n\n    function setValueM2Array(gl, v) {\n        var data = flatten(v, this.size, 4);\n        gl.uniformMatrix2fv(this.addr, false, data);\n    }\n\n    function setValueM3Array(gl, v) {\n        var data = flatten(v, this.size, 9);\n        gl.uniformMatrix3fv(this.addr, false, data);\n    }\n\n    function setValueM4Array(gl, v) {\n        var data = flatten(v, this.size, 16);\n        gl.uniformMatrix4fv(this.addr, false, data);\n    } // Array of textures (2D / Cube)\n\n\n    function setValueT1Array(gl, v, textures) {\n        var n = v.length;\n        var units = allocTexUnits(textures, n);\n        gl.uniform1iv(this.addr, units);\n\n        for (var i = 0; i !== n; ++i) {\n            textures.safeSetTexture2D(v[i] || emptyTexture, units[i]);\n        }\n    }\n\n    function setValueT6Array(gl, v, textures) {\n        var n = v.length;\n        var units = allocTexUnits(textures, n);\n        gl.uniform1iv(this.addr, units);\n\n        for (var i = 0; i !== n; ++i) {\n            textures.safeSetTextureCube(v[i] || emptyCubeTexture, units[i]);\n        }\n    } // Helper to pick the right setter for a pure (bottom-level) array\n\n\n    function getPureArraySetter(type) {\n        switch (type) {\n            case 0x1406:\n                return setValueV1fArray;\n            // FLOAT\n\n            case 0x8b50:\n                return setValueV2fArray;\n            // _VEC2\n\n            case 0x8b51:\n                return setValueV3fArray;\n            // _VEC3\n\n            case 0x8b52:\n                return setValueV4fArray;\n            // _VEC4\n\n            case 0x8b5a:\n                return setValueM2Array;\n            // _MAT2\n\n            case 0x8b5b:\n                return setValueM3Array;\n            // _MAT3\n\n            case 0x8b5c:\n                return setValueM4Array;\n            // _MAT4\n\n            case 0x1404:\n            case 0x8b56:\n                return setValueV1iArray;\n            // INT, BOOL\n\n            case 0x8b53:\n            case 0x8b57:\n                return setValueV2iArray;\n            // _VEC2\n\n            case 0x8b54:\n            case 0x8b58:\n                return setValueV3iArray;\n            // _VEC3\n\n            case 0x8b55:\n            case 0x8b59:\n                return setValueV4iArray;\n            // _VEC4\n\n            case 0x8b5e: // SAMPLER_2D\n\n            case 0x8d66: // SAMPLER_EXTERNAL_OES\n\n            case 0x8dca: // INT_SAMPLER_2D\n\n            case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n            case 0x8b62:\n                // SAMPLER_2D_SHADOW\n                return setValueT1Array;\n\n            case 0x8b60: // SAMPLER_CUBE\n\n            case 0x8dcc: // INT_SAMPLER_CUBE\n\n            case 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n            case 0x8dc5:\n                // SAMPLER_CUBE_SHADOW\n                return setValueT6Array;\n        }\n    } // --- Uniform Classes ---\n\n\n    function SingleUniform(id, activeInfo, addr) {\n        this.id = id;\n        this.addr = addr;\n        this.cache = [];\n        this.setValue = getSingularSetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n    }\n\n    function PureArrayUniform(id, activeInfo, addr) {\n        this.id = id;\n        this.addr = addr;\n        this.cache = [];\n        this.size = activeInfo.size;\n        this.setValue = getPureArraySetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n    }\n\n    PureArrayUniform.prototype.updateCache = function (data) {\n        var cache = this.cache;\n\n        if (data instanceof Float32Array && cache.length !== data.length) {\n            this.cache = new Float32Array(data.length);\n        }\n\n        copyArray(cache, data);\n    };\n\n    function StructuredUniform(id) {\n        this.id = id;\n        this.seq = [];\n        this.map = {};\n    }\n\n    StructuredUniform.prototype.setValue = function (gl, value, textures) {\n        var seq = this.seq;\n\n        for (var i = 0, n = seq.length; i !== n; ++i) {\n            var u = seq[i];\n            u.setValue(gl, value[u.id], textures);\n        }\n    }; // --- Top-level ---\n    // Parser - builds up the property tree from the path strings\n\n\n    var RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g; // extracts\n    // \t- the identifier (member name or array index)\n    //\t- followed by an optional right bracket (found when array index)\n    //\t- followed by an optional left bracket or dot (type of subscript)\n    //\n    // Note: These portions can be read in a non-overlapping fashion and\n    // allow straightforward parsing of the hierarchy that WebGL encodes\n    // in the uniform names.\n\n    function addUniform(container, uniformObject) {\n        container.seq.push(uniformObject);\n        container.map[uniformObject.id] = uniformObject;\n    }\n\n    function parseUniform(activeInfo, addr, container) {\n        var path = activeInfo.name,\n            pathLength = path.length; // reset RegExp object, because of the early exit of a previous run\n\n        RePathPart.lastIndex = 0;\n\n        while (true) {\n            var match = RePathPart.exec(path),\n                matchEnd = RePathPart.lastIndex;\n            var id = match[1];\n            var idIsIndex = match[2] === ']',\n                subscript = match[3];\n            if (idIsIndex) id = id | 0; // convert to integer\n\n            if (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {\n                // bare name or \"pure\" bottom-level array \"[0]\" suffix\n                addUniform(container, subscript === undefined ? new SingleUniform(id, activeInfo, addr) : new PureArrayUniform(id, activeInfo, addr));\n                break;\n            } else {\n                // step into inner node / create it in case it doesn't exist\n                var map = container.map;\n                var next = map[id];\n\n                if (next === undefined) {\n                    next = new StructuredUniform(id);\n                    addUniform(container, next);\n                }\n\n                container = next;\n            }\n        }\n    } // Root Container\n\n\n    function WebGLUniforms(gl, program) {\n        this.seq = [];\n        this.map = {};\n        var n = gl.getProgramParameter(program, 35718);\n\n        for (var i = 0; i < n; ++i) {\n            var info = gl.getActiveUniform(program, i),\n                addr = gl.getUniformLocation(program, info.name);\n            parseUniform(info, addr, this);\n        }\n    }\n\n    WebGLUniforms.prototype.setValue = function (gl, name, value, textures) {\n        var u = this.map[name];\n        if (u !== undefined) u.setValue(gl, value, textures);\n    };\n\n    WebGLUniforms.prototype.setOptional = function (gl, object, name) {\n        var v = object[name];\n        if (v !== undefined) this.setValue(gl, name, v);\n    }; // Static interface\n\n\n    WebGLUniforms.upload = function (gl, seq, values, textures) {\n        for (var i = 0, n = seq.length; i !== n; ++i) {\n            var u = seq[i],\n                v = values[u.id];\n\n            if (v.needsUpdate !== false) {\n                // note: always updating when .needsUpdate is undefined\n                u.setValue(gl, v.value, textures);\n            }\n        }\n    };\n\n    WebGLUniforms.seqWithValue = function (seq, values) {\n        var r = [];\n\n        for (var i = 0, n = seq.length; i !== n; ++i) {\n            var u = seq[i];\n            if (u.id in values) r.push(u);\n        }\n\n        return r;\n    };\n\n    function WebGLShader(gl, type, string) {\n        var shader = gl.createShader(type);\n        gl.shaderSource(shader, string);\n        gl.compileShader(shader);\n        return shader;\n    }\n\n    var programIdCount = 0;\n\n    function addLineNumbers(string) {\n        var lines = string.split('\\n');\n\n        for (var i = 0; i < lines.length; i++) {\n            lines[i] = i + 1 + ': ' + lines[i];\n        }\n\n        return lines.join('\\n');\n    }\n\n    function getEncodingComponents(encoding) {\n        switch (encoding) {\n            case LinearEncoding:\n                return ['Linear', '( value )'];\n\n            case sRGBEncoding:\n                return ['sRGB', '( value )'];\n\n            case RGBEEncoding:\n                return ['RGBE', '( value )'];\n\n            case RGBM7Encoding:\n                return ['RGBM', '( value, 7.0 )'];\n\n            case RGBM16Encoding:\n                return ['RGBM', '( value, 16.0 )'];\n\n            case RGBDEncoding:\n                return ['RGBD', '( value, 256.0 )'];\n\n            case GammaEncoding:\n                return ['Gamma', '( value, float( GAMMA_FACTOR ) )'];\n\n            case LogLuvEncoding:\n                return ['LogLuv', '( value )'];\n\n            default:\n                console.warn('THREE.WebGLProgram: Unsupported encoding:', encoding);\n                return ['Linear', '( value )'];\n        }\n    }\n\n    function getShaderErrors(gl, shader, type) {\n        var status = gl.getShaderParameter(shader, 35713);\n        var log = gl.getShaderInfoLog(shader).trim();\n        if (status && log === '') return ''; // --enable-privileged-webgl-extension\n        // console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n        var source = gl.getShaderSource(shader);\n        return 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers(source);\n    }\n\n    function getTexelDecodingFunction(functionName, encoding) {\n        var components = getEncodingComponents(encoding);\n        return 'vec4 ' + functionName + '( vec4 value ) { return ' + components[0] + 'ToLinear' + components[1] + '; }';\n    }\n\n    function getTexelEncodingFunction(functionName, encoding) {\n        var components = getEncodingComponents(encoding);\n        return 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';\n    }\n\n    function getToneMappingFunction(functionName, toneMapping) {\n        var toneMappingName;\n\n        switch (toneMapping) {\n            case LinearToneMapping:\n                toneMappingName = 'Linear';\n                break;\n\n            case ReinhardToneMapping:\n                toneMappingName = 'Reinhard';\n                break;\n\n            case CineonToneMapping:\n                toneMappingName = 'OptimizedCineon';\n                break;\n\n            case ACESFilmicToneMapping:\n                toneMappingName = 'ACESFilmic';\n                break;\n\n            case CustomToneMapping:\n                toneMappingName = 'Custom';\n                break;\n\n            default:\n                console.warn('THREE.WebGLProgram: Unsupported toneMapping:', toneMapping);\n                toneMappingName = 'Linear';\n        }\n\n        return 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n    }\n\n    function generateExtensions(parameters) {\n        var chunks = [parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ? '#extension GL_OES_standard_derivatives : enable' : '', (parameters.extensionFragDepth || parameters.logarithmicDepthBuffer) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '', parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ? '#extension GL_EXT_draw_buffers : require' : '', (parameters.extensionShaderTextureLOD || parameters.envMap) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''];\n        return chunks.filter(filterEmptyLine).join('\\n');\n    }\n\n    function generateDefines(defines) {\n        var chunks = [];\n\n        for (var name in defines) {\n            var value = defines[name];\n            if (value === false) continue;\n            chunks.push('#define ' + name + ' ' + value);\n        }\n\n        return chunks.join('\\n');\n    }\n\n    function fetchAttributeLocations(gl, program) {\n        var attributes = {};\n        var n = gl.getProgramParameter(program, 35721);\n\n        for (var i = 0; i < n; i++) {\n            var info = gl.getActiveAttrib(program, i);\n            var name = info.name; // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n            attributes[name] = gl.getAttribLocation(program, name);\n        }\n\n        return attributes;\n    }\n\n    function filterEmptyLine(string) {\n        return string !== '';\n    }\n\n    function replaceLightNums(string, parameters) {\n        return string.replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows);\n    }\n\n    function replaceClippingPlaneNums(string, parameters) {\n        return string.replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, parameters.numClippingPlanes - parameters.numClipIntersection);\n    } // Resolve Includes\n\n\n    var includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n    function resolveIncludes(string) {\n        return string.replace(includePattern, includeReplacer);\n    }\n\n    function includeReplacer(match, include) {\n        var string = ShaderChunk[include];\n\n        if (string === undefined) {\n            throw new Error('Can not resolve #include <' + include + '>');\n        }\n\n        return resolveIncludes(string);\n    } // Unroll Loops\n\n\n    var deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n    var unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\n    function unrollLoops(string) {\n        return string.replace(unrollLoopPattern, loopReplacer).replace(deprecatedUnrollLoopPattern, deprecatedLoopReplacer);\n    }\n\n    function deprecatedLoopReplacer(match, start, end, snippet) {\n        console.warn('WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.');\n        return loopReplacer(match, start, end, snippet);\n    }\n\n    function loopReplacer(match, start, end, snippet) {\n        var string = '';\n\n        for (var i = parseInt(start); i < parseInt(end); i++) {\n            string += snippet.replace(/\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]').replace(/UNROLLED_LOOP_INDEX/g, i);\n        }\n\n        return string;\n    } //\n\n\n    function generatePrecision(parameters) {\n        var precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n        if (parameters.precision === \"highp\") {\n            precisionstring += \"\\n#define HIGH_PRECISION\";\n        } else if (parameters.precision === \"mediump\") {\n            precisionstring += \"\\n#define MEDIUM_PRECISION\";\n        } else if (parameters.precision === \"lowp\") {\n            precisionstring += \"\\n#define LOW_PRECISION\";\n        }\n\n        return precisionstring;\n    }\n\n    function generateShadowMapTypeDefine(parameters) {\n        var shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n        if (parameters.shadowMapType === PCFShadowMap) {\n            shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n        } else if (parameters.shadowMapType === PCFSoftShadowMap) {\n            shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n        } else if (parameters.shadowMapType === VSMShadowMap) {\n            shadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n        }\n\n        return shadowMapTypeDefine;\n    }\n\n    function generateEnvMapTypeDefine(parameters) {\n        var envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n        if (parameters.envMap) {\n            switch (parameters.envMapMode) {\n                case CubeReflectionMapping:\n                case CubeRefractionMapping:\n                    envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n                    break;\n\n                case CubeUVReflectionMapping:\n                case CubeUVRefractionMapping:\n                    envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n                    break;\n            }\n        }\n\n        return envMapTypeDefine;\n    }\n\n    function generateEnvMapModeDefine(parameters) {\n        var envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n        if (parameters.envMap) {\n            switch (parameters.envMapMode) {\n                case CubeRefractionMapping:\n                case CubeUVRefractionMapping:\n                    envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n                    break;\n            }\n        }\n\n        return envMapModeDefine;\n    }\n\n    function generateEnvMapBlendingDefine(parameters) {\n        var envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n        if (parameters.envMap) {\n            switch (parameters.combine) {\n                case MultiplyOperation:\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n                    break;\n\n                case MixOperation:\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n                    break;\n\n                case AddOperation:\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n                    break;\n            }\n        }\n\n        return envMapBlendingDefine;\n    }\n\n    function WebGLProgram(renderer, cacheKey, parameters, bindingStates) {\n        var gl = renderer.getContext();\n        var defines = parameters.defines;\n        var vertexShader = parameters.vertexShader;\n        var fragmentShader = parameters.fragmentShader;\n        var shadowMapTypeDefine = generateShadowMapTypeDefine(parameters);\n        var envMapTypeDefine = generateEnvMapTypeDefine(parameters);\n        var envMapModeDefine = generateEnvMapModeDefine(parameters);\n        var envMapBlendingDefine = generateEnvMapBlendingDefine(parameters);\n        var gammaFactorDefine = renderer.gammaFactor > 0 ? renderer.gammaFactor : 1.0;\n        var customExtensions = parameters.isWebGL2 ? '' : generateExtensions(parameters);\n        var customDefines = generateDefines(defines);\n        var program = gl.createProgram();\n        var prefixVertex, prefixFragment;\n        var versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + \"\\n\" : '';\n\n        if (parameters.isRawShaderMaterial) {\n            prefixVertex = [customDefines].filter(filterEmptyLine).join('\\n');\n\n            if (prefixVertex.length > 0) {\n                prefixVertex += '\\n';\n            }\n\n            prefixFragment = [customExtensions, customDefines].filter(filterEmptyLine).join('\\n');\n\n            if (prefixFragment.length > 0) {\n                prefixFragment += '\\n';\n            }\n        } else {\n            prefixVertex = [generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.instancing ? '#define USE_INSTANCING' : '', parameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '', parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '', '#define GAMMA_FACTOR ' + gammaFactorDefine, '#define MAX_BONES ' + parameters.maxBones, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.skinning ? '#define USE_SKINNING' : '', parameters.useVertexTexture ? '#define BONE_TEXTURE' : '', parameters.morphTargets ? '#define USE_MORPHTARGETS' : '', parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', '#ifdef USE_INSTANCING', '\tattribute mat4 instanceMatrix;', '#endif', '#ifdef USE_INSTANCING_COLOR', '\tattribute vec3 instanceColor;', '#endif', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', '#ifdef USE_TANGENT', '\tattribute vec4 tangent;', '#endif', '#ifdef USE_COLOR', '\tattribute vec3 color;', '#endif', '#ifdef USE_MORPHTARGETS', '\tattribute vec3 morphTarget0;', '\tattribute vec3 morphTarget1;', '\tattribute vec3 morphTarget2;', '\tattribute vec3 morphTarget3;', '\t#ifdef USE_MORPHNORMALS', '\t\tattribute vec3 morphNormal0;', '\t\tattribute vec3 morphNormal1;', '\t\tattribute vec3 morphNormal2;', '\t\tattribute vec3 morphNormal3;', '\t#else', '\t\tattribute vec3 morphTarget4;', '\t\tattribute vec3 morphTarget5;', '\t\tattribute vec3 morphTarget6;', '\t\tattribute vec3 morphTarget7;', '\t#endif', '#endif', '#ifdef USE_SKINNING', '\tattribute vec4 skinIndex;', '\tattribute vec4 skinWeight;', '#endif', '\\n'].filter(filterEmptyLine).join('\\n');\n            prefixFragment = [customExtensions, generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + (parameters.alphaTest % 1 ? '' : '.0') : '', // add '.0' if integer\n                '#define GAMMA_FACTOR ' + gammaFactorDefine, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.matcap ? '#define USE_MATCAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapTypeDefine : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.envMap ? '#define ' + envMapBlendingDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.sheen ? '#define USE_SHEEN' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.gradientMap ? '#define USE_GRADIENTMAP' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '', parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', (parameters.extensionShaderTextureLOD || parameters.envMap) && parameters.rendererExtensionShaderTextureLod ? '#define TEXTURE_LOD_EXT' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', parameters.toneMapping !== NoToneMapping ? '#define TONE_MAPPING' : '', parameters.toneMapping !== NoToneMapping ? ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below\n                parameters.toneMapping !== NoToneMapping ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '', parameters.dithering ? '#define DITHERING' : '', ShaderChunk['encodings_pars_fragment'], // this code is required here because it is used by the various encoding/decoding function defined below\n                parameters.map ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '', parameters.matcap ? getTexelDecodingFunction('matcapTexelToLinear', parameters.matcapEncoding) : '', parameters.envMap ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '', parameters.emissiveMap ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '', parameters.lightMap ? getTexelDecodingFunction('lightMapTexelToLinear', parameters.lightMapEncoding) : '', getTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding), parameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '', '\\n'].filter(filterEmptyLine).join('\\n');\n        }\n\n        vertexShader = resolveIncludes(vertexShader);\n        vertexShader = replaceLightNums(vertexShader, parameters);\n        vertexShader = replaceClippingPlaneNums(vertexShader, parameters);\n        fragmentShader = resolveIncludes(fragmentShader);\n        fragmentShader = replaceLightNums(fragmentShader, parameters);\n        fragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);\n        vertexShader = unrollLoops(vertexShader);\n        fragmentShader = unrollLoops(fragmentShader);\n\n        if (parameters.isWebGL2 && parameters.isRawShaderMaterial !== true) {\n            // GLSL 3.0 conversion for built-in materials and ShaderMaterial\n            versionString = '#version 300 es\\n';\n            prefixVertex = ['#define attribute in', '#define varying out', '#define texture2D texture'].join('\\n') + '\\n' + prefixVertex;\n            prefixFragment = ['#define varying in', parameters.glslVersion === GLSL3 ? '' : 'out highp vec4 pc_fragColor;', parameters.glslVersion === GLSL3 ? '' : '#define gl_FragColor pc_fragColor', '#define gl_FragDepthEXT gl_FragDepth', '#define texture2D texture', '#define textureCube texture', '#define texture2DProj textureProj', '#define texture2DLodEXT textureLod', '#define texture2DProjLodEXT textureProjLod', '#define textureCubeLodEXT textureLod', '#define texture2DGradEXT textureGrad', '#define texture2DProjGradEXT textureProjGrad', '#define textureCubeGradEXT textureGrad'].join('\\n') + '\\n' + prefixFragment;\n        }\n\n        var vertexGlsl = versionString + prefixVertex + vertexShader;\n        var fragmentGlsl = versionString + prefixFragment + fragmentShader; // console.log( '*VERTEX*', vertexGlsl );\n        // console.log( '*FRAGMENT*', fragmentGlsl );\n\n        var glVertexShader = WebGLShader(gl, 35633, vertexGlsl);\n        var glFragmentShader = WebGLShader(gl, 35632, fragmentGlsl);\n        gl.attachShader(program, glVertexShader);\n        gl.attachShader(program, glFragmentShader); // Force a particular attribute to index 0.\n\n        if (parameters.index0AttributeName !== undefined) {\n            gl.bindAttribLocation(program, 0, parameters.index0AttributeName);\n        } else if (parameters.morphTargets === true) {\n            // programs with morphTargets displace position out of attribute 0\n            gl.bindAttribLocation(program, 0, 'position');\n        }\n\n        gl.linkProgram(program); // check for link errors\n\n        if (renderer.debug.checkShaderErrors) {\n            var programLog = gl.getProgramInfoLog(program).trim();\n            var vertexLog = gl.getShaderInfoLog(glVertexShader).trim();\n            var fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();\n            var runnable = true;\n            var haveDiagnostics = true;\n\n            if (gl.getProgramParameter(program, 35714) === false) {\n                runnable = false;\n                var vertexErrors = getShaderErrors(gl, glVertexShader, 'vertex');\n                var fragmentErrors = getShaderErrors(gl, glFragmentShader, 'fragment');\n                console.error('THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter(program, 35715), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors);\n            } else if (programLog !== '') {\n                console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()', programLog);\n            } else if (vertexLog === '' || fragmentLog === '') {\n                haveDiagnostics = false;\n            }\n\n            if (haveDiagnostics) {\n                this.diagnostics = {\n                    runnable: runnable,\n                    programLog: programLog,\n                    vertexShader: {\n                        log: vertexLog,\n                        prefix: prefixVertex\n                    },\n                    fragmentShader: {\n                        log: fragmentLog,\n                        prefix: prefixFragment\n                    }\n                };\n            }\n        } // Clean up\n        // Crashes in iOS9 and iOS10. #18402\n        // gl.detachShader( program, glVertexShader );\n        // gl.detachShader( program, glFragmentShader );\n\n\n        gl.deleteShader(glVertexShader);\n        gl.deleteShader(glFragmentShader); // set up caching for uniform locations\n\n        var cachedUniforms;\n\n        this.getUniforms = function () {\n            if (cachedUniforms === undefined) {\n                cachedUniforms = new WebGLUniforms(gl, program);\n            }\n\n            return cachedUniforms;\n        }; // set up caching for attribute locations\n\n\n        var cachedAttributes;\n\n        this.getAttributes = function () {\n            if (cachedAttributes === undefined) {\n                cachedAttributes = fetchAttributeLocations(gl, program);\n            }\n\n            return cachedAttributes;\n        }; // free resource\n\n\n        this.destroy = function () {\n            bindingStates.releaseStatesOfProgram(this);\n            gl.deleteProgram(program);\n            this.program = undefined;\n        }; //\n\n\n        this.name = parameters.shaderName;\n        this.id = programIdCount++;\n        this.cacheKey = cacheKey;\n        this.usedTimes = 1;\n        this.program = program;\n        this.vertexShader = glVertexShader;\n        this.fragmentShader = glFragmentShader;\n        return this;\n    }\n\n    function WebGLPrograms(renderer, cubemaps, extensions, capabilities, bindingStates, clipping) {\n        var programs = [];\n        var isWebGL2 = capabilities.isWebGL2;\n        var logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n        var floatVertexTextures = capabilities.floatVertexTextures;\n        var maxVertexUniforms = capabilities.maxVertexUniforms;\n        var vertexTextures = capabilities.vertexTextures;\n        var precision = capabilities.precision;\n        var shaderIDs = {\n            MeshDepthMaterial: 'depth',\n            MeshDistanceMaterial: 'distanceRGBA',\n            MeshNormalMaterial: 'normal',\n            MeshBasicMaterial: 'basic',\n            MeshLambertMaterial: 'lambert',\n            MeshPhongMaterial: 'phong',\n            MeshToonMaterial: 'toon',\n            MeshStandardMaterial: 'physical',\n            MeshPhysicalMaterial: 'physical',\n            MeshMatcapMaterial: 'matcap',\n            LineBasicMaterial: 'basic',\n            LineDashedMaterial: 'dashed',\n            PointsMaterial: 'points',\n            ShadowMaterial: 'shadow',\n            SpriteMaterial: 'sprite'\n        };\n        var parameterNames = [\"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\", \"instancingColor\", \"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\", \"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatMap\", \"clearcoatRoughnessMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\", \"roughnessMap\", \"metalnessMap\", \"gradientMap\", \"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\", \"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\", \"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\", \"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\", \"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\", \"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\", \"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights', \"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\", \"sheen\", \"transmissionMap\"];\n\n        function getMaxBones(object) {\n            var skeleton = object.skeleton;\n            var bones = skeleton.bones;\n\n            if (floatVertexTextures) {\n                return 1024;\n            } else {\n                // default for when object is not specified\n                // ( for example when prebuilding shader to be used with multiple objects )\n                //\n                //\t- leave some extra space for other uniforms\n                //\t- limit here is ANGLE's 254 max uniform vectors\n                //\t\t(up to 54 should be safe)\n                var nVertexUniforms = maxVertexUniforms;\n                var nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);\n                var maxBones = Math.min(nVertexMatrices, bones.length);\n\n                if (maxBones < bones.length) {\n                    console.warn('THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.');\n                    return 0;\n                }\n\n                return maxBones;\n            }\n        }\n\n        function getTextureEncodingFromMap(map) {\n            var encoding;\n\n            if (!map) {\n                encoding = LinearEncoding;\n            } else if (map.isTexture) {\n                encoding = map.encoding;\n            } else if (map.isWebGLRenderTarget) {\n                console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\");\n                encoding = map.texture.encoding;\n            }\n\n            return encoding;\n        }\n\n        function getParameters(material, lights, shadows, scene, object) {\n            var fog = scene.fog;\n            var environment = material.isMeshStandardMaterial ? scene.environment : null;\n            var envMap = cubemaps.get(material.envMap || environment);\n            var shaderID = shaderIDs[material.type]; // heuristics to create shader parameters according to lights in the scene\n            // (not to blow over maxLights budget)\n\n            var maxBones = object.isSkinnedMesh ? getMaxBones(object) : 0;\n\n            if (material.precision !== null) {\n                precision = capabilities.getMaxPrecision(material.precision);\n\n                if (precision !== material.precision) {\n                    console.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');\n                }\n            }\n\n            var vertexShader, fragmentShader;\n\n            if (shaderID) {\n                var shader = ShaderLib[shaderID];\n                vertexShader = shader.vertexShader;\n                fragmentShader = shader.fragmentShader;\n            } else {\n                vertexShader = material.vertexShader;\n                fragmentShader = material.fragmentShader;\n            }\n\n            var currentRenderTarget = renderer.getRenderTarget();\n            var parameters = {\n                isWebGL2: isWebGL2,\n                shaderID: shaderID,\n                shaderName: material.type,\n                vertexShader: vertexShader,\n                fragmentShader: fragmentShader,\n                defines: material.defines,\n                isRawShaderMaterial: material.isRawShaderMaterial === true,\n                glslVersion: material.glslVersion,\n                precision: precision,\n                instancing: object.isInstancedMesh === true,\n                instancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n                supportsVertexTextures: vertexTextures,\n                outputEncoding: currentRenderTarget !== null ? getTextureEncodingFromMap(currentRenderTarget.texture) : renderer.outputEncoding,\n                map: !!material.map,\n                mapEncoding: getTextureEncodingFromMap(material.map),\n                matcap: !!material.matcap,\n                matcapEncoding: getTextureEncodingFromMap(material.matcap),\n                envMap: !!envMap,\n                envMapMode: envMap && envMap.mapping,\n                envMapEncoding: getTextureEncodingFromMap(envMap),\n                envMapCubeUV: !!envMap && (envMap.mapping === CubeUVReflectionMapping || envMap.mapping === CubeUVRefractionMapping),\n                lightMap: !!material.lightMap,\n                lightMapEncoding: getTextureEncodingFromMap(material.lightMap),\n                aoMap: !!material.aoMap,\n                emissiveMap: !!material.emissiveMap,\n                emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap),\n                bumpMap: !!material.bumpMap,\n                normalMap: !!material.normalMap,\n                objectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n                tangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n                clearcoatMap: !!material.clearcoatMap,\n                clearcoatRoughnessMap: !!material.clearcoatRoughnessMap,\n                clearcoatNormalMap: !!material.clearcoatNormalMap,\n                displacementMap: !!material.displacementMap,\n                roughnessMap: !!material.roughnessMap,\n                metalnessMap: !!material.metalnessMap,\n                specularMap: !!material.specularMap,\n                alphaMap: !!material.alphaMap,\n                gradientMap: !!material.gradientMap,\n                sheen: !!material.sheen,\n                transmissionMap: !!material.transmissionMap,\n                combine: material.combine,\n                vertexTangents: material.normalMap && material.vertexTangents,\n                vertexColors: material.vertexColors,\n                vertexUvs: !!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatMap || !!material.clearcoatRoughnessMap || !!material.clearcoatNormalMap || !!material.displacementMap || !!material.transmissionMap,\n                uvsVertexOnly: !(!!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatNormalMap || !!material.transmissionMap) && !!material.displacementMap,\n                fog: !!fog,\n                useFog: material.fog,\n                fogExp2: fog && fog.isFogExp2,\n                flatShading: material.flatShading,\n                sizeAttenuation: material.sizeAttenuation,\n                logarithmicDepthBuffer: logarithmicDepthBuffer,\n                skinning: material.skinning && maxBones > 0,\n                maxBones: maxBones,\n                useVertexTexture: floatVertexTextures,\n                morphTargets: material.morphTargets,\n                morphNormals: material.morphNormals,\n                maxMorphTargets: renderer.maxMorphTargets,\n                maxMorphNormals: renderer.maxMorphNormals,\n                numDirLights: lights.directional.length,\n                numPointLights: lights.point.length,\n                numSpotLights: lights.spot.length,\n                numRectAreaLights: lights.rectArea.length,\n                numHemiLights: lights.hemi.length,\n                numDirLightShadows: lights.directionalShadowMap.length,\n                numPointLightShadows: lights.pointShadowMap.length,\n                numSpotLightShadows: lights.spotShadowMap.length,\n                numClippingPlanes: clipping.numPlanes,\n                numClipIntersection: clipping.numIntersection,\n                dithering: material.dithering,\n                shadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n                shadowMapType: renderer.shadowMap.type,\n                toneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n                physicallyCorrectLights: renderer.physicallyCorrectLights,\n                premultipliedAlpha: material.premultipliedAlpha,\n                alphaTest: material.alphaTest,\n                doubleSided: material.side === DoubleSide,\n                flipSided: material.side === BackSide,\n                depthPacking: material.depthPacking !== undefined ? material.depthPacking : false,\n                index0AttributeName: material.index0AttributeName,\n                extensionDerivatives: material.extensions && material.extensions.derivatives,\n                extensionFragDepth: material.extensions && material.extensions.fragDepth,\n                extensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n                extensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n                rendererExtensionFragDepth: isWebGL2 || extensions.has('EXT_frag_depth'),\n                rendererExtensionDrawBuffers: isWebGL2 || extensions.has('WEBGL_draw_buffers'),\n                rendererExtensionShaderTextureLod: isWebGL2 || extensions.has('EXT_shader_texture_lod'),\n                customProgramCacheKey: material.customProgramCacheKey()\n            };\n            return parameters;\n        }\n\n        function getProgramCacheKey(parameters) {\n            var array = [];\n\n            if (parameters.shaderID) {\n                array.push(parameters.shaderID);\n            } else {\n                array.push(parameters.fragmentShader);\n                array.push(parameters.vertexShader);\n            }\n\n            if (parameters.defines !== undefined) {\n                for (var name in parameters.defines) {\n                    array.push(name);\n                    array.push(parameters.defines[name]);\n                }\n            }\n\n            if (parameters.isRawShaderMaterial === false) {\n                for (var i = 0; i < parameterNames.length; i++) {\n                    array.push(parameters[parameterNames[i]]);\n                }\n\n                array.push(renderer.outputEncoding);\n                array.push(renderer.gammaFactor);\n            }\n\n            array.push(parameters.customProgramCacheKey);\n            return array.join();\n        }\n\n        function getUniforms(material) {\n            var shaderID = shaderIDs[material.type];\n            var uniforms;\n\n            if (shaderID) {\n                var shader = ShaderLib[shaderID];\n                uniforms = UniformsUtils.clone(shader.uniforms);\n            } else {\n                uniforms = material.uniforms;\n            }\n\n            return uniforms;\n        }\n\n        function acquireProgram(parameters, cacheKey) {\n            var program; // Check if code has been already compiled\n\n            for (var p = 0, pl = programs.length; p < pl; p++) {\n                var preexistingProgram = programs[p];\n\n                if (preexistingProgram.cacheKey === cacheKey) {\n                    program = preexistingProgram;\n                    ++program.usedTimes;\n                    break;\n                }\n            }\n\n            if (program === undefined) {\n                program = new WebGLProgram(renderer, cacheKey, parameters, bindingStates);\n                programs.push(program);\n            }\n\n            return program;\n        }\n\n        function releaseProgram(program) {\n            if (--program.usedTimes === 0) {\n                // Remove from unordered set\n                var i = programs.indexOf(program);\n                programs[i] = programs[programs.length - 1];\n                programs.pop(); // Free WebGL resources\n\n                program.destroy();\n            }\n        }\n\n        return {\n            getParameters: getParameters,\n            getProgramCacheKey: getProgramCacheKey,\n            getUniforms: getUniforms,\n            acquireProgram: acquireProgram,\n            releaseProgram: releaseProgram,\n            // Exposed for resource monitoring & error feedback via renderer.info:\n            programs: programs\n        };\n    }\n\n    function WebGLProperties() {\n        var properties = new WeakMap();\n\n        function get(object) {\n            var map = properties.get(object);\n\n            if (map === undefined) {\n                map = {};\n                properties.set(object, map);\n            }\n\n            return map;\n        }\n\n        function remove(object) {\n            properties.delete(object);\n        }\n\n        function update(object, key, value) {\n            properties.get(object)[key] = value;\n        }\n\n        function dispose() {\n            properties = new WeakMap();\n        }\n\n        return {\n            get: get,\n            remove: remove,\n            update: update,\n            dispose: dispose\n        };\n    }\n\n    function painterSortStable(a, b) {\n        if (a.groupOrder !== b.groupOrder) {\n            return a.groupOrder - b.groupOrder;\n        } else if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program !== b.program) {\n            return a.program.id - b.program.id;\n        } else if (a.material.id !== b.material.id) {\n            return a.material.id - b.material.id;\n        } else if (a.z !== b.z) {\n            return a.z - b.z;\n        } else {\n            return a.id - b.id;\n        }\n    }\n\n    function reversePainterSortStable(a, b) {\n        if (a.groupOrder !== b.groupOrder) {\n            return a.groupOrder - b.groupOrder;\n        } else if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.z !== b.z) {\n            return b.z - a.z;\n        } else {\n            return a.id - b.id;\n        }\n    }\n\n    function WebGLRenderList(properties) {\n        var renderItems = [];\n        var renderItemsIndex = 0;\n        var opaque = [];\n        var transparent = [];\n        var defaultProgram = {\n            id: -1\n        };\n\n        function init() {\n            renderItemsIndex = 0;\n            opaque.length = 0;\n            transparent.length = 0;\n        }\n\n        function getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n            var renderItem = renderItems[renderItemsIndex];\n            var materialProperties = properties.get(material);\n\n            if (renderItem === undefined) {\n                renderItem = {\n                    id: object.id,\n                    object: object,\n                    geometry: geometry,\n                    material: material,\n                    program: materialProperties.program || defaultProgram,\n                    groupOrder: groupOrder,\n                    renderOrder: object.renderOrder,\n                    z: z,\n                    group: group\n                };\n                renderItems[renderItemsIndex] = renderItem;\n            } else {\n                renderItem.id = object.id;\n                renderItem.object = object;\n                renderItem.geometry = geometry;\n                renderItem.material = material;\n                renderItem.program = materialProperties.program || defaultProgram;\n                renderItem.groupOrder = groupOrder;\n                renderItem.renderOrder = object.renderOrder;\n                renderItem.z = z;\n                renderItem.group = group;\n            }\n\n            renderItemsIndex++;\n            return renderItem;\n        }\n\n        function push(object, geometry, material, groupOrder, z, group) {\n            var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n            (material.transparent === true ? transparent : opaque).push(renderItem);\n        }\n\n        function unshift(object, geometry, material, groupOrder, z, group) {\n            var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n            (material.transparent === true ? transparent : opaque).unshift(renderItem);\n        }\n\n        function sort(customOpaqueSort, customTransparentSort) {\n            if (opaque.length > 1) opaque.sort(customOpaqueSort || painterSortStable);\n            if (transparent.length > 1) transparent.sort(customTransparentSort || reversePainterSortStable);\n        }\n\n        function finish() {\n            // Clear references from inactive renderItems in the list\n            for (var i = renderItemsIndex, il = renderItems.length; i < il; i++) {\n                var renderItem = renderItems[i];\n                if (renderItem.id === null) break;\n                renderItem.id = null;\n                renderItem.object = null;\n                renderItem.geometry = null;\n                renderItem.material = null;\n                renderItem.program = null;\n                renderItem.group = null;\n            }\n        }\n\n        return {\n            opaque: opaque,\n            transparent: transparent,\n            init: init,\n            push: push,\n            unshift: unshift,\n            finish: finish,\n            sort: sort\n        };\n    }\n\n    function WebGLRenderLists(properties) {\n        var lists = new WeakMap();\n\n        function get(scene, camera) {\n            var cameras = lists.get(scene);\n            var list;\n\n            if (cameras === undefined) {\n                list = new WebGLRenderList(properties);\n                lists.set(scene, new WeakMap());\n                lists.get(scene).set(camera, list);\n            } else {\n                list = cameras.get(camera);\n\n                if (list === undefined) {\n                    list = new WebGLRenderList(properties);\n                    cameras.set(camera, list);\n                }\n            }\n\n            return list;\n        }\n\n        function dispose() {\n            lists = new WeakMap();\n        }\n\n        return {\n            get: get,\n            dispose: dispose\n        };\n    }\n\n    function UniformsCache() {\n        var lights = {};\n        return {\n            get: function get(light) {\n                if (lights[light.id] !== undefined) {\n                    return lights[light.id];\n                }\n\n                var uniforms;\n\n                switch (light.type) {\n                    case 'DirectionalLight':\n                        uniforms = {\n                            direction: new Vector3(),\n                            color: new Color()\n                        };\n                        break;\n\n                    case 'SpotLight':\n                        uniforms = {\n                            position: new Vector3(),\n                            direction: new Vector3(),\n                            color: new Color(),\n                            distance: 0,\n                            coneCos: 0,\n                            penumbraCos: 0,\n                            decay: 0\n                        };\n                        break;\n\n                    case 'PointLight':\n                        uniforms = {\n                            position: new Vector3(),\n                            color: new Color(),\n                            distance: 0,\n                            decay: 0\n                        };\n                        break;\n\n                    case 'HemisphereLight':\n                        uniforms = {\n                            direction: new Vector3(),\n                            skyColor: new Color(),\n                            groundColor: new Color()\n                        };\n                        break;\n\n                    case 'RectAreaLight':\n                        uniforms = {\n                            color: new Color(),\n                            position: new Vector3(),\n                            halfWidth: new Vector3(),\n                            halfHeight: new Vector3()\n                        };\n                        break;\n                }\n\n                lights[light.id] = uniforms;\n                return uniforms;\n            }\n        };\n    }\n\n    function ShadowUniformsCache() {\n        var lights = {};\n        return {\n            get: function get(light) {\n                if (lights[light.id] !== undefined) {\n                    return lights[light.id];\n                }\n\n                var uniforms;\n\n                switch (light.type) {\n                    case 'DirectionalLight':\n                        uniforms = {\n                            shadowBias: 0,\n                            shadowNormalBias: 0,\n                            shadowRadius: 1,\n                            shadowMapSize: new Vector2()\n                        };\n                        break;\n\n                    case 'SpotLight':\n                        uniforms = {\n                            shadowBias: 0,\n                            shadowNormalBias: 0,\n                            shadowRadius: 1,\n                            shadowMapSize: new Vector2()\n                        };\n                        break;\n\n                    case 'PointLight':\n                        uniforms = {\n                            shadowBias: 0,\n                            shadowNormalBias: 0,\n                            shadowRadius: 1,\n                            shadowMapSize: new Vector2(),\n                            shadowCameraNear: 1,\n                            shadowCameraFar: 1000\n                        };\n                        break;\n                    // TODO (abelnation): set RectAreaLight shadow uniforms\n                }\n\n                lights[light.id] = uniforms;\n                return uniforms;\n            }\n        };\n    }\n\n    var nextVersion = 0;\n\n    function shadowCastingLightsFirst(lightA, lightB) {\n        return (lightB.castShadow ? 1 : 0) - (lightA.castShadow ? 1 : 0);\n    }\n\n    function WebGLLights() {\n        var cache = new UniformsCache();\n        var shadowCache = ShadowUniformsCache();\n        var state = {\n            version: 0,\n            hash: {\n                directionalLength: -1,\n                pointLength: -1,\n                spotLength: -1,\n                rectAreaLength: -1,\n                hemiLength: -1,\n                numDirectionalShadows: -1,\n                numPointShadows: -1,\n                numSpotShadows: -1\n            },\n            ambient: [0, 0, 0],\n            probe: [],\n            directional: [],\n            directionalShadow: [],\n            directionalShadowMap: [],\n            directionalShadowMatrix: [],\n            spot: [],\n            spotShadow: [],\n            spotShadowMap: [],\n            spotShadowMatrix: [],\n            rectArea: [],\n            rectAreaLTC1: null,\n            rectAreaLTC2: null,\n            point: [],\n            pointShadow: [],\n            pointShadowMap: [],\n            pointShadowMatrix: [],\n            hemi: []\n        };\n\n        for (var i = 0; i < 9; i++) {\n            state.probe.push(new Vector3());\n        }\n\n        var vector3 = new Vector3();\n        var matrix4 = new Matrix4();\n        var matrix42 = new Matrix4();\n\n        function setup(lights, shadows, camera) {\n            var r = 0,\n                g = 0,\n                b = 0;\n\n            for (var _i = 0; _i < 9; _i++) {\n                state.probe[_i].set(0, 0, 0);\n            }\n\n            var directionalLength = 0;\n            var pointLength = 0;\n            var spotLength = 0;\n            var rectAreaLength = 0;\n            var hemiLength = 0;\n            var numDirectionalShadows = 0;\n            var numPointShadows = 0;\n            var numSpotShadows = 0;\n            var viewMatrix = camera.matrixWorldInverse;\n            lights.sort(shadowCastingLightsFirst);\n\n            for (var _i2 = 0, l = lights.length; _i2 < l; _i2++) {\n                var light = lights[_i2];\n                var color = light.color;\n                var intensity = light.intensity;\n                var distance = light.distance;\n                var shadowMap = light.shadow && light.shadow.map ? light.shadow.map.texture : null;\n\n                if (light.isAmbientLight) {\n                    r += color.r * intensity;\n                    g += color.g * intensity;\n                    b += color.b * intensity;\n                } else if (light.isLightProbe) {\n                    for (var j = 0; j < 9; j++) {\n                        state.probe[j].addScaledVector(light.sh.coefficients[j], intensity);\n                    }\n                } else if (light.isDirectionalLight) {\n                    var uniforms = cache.get(light);\n                    uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n                    uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n                    vector3.setFromMatrixPosition(light.target.matrixWorld);\n                    uniforms.direction.sub(vector3);\n                    uniforms.direction.transformDirection(viewMatrix);\n\n                    if (light.castShadow) {\n                        var shadow = light.shadow;\n                        var shadowUniforms = shadowCache.get(light);\n                        shadowUniforms.shadowBias = shadow.bias;\n                        shadowUniforms.shadowNormalBias = shadow.normalBias;\n                        shadowUniforms.shadowRadius = shadow.radius;\n                        shadowUniforms.shadowMapSize = shadow.mapSize;\n                        state.directionalShadow[directionalLength] = shadowUniforms;\n                        state.directionalShadowMap[directionalLength] = shadowMap;\n                        state.directionalShadowMatrix[directionalLength] = light.shadow.matrix;\n                        numDirectionalShadows++;\n                    }\n\n                    state.directional[directionalLength] = uniforms;\n                    directionalLength++;\n                } else if (light.isSpotLight) {\n                    var _uniforms = cache.get(light);\n\n                    _uniforms.position.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms.position.applyMatrix4(viewMatrix);\n\n                    _uniforms.color.copy(color).multiplyScalar(intensity);\n\n                    _uniforms.distance = distance;\n\n                    _uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\n                    vector3.setFromMatrixPosition(light.target.matrixWorld);\n\n                    _uniforms.direction.sub(vector3);\n\n                    _uniforms.direction.transformDirection(viewMatrix);\n\n                    _uniforms.coneCos = Math.cos(light.angle);\n                    _uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n                    _uniforms.decay = light.decay;\n\n                    if (light.castShadow) {\n                        var _shadow = light.shadow;\n\n                        var _shadowUniforms = shadowCache.get(light);\n\n                        _shadowUniforms.shadowBias = _shadow.bias;\n                        _shadowUniforms.shadowNormalBias = _shadow.normalBias;\n                        _shadowUniforms.shadowRadius = _shadow.radius;\n                        _shadowUniforms.shadowMapSize = _shadow.mapSize;\n                        state.spotShadow[spotLength] = _shadowUniforms;\n                        state.spotShadowMap[spotLength] = shadowMap;\n                        state.spotShadowMatrix[spotLength] = light.shadow.matrix;\n                        numSpotShadows++;\n                    }\n\n                    state.spot[spotLength] = _uniforms;\n                    spotLength++;\n                } else if (light.isRectAreaLight) {\n                    var _uniforms2 = cache.get(light); // (a) intensity is the total visible light emitted\n                    //uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n                    // (b) intensity is the brightness of the light\n\n\n                    _uniforms2.color.copy(color).multiplyScalar(intensity);\n\n                    _uniforms2.position.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms2.position.applyMatrix4(viewMatrix); // extract local rotation of light to derive width/height half vectors\n\n\n                    matrix42.identity();\n                    matrix4.copy(light.matrixWorld);\n                    matrix4.premultiply(viewMatrix);\n                    matrix42.extractRotation(matrix4);\n\n                    _uniforms2.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n\n                    _uniforms2.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\n                    _uniforms2.halfWidth.applyMatrix4(matrix42);\n\n                    _uniforms2.halfHeight.applyMatrix4(matrix42); // TODO (abelnation): RectAreaLight distance?\n                    // uniforms.distance = distance;\n\n\n                    state.rectArea[rectAreaLength] = _uniforms2;\n                    rectAreaLength++;\n                } else if (light.isPointLight) {\n                    var _uniforms3 = cache.get(light);\n\n                    _uniforms3.position.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms3.position.applyMatrix4(viewMatrix);\n\n                    _uniforms3.color.copy(light.color).multiplyScalar(light.intensity);\n\n                    _uniforms3.distance = light.distance;\n                    _uniforms3.decay = light.decay;\n\n                    if (light.castShadow) {\n                        var _shadow2 = light.shadow;\n\n                        var _shadowUniforms2 = shadowCache.get(light);\n\n                        _shadowUniforms2.shadowBias = _shadow2.bias;\n                        _shadowUniforms2.shadowNormalBias = _shadow2.normalBias;\n                        _shadowUniforms2.shadowRadius = _shadow2.radius;\n                        _shadowUniforms2.shadowMapSize = _shadow2.mapSize;\n                        _shadowUniforms2.shadowCameraNear = _shadow2.camera.near;\n                        _shadowUniforms2.shadowCameraFar = _shadow2.camera.far;\n                        state.pointShadow[pointLength] = _shadowUniforms2;\n                        state.pointShadowMap[pointLength] = shadowMap;\n                        state.pointShadowMatrix[pointLength] = light.shadow.matrix;\n                        numPointShadows++;\n                    }\n\n                    state.point[pointLength] = _uniforms3;\n                    pointLength++;\n                } else if (light.isHemisphereLight) {\n                    var _uniforms4 = cache.get(light);\n\n                    _uniforms4.direction.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms4.direction.transformDirection(viewMatrix);\n\n                    _uniforms4.direction.normalize();\n\n                    _uniforms4.skyColor.copy(light.color).multiplyScalar(intensity);\n\n                    _uniforms4.groundColor.copy(light.groundColor).multiplyScalar(intensity);\n\n                    state.hemi[hemiLength] = _uniforms4;\n                    hemiLength++;\n                }\n            }\n\n            if (rectAreaLength > 0) {\n                state.rectAreaLTC1 = UniformsLib.LTC_1;\n                state.rectAreaLTC2 = UniformsLib.LTC_2;\n            }\n\n            state.ambient[0] = r;\n            state.ambient[1] = g;\n            state.ambient[2] = b;\n            var hash = state.hash;\n\n            if (hash.directionalLength !== directionalLength || hash.pointLength !== pointLength || hash.spotLength !== spotLength || hash.rectAreaLength !== rectAreaLength || hash.hemiLength !== hemiLength || hash.numDirectionalShadows !== numDirectionalShadows || hash.numPointShadows !== numPointShadows || hash.numSpotShadows !== numSpotShadows) {\n                state.directional.length = directionalLength;\n                state.spot.length = spotLength;\n                state.rectArea.length = rectAreaLength;\n                state.point.length = pointLength;\n                state.hemi.length = hemiLength;\n                state.directionalShadow.length = numDirectionalShadows;\n                state.directionalShadowMap.length = numDirectionalShadows;\n                state.pointShadow.length = numPointShadows;\n                state.pointShadowMap.length = numPointShadows;\n                state.spotShadow.length = numSpotShadows;\n                state.spotShadowMap.length = numSpotShadows;\n                state.directionalShadowMatrix.length = numDirectionalShadows;\n                state.pointShadowMatrix.length = numPointShadows;\n                state.spotShadowMatrix.length = numSpotShadows;\n                hash.directionalLength = directionalLength;\n                hash.pointLength = pointLength;\n                hash.spotLength = spotLength;\n                hash.rectAreaLength = rectAreaLength;\n                hash.hemiLength = hemiLength;\n                hash.numDirectionalShadows = numDirectionalShadows;\n                hash.numPointShadows = numPointShadows;\n                hash.numSpotShadows = numSpotShadows;\n                state.version = nextVersion++;\n            }\n        }\n\n        return {\n            setup: setup,\n            state: state\n        };\n    }\n\n    function WebGLRenderState() {\n        var lights = new WebGLLights();\n        var lightsArray = [];\n        var shadowsArray = [];\n\n        function init() {\n            lightsArray.length = 0;\n            shadowsArray.length = 0;\n        }\n\n        function pushLight(light) {\n            lightsArray.push(light);\n        }\n\n        function pushShadow(shadowLight) {\n            shadowsArray.push(shadowLight);\n        }\n\n        function setupLights(camera) {\n            lights.setup(lightsArray, shadowsArray, camera);\n        }\n\n        var state = {\n            lightsArray: lightsArray,\n            shadowsArray: shadowsArray,\n            lights: lights\n        };\n        return {\n            init: init,\n            state: state,\n            setupLights: setupLights,\n            pushLight: pushLight,\n            pushShadow: pushShadow\n        };\n    }\n\n    function WebGLRenderStates() {\n        var renderStates = new WeakMap();\n\n        function get(scene, camera) {\n            var renderState;\n\n            if (renderStates.has(scene) === false) {\n                renderState = new WebGLRenderState();\n                renderStates.set(scene, new WeakMap());\n                renderStates.get(scene).set(camera, renderState);\n            } else {\n                if (renderStates.get(scene).has(camera) === false) {\n                    renderState = new WebGLRenderState();\n                    renderStates.get(scene).set(camera, renderState);\n                } else {\n                    renderState = renderStates.get(scene).get(camera);\n                }\n            }\n\n            return renderState;\n        }\n\n        function dispose() {\n            renderStates = new WeakMap();\n        }\n\n        return {\n            get: get,\n            dispose: dispose\n        };\n    }\n\n    /**\n     * parameters = {\n\t *\n\t *\topacity: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>\n\t * }\n     */\n\n    function MeshDepthMaterial(parameters) {\n        Material.call(this);\n        this.type = 'MeshDepthMaterial';\n        this.depthPacking = BasicDepthPacking;\n        this.skinning = false;\n        this.morphTargets = false;\n        this.map = null;\n        this.alphaMap = null;\n        this.displacementMap = null;\n        this.displacementScale = 1;\n        this.displacementBias = 0;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.fog = false;\n        this.setValues(parameters);\n    }\n\n    MeshDepthMaterial.prototype = Object.create(Material.prototype);\n    MeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n    MeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n    MeshDepthMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.depthPacking = source.depthPacking;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.map = source.map;\n        this.alphaMap = source.alphaMap;\n        this.displacementMap = source.displacementMap;\n        this.displacementScale = source.displacementScale;\n        this.displacementBias = source.displacementBias;\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        return this;\n    };\n\n    /**\n     * parameters = {\n\t *\n\t *\treferencePosition: <float>,\n\t *\tnearDistance: <float>,\n\t *\tfarDistance: <float>,\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>\n\t *\n\t * }\n     */\n\n    function MeshDistanceMaterial(parameters) {\n        Material.call(this);\n        this.type = 'MeshDistanceMaterial';\n        this.referencePosition = new Vector3();\n        this.nearDistance = 1;\n        this.farDistance = 1000;\n        this.skinning = false;\n        this.morphTargets = false;\n        this.map = null;\n        this.alphaMap = null;\n        this.displacementMap = null;\n        this.displacementScale = 1;\n        this.displacementBias = 0;\n        this.fog = false;\n        this.setValues(parameters);\n    }\n\n    MeshDistanceMaterial.prototype = Object.create(Material.prototype);\n    MeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n    MeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\n    MeshDistanceMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.referencePosition.copy(source.referencePosition);\n        this.nearDistance = source.nearDistance;\n        this.farDistance = source.farDistance;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.map = source.map;\n        this.alphaMap = source.alphaMap;\n        this.displacementMap = source.displacementMap;\n        this.displacementScale = source.displacementScale;\n        this.displacementBias = source.displacementBias;\n        return this;\n    };\n\n    var vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\n    var vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n    function WebGLShadowMap(_renderer, _objects, maxTextureSize) {\n        var _frustum = new Frustum();\n\n        var _shadowMapSize = new Vector2(),\n            _viewportSize = new Vector2(),\n            _viewport = new Vector4(),\n            _depthMaterials = [],\n            _distanceMaterials = [],\n            _materialCache = {};\n\n        var shadowSide = {\n            0: BackSide,\n            1: FrontSide,\n            2: DoubleSide\n        };\n        var shadowMaterialVertical = new ShaderMaterial({\n            defines: {\n                SAMPLE_RATE: 2.0 / 8.0,\n                HALF_SAMPLE_RATE: 1.0 / 8.0\n            },\n            uniforms: {\n                shadow_pass: {\n                    value: null\n                },\n                resolution: {\n                    value: new Vector2()\n                },\n                radius: {\n                    value: 4.0\n                }\n            },\n            vertexShader: vsm_vert,\n            fragmentShader: vsm_frag\n        });\n        var shadowMaterialHorizonal = shadowMaterialVertical.clone();\n        shadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n        var fullScreenTri = new BufferGeometry();\n        fullScreenTri.setAttribute(\"position\", new BufferAttribute(new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]), 3));\n        var fullScreenMesh = new Mesh(fullScreenTri, shadowMaterialVertical);\n        var scope = this;\n        this.enabled = false;\n        this.autoUpdate = true;\n        this.needsUpdate = false;\n        this.type = PCFShadowMap;\n\n        this.render = function (lights, scene, camera) {\n            if (scope.enabled === false) return;\n            if (scope.autoUpdate === false && scope.needsUpdate === false) return;\n            if (lights.length === 0) return;\n\n            var currentRenderTarget = _renderer.getRenderTarget();\n\n            var activeCubeFace = _renderer.getActiveCubeFace();\n\n            var activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n            var _state = _renderer.state; // Set GL state for depth map.\n\n            _state.setBlending(NoBlending);\n\n            _state.buffers.color.setClear(1, 1, 1, 1);\n\n            _state.buffers.depth.setTest(true);\n\n            _state.setScissorTest(false); // render depth map\n\n\n            for (var i = 0, il = lights.length; i < il; i++) {\n                var light = lights[i];\n                var shadow = light.shadow;\n\n                if (shadow === undefined) {\n                    console.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');\n                    continue;\n                }\n\n                if (shadow.autoUpdate === false && shadow.needsUpdate === false) continue;\n\n                _shadowMapSize.copy(shadow.mapSize);\n\n                var shadowFrameExtents = shadow.getFrameExtents();\n\n                _shadowMapSize.multiply(shadowFrameExtents);\n\n                _viewportSize.copy(shadow.mapSize);\n\n                if (_shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize) {\n                    if (_shadowMapSize.x > maxTextureSize) {\n                        _viewportSize.x = Math.floor(maxTextureSize / shadowFrameExtents.x);\n                        _shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n                        shadow.mapSize.x = _viewportSize.x;\n                    }\n\n                    if (_shadowMapSize.y > maxTextureSize) {\n                        _viewportSize.y = Math.floor(maxTextureSize / shadowFrameExtents.y);\n                        _shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n                        shadow.mapSize.y = _viewportSize.y;\n                    }\n                }\n\n                if (shadow.map === null && !shadow.isPointLightShadow && this.type === VSMShadowMap) {\n                    var pars = {\n                        minFilter: LinearFilter,\n                        magFilter: LinearFilter,\n                        format: RGBAFormat\n                    };\n                    shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n                    shadow.map.texture.name = light.name + \".shadowMap\";\n                    shadow.mapPass = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n                    shadow.camera.updateProjectionMatrix();\n                }\n\n                if (shadow.map === null) {\n                    var _pars = {\n                        minFilter: NearestFilter,\n                        magFilter: NearestFilter,\n                        format: RGBAFormat\n                    };\n                    shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, _pars);\n                    shadow.map.texture.name = light.name + \".shadowMap\";\n                    shadow.camera.updateProjectionMatrix();\n                }\n\n                _renderer.setRenderTarget(shadow.map);\n\n                _renderer.clear();\n\n                var viewportCount = shadow.getViewportCount();\n\n                for (var vp = 0; vp < viewportCount; vp++) {\n                    var viewport = shadow.getViewport(vp);\n\n                    _viewport.set(_viewportSize.x * viewport.x, _viewportSize.y * viewport.y, _viewportSize.x * viewport.z, _viewportSize.y * viewport.w);\n\n                    _state.viewport(_viewport);\n\n                    shadow.updateMatrices(light, vp);\n                    _frustum = shadow.getFrustum();\n                    renderObject(scene, camera, shadow.camera, light, this.type);\n                } // do blur pass for VSM\n\n\n                if (!shadow.isPointLightShadow && this.type === VSMShadowMap) {\n                    VSMPass(shadow, camera);\n                }\n\n                shadow.needsUpdate = false;\n            }\n\n            scope.needsUpdate = false;\n\n            _renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n        };\n\n        function VSMPass(shadow, camera) {\n            var geometry = _objects.update(fullScreenMesh); // vertical pass\n\n\n            shadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n            shadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n            shadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\n            _renderer.setRenderTarget(shadow.mapPass);\n\n            _renderer.clear();\n\n            _renderer.renderBufferDirect(camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null); // horizonal pass\n\n\n            shadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n            shadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n            shadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n\n            _renderer.setRenderTarget(shadow.map);\n\n            _renderer.clear();\n\n            _renderer.renderBufferDirect(camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null);\n        }\n\n        function getDepthMaterialVariant(useMorphing, useSkinning, useInstancing) {\n            var index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n            var material = _depthMaterials[index];\n\n            if (material === undefined) {\n                material = new MeshDepthMaterial({\n                    depthPacking: RGBADepthPacking,\n                    morphTargets: useMorphing,\n                    skinning: useSkinning\n                });\n                _depthMaterials[index] = material;\n            }\n\n            return material;\n        }\n\n        function getDistanceMaterialVariant(useMorphing, useSkinning, useInstancing) {\n            var index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n            var material = _distanceMaterials[index];\n\n            if (material === undefined) {\n                material = new MeshDistanceMaterial({\n                    morphTargets: useMorphing,\n                    skinning: useSkinning\n                });\n                _distanceMaterials[index] = material;\n            }\n\n            return material;\n        }\n\n        function getDepthMaterial(object, geometry, material, light, shadowCameraNear, shadowCameraFar, type) {\n            var result = null;\n            var getMaterialVariant = getDepthMaterialVariant;\n            var customMaterial = object.customDepthMaterial;\n\n            if (light.isPointLight === true) {\n                getMaterialVariant = getDistanceMaterialVariant;\n                customMaterial = object.customDistanceMaterial;\n            }\n\n            if (customMaterial === undefined) {\n                var useMorphing = false;\n\n                if (material.morphTargets === true) {\n                    useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n                }\n\n                var useSkinning = false;\n\n                if (object.isSkinnedMesh === true) {\n                    if (material.skinning === true) {\n                        useSkinning = true;\n                    } else {\n                        console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object);\n                    }\n                }\n\n                var useInstancing = object.isInstancedMesh === true;\n                result = getMaterialVariant(useMorphing, useSkinning, useInstancing);\n            } else {\n                result = customMaterial;\n            }\n\n            if (_renderer.localClippingEnabled && material.clipShadows === true && material.clippingPlanes.length !== 0) {\n                // in this case we need a unique material instance reflecting the\n                // appropriate state\n                var keyA = result.uuid,\n                    keyB = material.uuid;\n                var materialsForVariant = _materialCache[keyA];\n\n                if (materialsForVariant === undefined) {\n                    materialsForVariant = {};\n                    _materialCache[keyA] = materialsForVariant;\n                }\n\n                var cachedMaterial = materialsForVariant[keyB];\n\n                if (cachedMaterial === undefined) {\n                    cachedMaterial = result.clone();\n                    materialsForVariant[keyB] = cachedMaterial;\n                }\n\n                result = cachedMaterial;\n            }\n\n            result.visible = material.visible;\n            result.wireframe = material.wireframe;\n\n            if (type === VSMShadowMap) {\n                result.side = material.shadowSide !== null ? material.shadowSide : material.side;\n            } else {\n                result.side = material.shadowSide !== null ? material.shadowSide : shadowSide[material.side];\n            }\n\n            result.clipShadows = material.clipShadows;\n            result.clippingPlanes = material.clippingPlanes;\n            result.clipIntersection = material.clipIntersection;\n            result.wireframeLinewidth = material.wireframeLinewidth;\n            result.linewidth = material.linewidth;\n\n            if (light.isPointLight === true && result.isMeshDistanceMaterial === true) {\n                result.referencePosition.setFromMatrixPosition(light.matrixWorld);\n                result.nearDistance = shadowCameraNear;\n                result.farDistance = shadowCameraFar;\n            }\n\n            return result;\n        }\n\n        function renderObject(object, camera, shadowCamera, light, type) {\n            if (object.visible === false) return;\n            var visible = object.layers.test(camera.layers);\n\n            if (visible && (object.isMesh || object.isLine || object.isPoints)) {\n                if ((object.castShadow || object.receiveShadow && type === VSMShadowMap) && (!object.frustumCulled || _frustum.intersectsObject(object))) {\n                    object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);\n\n                    var geometry = _objects.update(object);\n\n                    var material = object.material;\n\n                    if (Array.isArray(material)) {\n                        var groups = geometry.groups;\n\n                        for (var k = 0, kl = groups.length; k < kl; k++) {\n                            var group = groups[k];\n                            var groupMaterial = material[group.materialIndex];\n\n                            if (groupMaterial && groupMaterial.visible) {\n                                var depthMaterial = getDepthMaterial(object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type);\n\n                                _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);\n                            }\n                        }\n                    } else if (material.visible) {\n                        var _depthMaterial = getDepthMaterial(object, geometry, material, light, shadowCamera.near, shadowCamera.far, type);\n\n                        _renderer.renderBufferDirect(shadowCamera, null, geometry, _depthMaterial, object, null);\n                    }\n                }\n            }\n\n            var children = object.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                renderObject(children[i], camera, shadowCamera, light, type);\n            }\n        }\n    }\n\n    function WebGLState(gl, extensions, capabilities) {\n        var _equationToGL, _factorToGL;\n\n        var isWebGL2 = capabilities.isWebGL2;\n\n        function ColorBuffer() {\n            var locked = false;\n            var color = new Vector4();\n            var currentColorMask = null;\n            var currentColorClear = new Vector4(0, 0, 0, 0);\n            return {\n                setMask: function setMask(colorMask) {\n                    if (currentColorMask !== colorMask && !locked) {\n                        gl.colorMask(colorMask, colorMask, colorMask, colorMask);\n                        currentColorMask = colorMask;\n                    }\n                },\n                setLocked: function setLocked(lock) {\n                    locked = lock;\n                },\n                setClear: function setClear(r, g, b, a, premultipliedAlpha) {\n                    if (premultipliedAlpha === true) {\n                        r *= a;\n                        g *= a;\n                        b *= a;\n                    }\n\n                    color.set(r, g, b, a);\n\n                    if (currentColorClear.equals(color) === false) {\n                        gl.clearColor(r, g, b, a);\n                        currentColorClear.copy(color);\n                    }\n                },\n                reset: function reset() {\n                    locked = false;\n                    currentColorMask = null;\n                    currentColorClear.set(-1, 0, 0, 0); // set to invalid state\n                }\n            };\n        }\n\n        function DepthBuffer() {\n            var locked = false;\n            var currentDepthMask = null;\n            var currentDepthFunc = null;\n            var currentDepthClear = null;\n            return {\n                setTest: function setTest(depthTest) {\n                    if (depthTest) {\n                        enable(2929);\n                    } else {\n                        disable(2929);\n                    }\n                },\n                setMask: function setMask(depthMask) {\n                    if (currentDepthMask !== depthMask && !locked) {\n                        gl.depthMask(depthMask);\n                        currentDepthMask = depthMask;\n                    }\n                },\n                setFunc: function setFunc(depthFunc) {\n                    if (currentDepthFunc !== depthFunc) {\n                        if (depthFunc) {\n                            switch (depthFunc) {\n                                case NeverDepth:\n                                    gl.depthFunc(512);\n                                    break;\n\n                                case AlwaysDepth:\n                                    gl.depthFunc(519);\n                                    break;\n\n                                case LessDepth:\n                                    gl.depthFunc(513);\n                                    break;\n\n                                case LessEqualDepth:\n                                    gl.depthFunc(515);\n                                    break;\n\n                                case EqualDepth:\n                                    gl.depthFunc(514);\n                                    break;\n\n                                case GreaterEqualDepth:\n                                    gl.depthFunc(518);\n                                    break;\n\n                                case GreaterDepth:\n                                    gl.depthFunc(516);\n                                    break;\n\n                                case NotEqualDepth:\n                                    gl.depthFunc(517);\n                                    break;\n\n                                default:\n                                    gl.depthFunc(515);\n                            }\n                        } else {\n                            gl.depthFunc(515);\n                        }\n\n                        currentDepthFunc = depthFunc;\n                    }\n                },\n                setLocked: function setLocked(lock) {\n                    locked = lock;\n                },\n                setClear: function setClear(depth) {\n                    if (currentDepthClear !== depth) {\n                        gl.clearDepth(depth);\n                        currentDepthClear = depth;\n                    }\n                },\n                reset: function reset() {\n                    locked = false;\n                    currentDepthMask = null;\n                    currentDepthFunc = null;\n                    currentDepthClear = null;\n                }\n            };\n        }\n\n        function StencilBuffer() {\n            var locked = false;\n            var currentStencilMask = null;\n            var currentStencilFunc = null;\n            var currentStencilRef = null;\n            var currentStencilFuncMask = null;\n            var currentStencilFail = null;\n            var currentStencilZFail = null;\n            var currentStencilZPass = null;\n            var currentStencilClear = null;\n            return {\n                setTest: function setTest(stencilTest) {\n                    if (!locked) {\n                        if (stencilTest) {\n                            enable(2960);\n                        } else {\n                            disable(2960);\n                        }\n                    }\n                },\n                setMask: function setMask(stencilMask) {\n                    if (currentStencilMask !== stencilMask && !locked) {\n                        gl.stencilMask(stencilMask);\n                        currentStencilMask = stencilMask;\n                    }\n                },\n                setFunc: function setFunc(stencilFunc, stencilRef, stencilMask) {\n                    if (currentStencilFunc !== stencilFunc || currentStencilRef !== stencilRef || currentStencilFuncMask !== stencilMask) {\n                        gl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n                        currentStencilFunc = stencilFunc;\n                        currentStencilRef = stencilRef;\n                        currentStencilFuncMask = stencilMask;\n                    }\n                },\n                setOp: function setOp(stencilFail, stencilZFail, stencilZPass) {\n                    if (currentStencilFail !== stencilFail || currentStencilZFail !== stencilZFail || currentStencilZPass !== stencilZPass) {\n                        gl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n                        currentStencilFail = stencilFail;\n                        currentStencilZFail = stencilZFail;\n                        currentStencilZPass = stencilZPass;\n                    }\n                },\n                setLocked: function setLocked(lock) {\n                    locked = lock;\n                },\n                setClear: function setClear(stencil) {\n                    if (currentStencilClear !== stencil) {\n                        gl.clearStencil(stencil);\n                        currentStencilClear = stencil;\n                    }\n                },\n                reset: function reset() {\n                    locked = false;\n                    currentStencilMask = null;\n                    currentStencilFunc = null;\n                    currentStencilRef = null;\n                    currentStencilFuncMask = null;\n                    currentStencilFail = null;\n                    currentStencilZFail = null;\n                    currentStencilZPass = null;\n                    currentStencilClear = null;\n                }\n            };\n        } //\n\n\n        var colorBuffer = new ColorBuffer();\n        var depthBuffer = new DepthBuffer();\n        var stencilBuffer = new StencilBuffer();\n        var enabledCapabilities = {};\n        var currentProgram = null;\n        var currentBlendingEnabled = null;\n        var currentBlending = null;\n        var currentBlendEquation = null;\n        var currentBlendSrc = null;\n        var currentBlendDst = null;\n        var currentBlendEquationAlpha = null;\n        var currentBlendSrcAlpha = null;\n        var currentBlendDstAlpha = null;\n        var currentPremultipledAlpha = false;\n        var currentFlipSided = null;\n        var currentCullFace = null;\n        var currentLineWidth = null;\n        var currentPolygonOffsetFactor = null;\n        var currentPolygonOffsetUnits = null;\n        var maxTextures = gl.getParameter(35661);\n        var lineWidthAvailable = false;\n        var version = 0;\n        var glVersion = gl.getParameter(7938);\n\n        if (glVersion.indexOf('WebGL') !== -1) {\n            version = parseFloat(/^WebGL\\ ([0-9])/.exec(glVersion)[1]);\n            lineWidthAvailable = version >= 1.0;\n        } else if (glVersion.indexOf('OpenGL ES') !== -1) {\n            version = parseFloat(/^OpenGL\\ ES\\ ([0-9])/.exec(glVersion)[1]);\n            lineWidthAvailable = version >= 2.0;\n        }\n\n        var currentTextureSlot = null;\n        var currentBoundTextures = {};\n        var currentScissor = new Vector4();\n        var currentViewport = new Vector4();\n\n        function createTexture(type, target, count) {\n            var data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n\n            var texture = gl.createTexture();\n            gl.bindTexture(type, texture);\n            gl.texParameteri(type, 10241, 9728);\n            gl.texParameteri(type, 10240, 9728);\n\n            for (var i = 0; i < count; i++) {\n                gl.texImage2D(target + i, 0, 6408, 1, 1, 0, 6408, 5121, data);\n            }\n\n            return texture;\n        }\n\n        var emptyTextures = {};\n        emptyTextures[3553] = createTexture(3553, 3553, 1);\n        emptyTextures[34067] = createTexture(34067, 34069, 6); // init\n\n        colorBuffer.setClear(0, 0, 0, 1);\n        depthBuffer.setClear(1);\n        stencilBuffer.setClear(0);\n        enable(2929);\n        depthBuffer.setFunc(LessEqualDepth);\n        setFlipSided(false);\n        setCullFace(CullFaceBack);\n        enable(2884);\n        setBlending(NoBlending); //\n\n        function enable(id) {\n            if (enabledCapabilities[id] !== true) {\n                gl.enable(id);\n                enabledCapabilities[id] = true;\n            }\n        }\n\n        function disable(id) {\n            if (enabledCapabilities[id] !== false) {\n                gl.disable(id);\n                enabledCapabilities[id] = false;\n            }\n        }\n\n        function useProgram(program) {\n            if (currentProgram !== program) {\n                gl.useProgram(program);\n                currentProgram = program;\n                return true;\n            }\n\n            return false;\n        }\n\n        var equationToGL = (_equationToGL = {}, _equationToGL[AddEquation] = 32774, _equationToGL[SubtractEquation] = 32778, _equationToGL[ReverseSubtractEquation] = 32779, _equationToGL);\n\n        if (isWebGL2) {\n            equationToGL[MinEquation] = 32775;\n            equationToGL[MaxEquation] = 32776;\n        } else {\n            var extension = extensions.get('EXT_blend_minmax');\n\n            if (extension !== null) {\n                equationToGL[MinEquation] = extension.MIN_EXT;\n                equationToGL[MaxEquation] = extension.MAX_EXT;\n            }\n        }\n\n        var factorToGL = (_factorToGL = {}, _factorToGL[ZeroFactor] = 0, _factorToGL[OneFactor] = 1, _factorToGL[SrcColorFactor] = 768, _factorToGL[SrcAlphaFactor] = 770, _factorToGL[SrcAlphaSaturateFactor] = 776, _factorToGL[DstColorFactor] = 774, _factorToGL[DstAlphaFactor] = 772, _factorToGL[OneMinusSrcColorFactor] = 769, _factorToGL[OneMinusSrcAlphaFactor] = 771, _factorToGL[OneMinusDstColorFactor] = 775, _factorToGL[OneMinusDstAlphaFactor] = 773, _factorToGL);\n\n        function setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {\n            if (blending === NoBlending) {\n                if (currentBlendingEnabled) {\n                    disable(3042);\n                    currentBlendingEnabled = false;\n                }\n\n                return;\n            }\n\n            if (!currentBlendingEnabled) {\n                enable(3042);\n                currentBlendingEnabled = true;\n            }\n\n            if (blending !== CustomBlending) {\n                if (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {\n                    if (currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation) {\n                        gl.blendEquation(32774);\n                        currentBlendEquation = AddEquation;\n                        currentBlendEquationAlpha = AddEquation;\n                    }\n\n                    if (premultipliedAlpha) {\n                        switch (blending) {\n                            case NormalBlending:\n                                gl.blendFuncSeparate(1, 771, 1, 771);\n                                break;\n\n                            case AdditiveBlending:\n                                gl.blendFunc(1, 1);\n                                break;\n\n                            case SubtractiveBlending:\n                                gl.blendFuncSeparate(0, 0, 769, 771);\n                                break;\n\n                            case MultiplyBlending:\n                                gl.blendFuncSeparate(0, 768, 0, 770);\n                                break;\n\n                            default:\n                                console.error('THREE.WebGLState: Invalid blending: ', blending);\n                                break;\n                        }\n                    } else {\n                        switch (blending) {\n                            case NormalBlending:\n                                gl.blendFuncSeparate(770, 771, 1, 771);\n                                break;\n\n                            case AdditiveBlending:\n                                gl.blendFunc(770, 1);\n                                break;\n\n                            case SubtractiveBlending:\n                                gl.blendFunc(0, 769);\n                                break;\n\n                            case MultiplyBlending:\n                                gl.blendFunc(0, 768);\n                                break;\n\n                            default:\n                                console.error('THREE.WebGLState: Invalid blending: ', blending);\n                                break;\n                        }\n                    }\n\n                    currentBlendSrc = null;\n                    currentBlendDst = null;\n                    currentBlendSrcAlpha = null;\n                    currentBlendDstAlpha = null;\n                    currentBlending = blending;\n                    currentPremultipledAlpha = premultipliedAlpha;\n                }\n\n                return;\n            } // custom blending\n\n\n            blendEquationAlpha = blendEquationAlpha || blendEquation;\n            blendSrcAlpha = blendSrcAlpha || blendSrc;\n            blendDstAlpha = blendDstAlpha || blendDst;\n\n            if (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {\n                gl.blendEquationSeparate(equationToGL[blendEquation], equationToGL[blendEquationAlpha]);\n                currentBlendEquation = blendEquation;\n                currentBlendEquationAlpha = blendEquationAlpha;\n            }\n\n            if (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {\n                gl.blendFuncSeparate(factorToGL[blendSrc], factorToGL[blendDst], factorToGL[blendSrcAlpha], factorToGL[blendDstAlpha]);\n                currentBlendSrc = blendSrc;\n                currentBlendDst = blendDst;\n                currentBlendSrcAlpha = blendSrcAlpha;\n                currentBlendDstAlpha = blendDstAlpha;\n            }\n\n            currentBlending = blending;\n            currentPremultipledAlpha = null;\n        }\n\n        function setMaterial(material, frontFaceCW) {\n            material.side === DoubleSide ? disable(2884) : enable(2884);\n            var flipSided = material.side === BackSide;\n            if (frontFaceCW) flipSided = !flipSided;\n            setFlipSided(flipSided);\n            material.blending === NormalBlending && material.transparent === false ? setBlending(NoBlending) : setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);\n            depthBuffer.setFunc(material.depthFunc);\n            depthBuffer.setTest(material.depthTest);\n            depthBuffer.setMask(material.depthWrite);\n            colorBuffer.setMask(material.colorWrite);\n            var stencilWrite = material.stencilWrite;\n            stencilBuffer.setTest(stencilWrite);\n\n            if (stencilWrite) {\n                stencilBuffer.setMask(material.stencilWriteMask);\n                stencilBuffer.setFunc(material.stencilFunc, material.stencilRef, material.stencilFuncMask);\n                stencilBuffer.setOp(material.stencilFail, material.stencilZFail, material.stencilZPass);\n            }\n\n            setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n        } //\n\n\n        function setFlipSided(flipSided) {\n            if (currentFlipSided !== flipSided) {\n                if (flipSided) {\n                    gl.frontFace(2304);\n                } else {\n                    gl.frontFace(2305);\n                }\n\n                currentFlipSided = flipSided;\n            }\n        }\n\n        function setCullFace(cullFace) {\n            if (cullFace !== CullFaceNone) {\n                enable(2884);\n\n                if (cullFace !== currentCullFace) {\n                    if (cullFace === CullFaceBack) {\n                        gl.cullFace(1029);\n                    } else if (cullFace === CullFaceFront) {\n                        gl.cullFace(1028);\n                    } else {\n                        gl.cullFace(1032);\n                    }\n                }\n            } else {\n                disable(2884);\n            }\n\n            currentCullFace = cullFace;\n        }\n\n        function setLineWidth(width) {\n            if (width !== currentLineWidth) {\n                if (lineWidthAvailable) gl.lineWidth(width);\n                currentLineWidth = width;\n            }\n        }\n\n        function setPolygonOffset(polygonOffset, factor, units) {\n            if (polygonOffset) {\n                enable(32823);\n\n                if (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {\n                    gl.polygonOffset(factor, units);\n                    currentPolygonOffsetFactor = factor;\n                    currentPolygonOffsetUnits = units;\n                }\n            } else {\n                disable(32823);\n            }\n        }\n\n        function setScissorTest(scissorTest) {\n            if (scissorTest) {\n                enable(3089);\n            } else {\n                disable(3089);\n            }\n        } // texture\n\n\n        function activeTexture(webglSlot) {\n            if (webglSlot === undefined) webglSlot = 33984 + maxTextures - 1;\n\n            if (currentTextureSlot !== webglSlot) {\n                gl.activeTexture(webglSlot);\n                currentTextureSlot = webglSlot;\n            }\n        }\n\n        function bindTexture(webglType, webglTexture) {\n            if (currentTextureSlot === null) {\n                activeTexture();\n            }\n\n            var boundTexture = currentBoundTextures[currentTextureSlot];\n\n            if (boundTexture === undefined) {\n                boundTexture = {\n                    type: undefined,\n                    texture: undefined\n                };\n                currentBoundTextures[currentTextureSlot] = boundTexture;\n            }\n\n            if (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {\n                gl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);\n                boundTexture.type = webglType;\n                boundTexture.texture = webglTexture;\n            }\n        }\n\n        function unbindTexture() {\n            var boundTexture = currentBoundTextures[currentTextureSlot];\n\n            if (boundTexture !== undefined && boundTexture.type !== undefined) {\n                gl.bindTexture(boundTexture.type, null);\n                boundTexture.type = undefined;\n                boundTexture.texture = undefined;\n            }\n        }\n\n        function compressedTexImage2D() {\n            try {\n                gl.compressedTexImage2D.apply(gl, arguments);\n            } catch (error) {\n                console.error('THREE.WebGLState:', error);\n            }\n        }\n\n        function texImage2D() {\n            try {\n                gl.texImage2D.apply(gl, arguments);\n            } catch (error) {\n                console.error('THREE.WebGLState:', error);\n            }\n        }\n\n        function texImage3D() {\n            try {\n                gl.texImage3D.apply(gl, arguments);\n            } catch (error) {\n                console.error('THREE.WebGLState:', error);\n            }\n        } //\n\n\n        function scissor(scissor) {\n            if (currentScissor.equals(scissor) === false) {\n                gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n                currentScissor.copy(scissor);\n            }\n        }\n\n        function viewport(viewport) {\n            if (currentViewport.equals(viewport) === false) {\n                gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n                currentViewport.copy(viewport);\n            }\n        } //\n\n\n        function reset() {\n            enabledCapabilities = {};\n            currentTextureSlot = null;\n            currentBoundTextures = {};\n            currentProgram = null;\n            currentBlending = null;\n            currentFlipSided = null;\n            currentCullFace = null;\n            colorBuffer.reset();\n            depthBuffer.reset();\n            stencilBuffer.reset();\n        }\n\n        return {\n            buffers: {\n                color: colorBuffer,\n                depth: depthBuffer,\n                stencil: stencilBuffer\n            },\n            enable: enable,\n            disable: disable,\n            useProgram: useProgram,\n            setBlending: setBlending,\n            setMaterial: setMaterial,\n            setFlipSided: setFlipSided,\n            setCullFace: setCullFace,\n            setLineWidth: setLineWidth,\n            setPolygonOffset: setPolygonOffset,\n            setScissorTest: setScissorTest,\n            activeTexture: activeTexture,\n            bindTexture: bindTexture,\n            unbindTexture: unbindTexture,\n            compressedTexImage2D: compressedTexImage2D,\n            texImage2D: texImage2D,\n            texImage3D: texImage3D,\n            scissor: scissor,\n            viewport: viewport,\n            reset: reset\n        };\n    }\n\n    function WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info) {\n        var _wrappingToGL, _filterToGL;\n\n        var isWebGL2 = capabilities.isWebGL2;\n        var maxTextures = capabilities.maxTextures;\n        var maxCubemapSize = capabilities.maxCubemapSize;\n        var maxTextureSize = capabilities.maxTextureSize;\n        var maxSamples = capabilities.maxSamples;\n\n        var _videoTextures = new WeakMap();\n\n        var _canvas; // cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n        // also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n        // Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\n        var useOffscreenCanvas = false;\n\n        try {\n            useOffscreenCanvas = typeof OffscreenCanvas !== 'undefined' && new OffscreenCanvas(1, 1).getContext(\"2d\") !== null;\n        } catch (err) {// Ignore any errors\n        }\n\n        function createCanvas(width, height) {\n            // Use OffscreenCanvas when available. Specially needed in web workers\n            return useOffscreenCanvas ? new OffscreenCanvas(width, height) : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n        }\n\n        function resizeImage(image, needsPowerOfTwo, needsNewCanvas, maxSize) {\n            var scale = 1; // handle case if texture exceeds max size\n\n            if (image.width > maxSize || image.height > maxSize) {\n                scale = maxSize / Math.max(image.width, image.height);\n            } // only perform resize if necessary\n\n\n            if (scale < 1 || needsPowerOfTwo === true) {\n                // only perform resize for certain image types\n                if (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n                    var floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n                    var width = floor(scale * image.width);\n                    var height = floor(scale * image.height);\n                    if (_canvas === undefined) _canvas = createCanvas(width, height); // cube textures can't reuse the same canvas\n\n                    var canvas = needsNewCanvas ? createCanvas(width, height) : _canvas;\n                    canvas.width = width;\n                    canvas.height = height;\n                    var context = canvas.getContext('2d');\n                    context.drawImage(image, 0, 0, width, height);\n                    console.warn('THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').');\n                    return canvas;\n                } else {\n                    if ('data' in image) {\n                        console.warn('THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').');\n                    }\n\n                    return image;\n                }\n            }\n\n            return image;\n        }\n\n        function isPowerOfTwo(image) {\n            return MathUtils.isPowerOfTwo(image.width) && MathUtils.isPowerOfTwo(image.height);\n        }\n\n        function textureNeedsPowerOfTwo(texture) {\n            if (isWebGL2) return false;\n            return texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping || texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n        }\n\n        function textureNeedsGenerateMipmaps(texture, supportsMips) {\n            return texture.generateMipmaps && supportsMips && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n        }\n\n        function generateMipmap(target, texture, width, height) {\n            _gl.generateMipmap(target);\n\n            var textureProperties = properties.get(texture); // Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\n            textureProperties.__maxMipLevel = Math.log(Math.max(width, height)) * Math.LOG2E;\n        }\n\n        function getInternalFormat(internalFormatName, glFormat, glType) {\n            if (isWebGL2 === false) return glFormat;\n\n            if (internalFormatName !== null) {\n                if (_gl[internalFormatName] !== undefined) return _gl[internalFormatName];\n                console.warn('THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'');\n            }\n\n            var internalFormat = glFormat;\n\n            if (glFormat === 6403) {\n                if (glType === 5126) internalFormat = 33326;\n                if (glType === 5131) internalFormat = 33325;\n                if (glType === 5121) internalFormat = 33321;\n            }\n\n            if (glFormat === 6407) {\n                if (glType === 5126) internalFormat = 34837;\n                if (glType === 5131) internalFormat = 34843;\n                if (glType === 5121) internalFormat = 32849;\n            }\n\n            if (glFormat === 6408) {\n                if (glType === 5126) internalFormat = 34836;\n                if (glType === 5131) internalFormat = 34842;\n                if (glType === 5121) internalFormat = 32856;\n            }\n\n            if (internalFormat === 33325 || internalFormat === 33326 || internalFormat === 34842 || internalFormat === 34836) {\n                extensions.get('EXT_color_buffer_float');\n            }\n\n            return internalFormat;\n        } // Fallback filters for non-power-of-2 textures\n\n\n        function filterFallback(f) {\n            if (f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter) {\n                return 9728;\n            }\n\n            return 9729;\n        } //\n\n\n        function onTextureDispose(event) {\n            var texture = event.target;\n            texture.removeEventListener('dispose', onTextureDispose);\n            deallocateTexture(texture);\n\n            if (texture.isVideoTexture) {\n                _videoTextures.delete(texture);\n            }\n\n            info.memory.textures--;\n        }\n\n        function onRenderTargetDispose(event) {\n            var renderTarget = event.target;\n            renderTarget.removeEventListener('dispose', onRenderTargetDispose);\n            deallocateRenderTarget(renderTarget);\n            info.memory.textures--;\n        } //\n\n\n        function deallocateTexture(texture) {\n            var textureProperties = properties.get(texture);\n            if (textureProperties.__webglInit === undefined) return;\n\n            _gl.deleteTexture(textureProperties.__webglTexture);\n\n            properties.remove(texture);\n        }\n\n        function deallocateRenderTarget(renderTarget) {\n            var renderTargetProperties = properties.get(renderTarget);\n            var textureProperties = properties.get(renderTarget.texture);\n            if (!renderTarget) return;\n\n            if (textureProperties.__webglTexture !== undefined) {\n                _gl.deleteTexture(textureProperties.__webglTexture);\n            }\n\n            if (renderTarget.depthTexture) {\n                renderTarget.depthTexture.dispose();\n            }\n\n            if (renderTarget.isWebGLCubeRenderTarget) {\n                for (var i = 0; i < 6; i++) {\n                    _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n\n                    if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);\n                }\n            } else {\n                _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n\n                if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n                if (renderTargetProperties.__webglMultisampledFramebuffer) _gl.deleteFramebuffer(renderTargetProperties.__webglMultisampledFramebuffer);\n                if (renderTargetProperties.__webglColorRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglColorRenderbuffer);\n                if (renderTargetProperties.__webglDepthRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthRenderbuffer);\n            }\n\n            properties.remove(renderTarget.texture);\n            properties.remove(renderTarget);\n        } //\n\n\n        var textureUnits = 0;\n\n        function resetTextureUnits() {\n            textureUnits = 0;\n        }\n\n        function allocateTextureUnit() {\n            var textureUnit = textureUnits;\n\n            if (textureUnit >= maxTextures) {\n                console.warn('THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures);\n            }\n\n            textureUnits += 1;\n            return textureUnit;\n        } //\n\n\n        function setTexture2D(texture, slot) {\n            var textureProperties = properties.get(texture);\n            if (texture.isVideoTexture) updateVideoTexture(texture);\n\n            if (texture.version > 0 && textureProperties.__version !== texture.version) {\n                var image = texture.image;\n\n                if (image === undefined) {\n                    console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined');\n                } else if (image.complete === false) {\n                    console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete');\n                } else {\n                    uploadTexture(textureProperties, texture, slot);\n                    return;\n                }\n            }\n\n            state.activeTexture(33984 + slot);\n            state.bindTexture(3553, textureProperties.__webglTexture);\n        }\n\n        function setTexture2DArray(texture, slot) {\n            var textureProperties = properties.get(texture);\n\n            if (texture.version > 0 && textureProperties.__version !== texture.version) {\n                uploadTexture(textureProperties, texture, slot);\n                return;\n            }\n\n            state.activeTexture(33984 + slot);\n            state.bindTexture(35866, textureProperties.__webglTexture);\n        }\n\n        function setTexture3D(texture, slot) {\n            var textureProperties = properties.get(texture);\n\n            if (texture.version > 0 && textureProperties.__version !== texture.version) {\n                uploadTexture(textureProperties, texture, slot);\n                return;\n            }\n\n            state.activeTexture(33984 + slot);\n            state.bindTexture(32879, textureProperties.__webglTexture);\n        }\n\n        function setTextureCube(texture, slot) {\n            var textureProperties = properties.get(texture);\n\n            if (texture.version > 0 && textureProperties.__version !== texture.version) {\n                uploadCubeTexture(textureProperties, texture, slot);\n                return;\n            }\n\n            state.activeTexture(33984 + slot);\n            state.bindTexture(34067, textureProperties.__webglTexture);\n        }\n\n        var wrappingToGL = (_wrappingToGL = {}, _wrappingToGL[RepeatWrapping] = 10497, _wrappingToGL[ClampToEdgeWrapping] = 33071, _wrappingToGL[MirroredRepeatWrapping] = 33648, _wrappingToGL);\n        var filterToGL = (_filterToGL = {}, _filterToGL[NearestFilter] = 9728, _filterToGL[NearestMipmapNearestFilter] = 9984, _filterToGL[NearestMipmapLinearFilter] = 9986, _filterToGL[LinearFilter] = 9729, _filterToGL[LinearMipmapNearestFilter] = 9985, _filterToGL[LinearMipmapLinearFilter] = 9987, _filterToGL);\n\n        function setTextureParameters(textureType, texture, supportsMips) {\n            if (supportsMips) {\n                _gl.texParameteri(textureType, 10242, wrappingToGL[texture.wrapS]);\n\n                _gl.texParameteri(textureType, 10243, wrappingToGL[texture.wrapT]);\n\n                if (textureType === 32879 || textureType === 35866) {\n                    _gl.texParameteri(textureType, 32882, wrappingToGL[texture.wrapR]);\n                }\n\n                _gl.texParameteri(textureType, 10240, filterToGL[texture.magFilter]);\n\n                _gl.texParameteri(textureType, 10241, filterToGL[texture.minFilter]);\n            } else {\n                _gl.texParameteri(textureType, 10242, 33071);\n\n                _gl.texParameteri(textureType, 10243, 33071);\n\n                if (textureType === 32879 || textureType === 35866) {\n                    _gl.texParameteri(textureType, 32882, 33071);\n                }\n\n                if (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {\n                    console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.');\n                }\n\n                _gl.texParameteri(textureType, 10240, filterFallback(texture.magFilter));\n\n                _gl.texParameteri(textureType, 10241, filterFallback(texture.minFilter));\n\n                if (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n                    console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.');\n                }\n            }\n\n            var extension = extensions.get('EXT_texture_filter_anisotropic');\n\n            if (extension) {\n                if (texture.type === FloatType && extensions.get('OES_texture_float_linear') === null) return;\n                if (texture.type === HalfFloatType && (isWebGL2 || extensions.get('OES_texture_half_float_linear')) === null) return;\n\n                if (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {\n                    _gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));\n\n                    properties.get(texture).__currentAnisotropy = texture.anisotropy;\n                }\n            }\n        }\n\n        function initTexture(textureProperties, texture) {\n            if (textureProperties.__webglInit === undefined) {\n                textureProperties.__webglInit = true;\n                texture.addEventListener('dispose', onTextureDispose);\n                textureProperties.__webglTexture = _gl.createTexture();\n                info.memory.textures++;\n            }\n        }\n\n        function uploadTexture(textureProperties, texture, slot) {\n            var textureType = 3553;\n            if (texture.isDataTexture2DArray) textureType = 35866;\n            if (texture.isDataTexture3D) textureType = 32879;\n            initTexture(textureProperties, texture);\n            state.activeTexture(33984 + slot);\n            state.bindTexture(textureType, textureProperties.__webglTexture);\n\n            _gl.pixelStorei(37440, texture.flipY);\n\n            _gl.pixelStorei(37441, texture.premultiplyAlpha);\n\n            _gl.pixelStorei(3317, texture.unpackAlignment);\n\n            var needsPowerOfTwo = textureNeedsPowerOfTwo(texture) && isPowerOfTwo(texture.image) === false;\n            var image = resizeImage(texture.image, needsPowerOfTwo, false, maxTextureSize);\n            var supportsMips = isPowerOfTwo(image) || isWebGL2,\n                glFormat = utils.convert(texture.format);\n            var glType = utils.convert(texture.type),\n                glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n            setTextureParameters(textureType, texture, supportsMips);\n            var mipmap;\n            var mipmaps = texture.mipmaps;\n\n            if (texture.isDepthTexture) {\n                // populate depth texture with dummy data\n                glInternalFormat = 6402;\n\n                if (isWebGL2) {\n                    if (texture.type === FloatType) {\n                        glInternalFormat = 36012;\n                    } else if (texture.type === UnsignedIntType) {\n                        glInternalFormat = 33190;\n                    } else if (texture.type === UnsignedInt248Type) {\n                        glInternalFormat = 35056;\n                    } else {\n                        glInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n                    }\n                } else {\n                    if (texture.type === FloatType) {\n                        console.error('WebGLRenderer: Floating point depth texture requires WebGL2.');\n                    }\n                } // validation checks for WebGL 1\n\n\n                if (texture.format === DepthFormat && glInternalFormat === 6402) {\n                    // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n                    // DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n                    // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n                    if (texture.type !== UnsignedShortType && texture.type !== UnsignedIntType) {\n                        console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');\n                        texture.type = UnsignedShortType;\n                        glType = utils.convert(texture.type);\n                    }\n                }\n\n                if (texture.format === DepthStencilFormat && glInternalFormat === 6402) {\n                    // Depth stencil textures need the DEPTH_STENCIL internal format\n                    // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n                    glInternalFormat = 34041; // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n                    // DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n                    // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\n                    if (texture.type !== UnsignedInt248Type) {\n                        console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');\n                        texture.type = UnsignedInt248Type;\n                        glType = utils.convert(texture.type);\n                    }\n                } //\n\n\n                state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null);\n            } else if (texture.isDataTexture) {\n                // use manually created mipmaps if available\n                // if there are no manual mipmaps\n                // set 0 level mipmap and then use GL to generate other mipmap levels\n                if (mipmaps.length > 0 && supportsMips) {\n                    for (var i = 0, il = mipmaps.length; i < il; i++) {\n                        mipmap = mipmaps[i];\n                        state.texImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n                    }\n\n                    texture.generateMipmaps = false;\n                    textureProperties.__maxMipLevel = mipmaps.length - 1;\n                } else {\n                    state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data);\n                    textureProperties.__maxMipLevel = 0;\n                }\n            } else if (texture.isCompressedTexture) {\n                for (var _i = 0, _il = mipmaps.length; _i < _il; _i++) {\n                    mipmap = mipmaps[_i];\n\n                    if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n                        if (glFormat !== null) {\n                            state.compressedTexImage2D(3553, _i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n                        } else {\n                            console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');\n                        }\n                    } else {\n                        state.texImage2D(3553, _i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n                    }\n                }\n\n                textureProperties.__maxMipLevel = mipmaps.length - 1;\n            } else if (texture.isDataTexture2DArray) {\n                state.texImage3D(35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n                textureProperties.__maxMipLevel = 0;\n            } else if (texture.isDataTexture3D) {\n                state.texImage3D(32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n                textureProperties.__maxMipLevel = 0;\n            } else {\n                // regular Texture (image, video, canvas)\n                // use manually created mipmaps if available\n                // if there are no manual mipmaps\n                // set 0 level mipmap and then use GL to generate other mipmap levels\n                if (mipmaps.length > 0 && supportsMips) {\n                    for (var _i2 = 0, _il2 = mipmaps.length; _i2 < _il2; _i2++) {\n                        mipmap = mipmaps[_i2];\n                        state.texImage2D(3553, _i2, glInternalFormat, glFormat, glType, mipmap);\n                    }\n\n                    texture.generateMipmaps = false;\n                    textureProperties.__maxMipLevel = mipmaps.length - 1;\n                } else {\n                    state.texImage2D(3553, 0, glInternalFormat, glFormat, glType, image);\n                    textureProperties.__maxMipLevel = 0;\n                }\n            }\n\n            if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n                generateMipmap(textureType, texture, image.width, image.height);\n            }\n\n            textureProperties.__version = texture.version;\n            if (texture.onUpdate) texture.onUpdate(texture);\n        }\n\n        function uploadCubeTexture(textureProperties, texture, slot) {\n            if (texture.image.length !== 6) return;\n            initTexture(textureProperties, texture);\n            state.activeTexture(33984 + slot);\n            state.bindTexture(34067, textureProperties.__webglTexture);\n\n            _gl.pixelStorei(37440, texture.flipY);\n\n            var isCompressed = texture && (texture.isCompressedTexture || texture.image[0].isCompressedTexture);\n            var isDataTexture = texture.image[0] && texture.image[0].isDataTexture;\n            var cubeImage = [];\n\n            for (var i = 0; i < 6; i++) {\n                if (!isCompressed && !isDataTexture) {\n                    cubeImage[i] = resizeImage(texture.image[i], false, true, maxCubemapSize);\n                } else {\n                    cubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];\n                }\n            }\n\n            var image = cubeImage[0],\n                supportsMips = isPowerOfTwo(image) || isWebGL2,\n                glFormat = utils.convert(texture.format),\n                glType = utils.convert(texture.type),\n                glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n            setTextureParameters(34067, texture, supportsMips);\n            var mipmaps;\n\n            if (isCompressed) {\n                for (var _i3 = 0; _i3 < 6; _i3++) {\n                    mipmaps = cubeImage[_i3].mipmaps;\n\n                    for (var j = 0; j < mipmaps.length; j++) {\n                        var mipmap = mipmaps[j];\n\n                        if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n                            if (glFormat !== null) {\n                                state.compressedTexImage2D(34069 + _i3, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n                            } else {\n                                console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');\n                            }\n                        } else {\n                            state.texImage2D(34069 + _i3, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n                        }\n                    }\n                }\n\n                textureProperties.__maxMipLevel = mipmaps.length - 1;\n            } else {\n                mipmaps = texture.mipmaps;\n\n                for (var _i4 = 0; _i4 < 6; _i4++) {\n                    if (isDataTexture) {\n                        state.texImage2D(34069 + _i4, 0, glInternalFormat, cubeImage[_i4].width, cubeImage[_i4].height, 0, glFormat, glType, cubeImage[_i4].data);\n\n                        for (var _j = 0; _j < mipmaps.length; _j++) {\n                            var _mipmap = mipmaps[_j];\n                            var mipmapImage = _mipmap.image[_i4].image;\n                            state.texImage2D(34069 + _i4, _j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data);\n                        }\n                    } else {\n                        state.texImage2D(34069 + _i4, 0, glInternalFormat, glFormat, glType, cubeImage[_i4]);\n\n                        for (var _j2 = 0; _j2 < mipmaps.length; _j2++) {\n                            var _mipmap2 = mipmaps[_j2];\n                            state.texImage2D(34069 + _i4, _j2 + 1, glInternalFormat, glFormat, glType, _mipmap2.image[_i4]);\n                        }\n                    }\n                }\n\n                textureProperties.__maxMipLevel = mipmaps.length;\n            }\n\n            if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n                // We assume images for cube map have the same size.\n                generateMipmap(34067, texture, image.width, image.height);\n            }\n\n            textureProperties.__version = texture.version;\n            if (texture.onUpdate) texture.onUpdate(texture);\n        } // Render targets\n        // Setup storage for target texture and bind it to correct framebuffer\n\n\n        function setupFrameBufferTexture(framebuffer, renderTarget, attachment, textureTarget) {\n            var glFormat = utils.convert(renderTarget.texture.format);\n            var glType = utils.convert(renderTarget.texture.type);\n            var glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n            state.texImage2D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);\n\n            _gl.bindFramebuffer(36160, framebuffer);\n\n            _gl.framebufferTexture2D(36160, attachment, textureTarget, properties.get(renderTarget.texture).__webglTexture, 0);\n\n            _gl.bindFramebuffer(36160, null);\n        } // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\n\n        function setupRenderBufferStorage(renderbuffer, renderTarget, isMultisample) {\n            _gl.bindRenderbuffer(36161, renderbuffer);\n\n            if (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {\n                var glInternalFormat = 33189;\n\n                if (isMultisample) {\n                    var depthTexture = renderTarget.depthTexture;\n\n                    if (depthTexture && depthTexture.isDepthTexture) {\n                        if (depthTexture.type === FloatType) {\n                            glInternalFormat = 36012;\n                        } else if (depthTexture.type === UnsignedIntType) {\n                            glInternalFormat = 33190;\n                        }\n                    }\n\n                    var samples = getRenderTargetSamples(renderTarget);\n\n                    _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n                } else {\n                    _gl.renderbufferStorage(36161, glInternalFormat, renderTarget.width, renderTarget.height);\n                }\n\n                _gl.framebufferRenderbuffer(36160, 36096, 36161, renderbuffer);\n            } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n                if (isMultisample) {\n                    var _samples = getRenderTargetSamples(renderTarget);\n\n                    _gl.renderbufferStorageMultisample(36161, _samples, 35056, renderTarget.width, renderTarget.height);\n                } else {\n                    _gl.renderbufferStorage(36161, 34041, renderTarget.width, renderTarget.height);\n                }\n\n                _gl.framebufferRenderbuffer(36160, 33306, 36161, renderbuffer);\n            } else {\n                var glFormat = utils.convert(renderTarget.texture.format);\n                var glType = utils.convert(renderTarget.texture.type);\n\n                var _glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n\n                if (isMultisample) {\n                    var _samples2 = getRenderTargetSamples(renderTarget);\n\n                    _gl.renderbufferStorageMultisample(36161, _samples2, _glInternalFormat, renderTarget.width, renderTarget.height);\n                } else {\n                    _gl.renderbufferStorage(36161, _glInternalFormat, renderTarget.width, renderTarget.height);\n                }\n            }\n\n            _gl.bindRenderbuffer(36161, null);\n        } // Setup resources for a Depth Texture for a FBO (needs an extension)\n\n\n        function setupDepthTexture(framebuffer, renderTarget) {\n            var isCube = renderTarget && renderTarget.isWebGLCubeRenderTarget;\n            if (isCube) throw new Error('Depth Texture with cube render targets is not supported');\n\n            _gl.bindFramebuffer(36160, framebuffer);\n\n            if (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {\n                throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\n            } // upload an empty depth texture with framebuffer size\n\n\n            if (!properties.get(renderTarget.depthTexture).__webglTexture || renderTarget.depthTexture.image.width !== renderTarget.width || renderTarget.depthTexture.image.height !== renderTarget.height) {\n                renderTarget.depthTexture.image.width = renderTarget.width;\n                renderTarget.depthTexture.image.height = renderTarget.height;\n                renderTarget.depthTexture.needsUpdate = true;\n            }\n\n            setTexture2D(renderTarget.depthTexture, 0);\n\n            var webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;\n\n            if (renderTarget.depthTexture.format === DepthFormat) {\n                _gl.framebufferTexture2D(36160, 36096, 3553, webglDepthTexture, 0);\n            } else if (renderTarget.depthTexture.format === DepthStencilFormat) {\n                _gl.framebufferTexture2D(36160, 33306, 3553, webglDepthTexture, 0);\n            } else {\n                throw new Error('Unknown depthTexture format');\n            }\n        } // Setup GL resources for a non-texture depth buffer\n\n\n        function setupDepthRenderbuffer(renderTarget) {\n            var renderTargetProperties = properties.get(renderTarget);\n            var isCube = renderTarget.isWebGLCubeRenderTarget === true;\n\n            if (renderTarget.depthTexture) {\n                if (isCube) throw new Error('target.depthTexture not supported in Cube render targets');\n                setupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);\n            } else {\n                if (isCube) {\n                    renderTargetProperties.__webglDepthbuffer = [];\n\n                    for (var i = 0; i < 6; i++) {\n                        _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer[i]);\n\n                        renderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();\n                        setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget, false);\n                    }\n                } else {\n                    _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer);\n\n                    renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n                    setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget, false);\n                }\n            }\n\n            _gl.bindFramebuffer(36160, null);\n        } // Set up GL resources for the render target\n\n\n        function setupRenderTarget(renderTarget) {\n            var renderTargetProperties = properties.get(renderTarget);\n            var textureProperties = properties.get(renderTarget.texture);\n            renderTarget.addEventListener('dispose', onRenderTargetDispose);\n            textureProperties.__webglTexture = _gl.createTexture();\n            info.memory.textures++;\n            var isCube = renderTarget.isWebGLCubeRenderTarget === true;\n            var isMultisample = renderTarget.isWebGLMultisampleRenderTarget === true;\n            var supportsMips = isPowerOfTwo(renderTarget) || isWebGL2; // Handles WebGL2 RGBFormat fallback - #18858\n\n            if (isWebGL2 && renderTarget.texture.format === RGBFormat && (renderTarget.texture.type === FloatType || renderTarget.texture.type === HalfFloatType)) {\n                renderTarget.texture.format = RGBAFormat;\n                console.warn('THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.');\n            } // Setup framebuffer\n\n\n            if (isCube) {\n                renderTargetProperties.__webglFramebuffer = [];\n\n                for (var i = 0; i < 6; i++) {\n                    renderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();\n                }\n            } else {\n                renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n                if (isMultisample) {\n                    if (isWebGL2) {\n                        renderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n                        renderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n                        _gl.bindRenderbuffer(36161, renderTargetProperties.__webglColorRenderbuffer);\n\n                        var glFormat = utils.convert(renderTarget.texture.format);\n                        var glType = utils.convert(renderTarget.texture.type);\n                        var glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n                        var samples = getRenderTargetSamples(renderTarget);\n\n                        _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n                        _gl.bindFramebuffer(36160, renderTargetProperties.__webglMultisampledFramebuffer);\n\n                        _gl.framebufferRenderbuffer(36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer);\n\n                        _gl.bindRenderbuffer(36161, null);\n\n                        if (renderTarget.depthBuffer) {\n                            renderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n                            setupRenderBufferStorage(renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true);\n                        }\n\n                        _gl.bindFramebuffer(36160, null);\n                    } else {\n                        console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n                    }\n                }\n            } // Setup color buffer\n\n\n            if (isCube) {\n                state.bindTexture(34067, textureProperties.__webglTexture);\n                setTextureParameters(34067, renderTarget.texture, supportsMips);\n\n                for (var _i5 = 0; _i5 < 6; _i5++) {\n                    setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[_i5], renderTarget, 36064, 34069 + _i5);\n                }\n\n                if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {\n                    generateMipmap(34067, renderTarget.texture, renderTarget.width, renderTarget.height);\n                }\n\n                state.bindTexture(34067, null);\n            } else {\n                state.bindTexture(3553, textureProperties.__webglTexture);\n                setTextureParameters(3553, renderTarget.texture, supportsMips);\n                setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553);\n\n                if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {\n                    generateMipmap(3553, renderTarget.texture, renderTarget.width, renderTarget.height);\n                }\n\n                state.bindTexture(3553, null);\n            } // Setup depth and stencil buffers\n\n\n            if (renderTarget.depthBuffer) {\n                setupDepthRenderbuffer(renderTarget);\n            }\n        }\n\n        function updateRenderTargetMipmap(renderTarget) {\n            var texture = renderTarget.texture;\n            var supportsMips = isPowerOfTwo(renderTarget) || isWebGL2;\n\n            if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n                var target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\n                var webglTexture = properties.get(texture).__webglTexture;\n\n                state.bindTexture(target, webglTexture);\n                generateMipmap(target, texture, renderTarget.width, renderTarget.height);\n                state.bindTexture(target, null);\n            }\n        }\n\n        function updateMultisampleRenderTarget(renderTarget) {\n            if (renderTarget.isWebGLMultisampleRenderTarget) {\n                if (isWebGL2) {\n                    var renderTargetProperties = properties.get(renderTarget);\n\n                    _gl.bindFramebuffer(36008, renderTargetProperties.__webglMultisampledFramebuffer);\n\n                    _gl.bindFramebuffer(36009, renderTargetProperties.__webglFramebuffer);\n\n                    var width = renderTarget.width;\n                    var height = renderTarget.height;\n                    var mask = 16384;\n                    if (renderTarget.depthBuffer) mask |= 256;\n                    if (renderTarget.stencilBuffer) mask |= 1024;\n\n                    _gl.blitFramebuffer(0, 0, width, height, 0, 0, width, height, mask, 9728);\n\n                    _gl.bindFramebuffer(36160, renderTargetProperties.__webglMultisampledFramebuffer); // see #18905\n\n                } else {\n                    console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n                }\n            }\n        }\n\n        function getRenderTargetSamples(renderTarget) {\n            return isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ? Math.min(maxSamples, renderTarget.samples) : 0;\n        }\n\n        function updateVideoTexture(texture) {\n            var frame = info.render.frame; // Check the last frame we updated the VideoTexture\n\n            if (_videoTextures.get(texture) !== frame) {\n                _videoTextures.set(texture, frame);\n\n                texture.update();\n            }\n        } // backwards compatibility\n\n\n        var warnedTexture2D = false;\n        var warnedTextureCube = false;\n\n        function safeSetTexture2D(texture, slot) {\n            if (texture && texture.isWebGLRenderTarget) {\n                if (warnedTexture2D === false) {\n                    console.warn(\"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\");\n                    warnedTexture2D = true;\n                }\n\n                texture = texture.texture;\n            }\n\n            setTexture2D(texture, slot);\n        }\n\n        function safeSetTextureCube(texture, slot) {\n            if (texture && texture.isWebGLCubeRenderTarget) {\n                if (warnedTextureCube === false) {\n                    console.warn(\"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\");\n                    warnedTextureCube = true;\n                }\n\n                texture = texture.texture;\n            }\n\n            setTextureCube(texture, slot);\n        } //\n\n\n        this.allocateTextureUnit = allocateTextureUnit;\n        this.resetTextureUnits = resetTextureUnits;\n        this.setTexture2D = setTexture2D;\n        this.setTexture2DArray = setTexture2DArray;\n        this.setTexture3D = setTexture3D;\n        this.setTextureCube = setTextureCube;\n        this.setupRenderTarget = setupRenderTarget;\n        this.updateRenderTargetMipmap = updateRenderTargetMipmap;\n        this.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n        this.safeSetTexture2D = safeSetTexture2D;\n        this.safeSetTextureCube = safeSetTextureCube;\n    }\n\n    function WebGLUtils(gl, extensions, capabilities) {\n        var isWebGL2 = capabilities.isWebGL2;\n\n        function convert(p) {\n            var extension;\n            if (p === UnsignedByteType) return 5121;\n            if (p === UnsignedShort4444Type) return 32819;\n            if (p === UnsignedShort5551Type) return 32820;\n            if (p === UnsignedShort565Type) return 33635;\n            if (p === ByteType) return 5120;\n            if (p === ShortType) return 5122;\n            if (p === UnsignedShortType) return 5123;\n            if (p === IntType) return 5124;\n            if (p === UnsignedIntType) return 5125;\n            if (p === FloatType) return 5126;\n\n            if (p === HalfFloatType) {\n                if (isWebGL2) return 5131;\n                extension = extensions.get('OES_texture_half_float');\n\n                if (extension !== null) {\n                    return extension.HALF_FLOAT_OES;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === AlphaFormat) return 6406;\n            if (p === RGBFormat) return 6407;\n            if (p === RGBAFormat) return 6408;\n            if (p === LuminanceFormat) return 6409;\n            if (p === LuminanceAlphaFormat) return 6410;\n            if (p === DepthFormat) return 6402;\n            if (p === DepthStencilFormat) return 34041;\n            if (p === RedFormat) return 6403; // WebGL2 formats.\n\n            if (p === RedIntegerFormat) return 36244;\n            if (p === RGFormat) return 33319;\n            if (p === RGIntegerFormat) return 33320;\n            if (p === RGBIntegerFormat) return 36248;\n            if (p === RGBAIntegerFormat) return 36249;\n\n            if (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_s3tc');\n\n                if (extension !== null) {\n                    if (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n                    if (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n                    if (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n                    if (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_pvrtc');\n\n                if (extension !== null) {\n                    if (p === RGB_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n                    if (p === RGB_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n                    if (p === RGBA_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n                    if (p === RGBA_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === RGB_ETC1_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_etc1');\n\n                if (extension !== null) {\n                    return extension.COMPRESSED_RGB_ETC1_WEBGL;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_etc');\n\n                if (extension !== null) {\n                    if (p === RGB_ETC2_Format) return extension.COMPRESSED_RGB8_ETC2;\n                    if (p === RGBA_ETC2_EAC_Format) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n                }\n            }\n\n            if (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format || p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format || p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format || p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format || p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format || p === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format || p === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format || p === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format || p === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format || p === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_astc');\n\n                if (extension !== null) {\n                    // TODO Complete?\n                    return p;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === RGBA_BPTC_Format) {\n                extension = extensions.get('EXT_texture_compression_bptc');\n\n                if (extension !== null) {\n                    // TODO Complete?\n                    return p;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === UnsignedInt248Type) {\n                if (isWebGL2) return 34042;\n                extension = extensions.get('WEBGL_depth_texture');\n\n                if (extension !== null) {\n                    return extension.UNSIGNED_INT_24_8_WEBGL;\n                } else {\n                    return null;\n                }\n            }\n        }\n\n        return {\n            convert: convert\n        };\n    }\n\n    function ArrayCamera(array) {\n        PerspectiveCamera.call(this);\n        this.cameras = array || [];\n    }\n\n    ArrayCamera.prototype = Object.assign(Object.create(PerspectiveCamera.prototype), {\n        constructor: ArrayCamera,\n        isArrayCamera: true\n    });\n\n    function Group() {\n        Object3D.call(this);\n        this.type = 'Group';\n    }\n\n    Group.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Group,\n        isGroup: true\n    });\n\n    function WebXRController() {\n        this._targetRay = null;\n        this._grip = null;\n        this._hand = null;\n    }\n\n    Object.assign(WebXRController.prototype, {\n        constructor: WebXRController,\n        getHandSpace: function getHandSpace() {\n            if (this._hand === null) {\n                this._hand = new Group();\n                this._hand.matrixAutoUpdate = false;\n                this._hand.visible = false;\n                this._hand.joints = [];\n                this._hand.inputState = {\n                    pinching: false\n                };\n\n                if (window.XRHand) {\n                    for (var i = 0; i <= window.XRHand.LITTLE_PHALANX_TIP; i++) {\n                        // The transform of this joint will be updated with the joint pose on each frame\n                        var joint = new Group();\n                        joint.matrixAutoUpdate = false;\n                        joint.visible = false;\n\n                        this._hand.joints.push(joint); // ??\n\n\n                        this._hand.add(joint);\n                    }\n                }\n            }\n\n            return this._hand;\n        },\n        getTargetRaySpace: function getTargetRaySpace() {\n            if (this._targetRay === null) {\n                this._targetRay = new Group();\n                this._targetRay.matrixAutoUpdate = false;\n                this._targetRay.visible = false;\n            }\n\n            return this._targetRay;\n        },\n        getGripSpace: function getGripSpace() {\n            if (this._grip === null) {\n                this._grip = new Group();\n                this._grip.matrixAutoUpdate = false;\n                this._grip.visible = false;\n            }\n\n            return this._grip;\n        },\n        dispatchEvent: function dispatchEvent(event) {\n            if (this._targetRay !== null) {\n                this._targetRay.dispatchEvent(event);\n            }\n\n            if (this._grip !== null) {\n                this._grip.dispatchEvent(event);\n            }\n\n            if (this._hand !== null) {\n                this._hand.dispatchEvent(event);\n            }\n\n            return this;\n        },\n        disconnect: function disconnect(inputSource) {\n            this.dispatchEvent({\n                type: 'disconnected',\n                data: inputSource\n            });\n\n            if (this._targetRay !== null) {\n                this._targetRay.visible = false;\n            }\n\n            if (this._grip !== null) {\n                this._grip.visible = false;\n            }\n\n            if (this._hand !== null) {\n                this._hand.visible = false;\n            }\n\n            return this;\n        },\n        update: function update(inputSource, frame, referenceSpace) {\n            var inputPose = null;\n            var gripPose = null;\n            var handPose = null;\n            var targetRay = this._targetRay;\n            var grip = this._grip;\n            var hand = this._hand;\n\n            if (inputSource) {\n                if (hand && inputSource.hand) {\n                    handPose = true;\n\n                    for (var i = 0; i <= window.XRHand.LITTLE_PHALANX_TIP; i++) {\n                        if (inputSource.hand[i]) {\n                            // Update the joints groups with the XRJoint poses\n                            var jointPose = frame.getJointPose(inputSource.hand[i], referenceSpace);\n                            var joint = hand.joints[i];\n\n                            if (jointPose !== null) {\n                                joint.matrix.fromArray(jointPose.transform.matrix);\n                                joint.matrix.decompose(joint.position, joint.rotation, joint.scale);\n                                joint.jointRadius = jointPose.radius;\n                            }\n\n                            joint.visible = jointPose !== null; // Custom events\n                            // Check pinch\n\n                            var indexTip = hand.joints[window.XRHand.INDEX_PHALANX_TIP];\n                            var thumbTip = hand.joints[window.XRHand.THUMB_PHALANX_TIP];\n                            var distance = indexTip.position.distanceTo(thumbTip.position);\n                            var distanceToPinch = 0.02;\n                            var threshold = 0.005;\n\n                            if (hand.inputState.pinching && distance > distanceToPinch + threshold) {\n                                hand.inputState.pinching = false;\n                                this.dispatchEvent({\n                                    type: \"pinchend\",\n                                    handedness: inputSource.handedness,\n                                    target: this\n                                });\n                            } else if (!hand.inputState.pinching && distance <= distanceToPinch - threshold) {\n                                hand.inputState.pinching = true;\n                                this.dispatchEvent({\n                                    type: \"pinchstart\",\n                                    handedness: inputSource.handedness,\n                                    target: this\n                                });\n                            }\n                        }\n                    }\n                } else {\n                    if (targetRay !== null) {\n                        inputPose = frame.getPose(inputSource.targetRaySpace, referenceSpace);\n\n                        if (inputPose !== null) {\n                            targetRay.matrix.fromArray(inputPose.transform.matrix);\n                            targetRay.matrix.decompose(targetRay.position, targetRay.rotation, targetRay.scale);\n                        }\n                    }\n\n                    if (grip !== null && inputSource.gripSpace) {\n                        gripPose = frame.getPose(inputSource.gripSpace, referenceSpace);\n\n                        if (gripPose !== null) {\n                            grip.matrix.fromArray(gripPose.transform.matrix);\n                            grip.matrix.decompose(grip.position, grip.rotation, grip.scale);\n                        }\n                    }\n                }\n            }\n\n            if (targetRay !== null) {\n                targetRay.visible = inputPose !== null;\n            }\n\n            if (grip !== null) {\n                grip.visible = gripPose !== null;\n            }\n\n            if (hand !== null) {\n                hand.visible = handPose !== null;\n            }\n\n            return this;\n        }\n    });\n\n    function WebXRManager(renderer, gl) {\n        var scope = this;\n        var session = null;\n        var framebufferScaleFactor = 1.0;\n        var referenceSpace = null;\n        var referenceSpaceType = 'local-floor';\n        var pose = null;\n        var controllers = [];\n        var inputSourcesMap = new Map(); //\n\n        var cameraL = new PerspectiveCamera();\n        cameraL.layers.enable(1);\n        cameraL.viewport = new Vector4();\n        var cameraR = new PerspectiveCamera();\n        cameraR.layers.enable(2);\n        cameraR.viewport = new Vector4();\n        var cameras = [cameraL, cameraR];\n        var cameraVR = new ArrayCamera();\n        cameraVR.layers.enable(1);\n        cameraVR.layers.enable(2);\n        var _currentDepthNear = null;\n        var _currentDepthFar = null; //\n\n        this.enabled = false;\n        this.isPresenting = false;\n\n        this.getController = function (index) {\n            var controller = controllers[index];\n\n            if (controller === undefined) {\n                controller = new WebXRController();\n                controllers[index] = controller;\n            }\n\n            return controller.getTargetRaySpace();\n        };\n\n        this.getControllerGrip = function (index) {\n            var controller = controllers[index];\n\n            if (controller === undefined) {\n                controller = new WebXRController();\n                controllers[index] = controller;\n            }\n\n            return controller.getGripSpace();\n        };\n\n        this.getHand = function (index) {\n            var controller = controllers[index];\n\n            if (controller === undefined) {\n                controller = new WebXRController();\n                controllers[index] = controller;\n            }\n\n            return controller.getHandSpace();\n        }; //\n\n\n        function onSessionEvent(event) {\n            var controller = inputSourcesMap.get(event.inputSource);\n\n            if (controller) {\n                controller.dispatchEvent({\n                    type: event.type,\n                    data: event.inputSource\n                });\n            }\n        }\n\n        function onSessionEnd() {\n            inputSourcesMap.forEach(function (controller, inputSource) {\n                controller.disconnect(inputSource);\n            });\n            inputSourcesMap.clear(); //\n\n            renderer.setFramebuffer(null);\n            renderer.setRenderTarget(renderer.getRenderTarget()); // Hack #15830\n\n            animation.stop();\n            scope.isPresenting = false;\n            scope.dispatchEvent({\n                type: 'sessionend'\n            });\n        }\n\n        function onRequestReferenceSpace(value) {\n            referenceSpace = value;\n            animation.setContext(session);\n            animation.start();\n            scope.isPresenting = true;\n            scope.dispatchEvent({\n                type: 'sessionstart'\n            });\n        }\n\n        this.setFramebufferScaleFactor = function (value) {\n            framebufferScaleFactor = value;\n\n            if (scope.isPresenting === true) {\n                console.warn('THREE.WebXRManager: Cannot change framebuffer scale while presenting.');\n            }\n        };\n\n        this.setReferenceSpaceType = function (value) {\n            referenceSpaceType = value;\n\n            if (scope.isPresenting === true) {\n                console.warn('THREE.WebXRManager: Cannot change reference space type while presenting.');\n            }\n        };\n\n        this.getReferenceSpace = function () {\n            return referenceSpace;\n        };\n\n        this.getSession = function () {\n            return session;\n        };\n\n        this.setSession = function (value) {\n            session = value;\n\n            if (session !== null) {\n                session.addEventListener('select', onSessionEvent);\n                session.addEventListener('selectstart', onSessionEvent);\n                session.addEventListener('selectend', onSessionEvent);\n                session.addEventListener('squeeze', onSessionEvent);\n                session.addEventListener('squeezestart', onSessionEvent);\n                session.addEventListener('squeezeend', onSessionEvent);\n                session.addEventListener('end', onSessionEnd);\n                var attributes = gl.getContextAttributes();\n\n                if (attributes.xrCompatible !== true) {\n                    gl.makeXRCompatible();\n                }\n\n                var layerInit = {\n                    antialias: attributes.antialias,\n                    alpha: attributes.alpha,\n                    depth: attributes.depth,\n                    stencil: attributes.stencil,\n                    framebufferScaleFactor: framebufferScaleFactor\n                }; // eslint-disable-next-line no-undef\n\n                var baseLayer = new XRWebGLLayer(session, gl, layerInit);\n                session.updateRenderState({\n                    baseLayer: baseLayer\n                });\n                session.requestReferenceSpace(referenceSpaceType).then(onRequestReferenceSpace); //\n\n                session.addEventListener('inputsourceschange', updateInputSources);\n            }\n        };\n\n        function updateInputSources(event) {\n            var inputSources = session.inputSources; // Assign inputSources to available controllers\n\n            for (var i = 0; i < controllers.length; i++) {\n                inputSourcesMap.set(inputSources[i], controllers[i]);\n            } // Notify disconnected\n\n\n            for (var _i = 0; _i < event.removed.length; _i++) {\n                var inputSource = event.removed[_i];\n                var controller = inputSourcesMap.get(inputSource);\n\n                if (controller) {\n                    controller.dispatchEvent({\n                        type: 'disconnected',\n                        data: inputSource\n                    });\n                    inputSourcesMap.delete(inputSource);\n                }\n            } // Notify connected\n\n\n            for (var _i2 = 0; _i2 < event.added.length; _i2++) {\n                var _inputSource = event.added[_i2];\n\n                var _controller = inputSourcesMap.get(_inputSource);\n\n                if (_controller) {\n                    _controller.dispatchEvent({\n                        type: 'connected',\n                        data: _inputSource\n                    });\n                }\n            }\n        } //\n\n\n        var cameraLPos = new Vector3();\n        var cameraRPos = new Vector3();\n        /**\n         * Assumes 2 cameras that are parallel and share an X-axis, and that\n         * the cameras' projection and world matrices have already been set.\n         * And that near and far planes are identical for both cameras.\n         * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n         */\n\n        function setProjectionFromUnion(camera, cameraL, cameraR) {\n            cameraLPos.setFromMatrixPosition(cameraL.matrixWorld);\n            cameraRPos.setFromMatrixPosition(cameraR.matrixWorld);\n            var ipd = cameraLPos.distanceTo(cameraRPos);\n            var projL = cameraL.projectionMatrix.elements;\n            var projR = cameraR.projectionMatrix.elements; // VR systems will have identical far and near planes, and\n            // most likely identical top and bottom frustum extents.\n            // Use the left camera for these values.\n\n            var near = projL[14] / (projL[10] - 1);\n            var far = projL[14] / (projL[10] + 1);\n            var topFov = (projL[9] + 1) / projL[5];\n            var bottomFov = (projL[9] - 1) / projL[5];\n            var leftFov = (projL[8] - 1) / projL[0];\n            var rightFov = (projR[8] + 1) / projR[0];\n            var left = near * leftFov;\n            var right = near * rightFov; // Calculate the new camera's position offset from the\n            // left camera. xOffset should be roughly half `ipd`.\n\n            var zOffset = ipd / (-leftFov + rightFov);\n            var xOffset = zOffset * -leftFov; // TODO: Better way to apply this offset?\n\n            cameraL.matrixWorld.decompose(camera.position, camera.quaternion, camera.scale);\n            camera.translateX(xOffset);\n            camera.translateZ(zOffset);\n            camera.matrixWorld.compose(camera.position, camera.quaternion, camera.scale);\n            camera.matrixWorldInverse.getInverse(camera.matrixWorld); // Find the union of the frustum values of the cameras and scale\n            // the values so that the near plane's position does not change in world space,\n            // although must now be relative to the new union camera.\n\n            var near2 = near + zOffset;\n            var far2 = far + zOffset;\n            var left2 = left - xOffset;\n            var right2 = right + (ipd - xOffset);\n            var top2 = topFov * far / far2 * near2;\n            var bottom2 = bottomFov * far / far2 * near2;\n            camera.projectionMatrix.makePerspective(left2, right2, top2, bottom2, near2, far2);\n        }\n\n        function updateCamera(camera, parent) {\n            if (parent === null) {\n                camera.matrixWorld.copy(camera.matrix);\n            } else {\n                camera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);\n            }\n\n            camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n        }\n\n        this.getCamera = function (camera) {\n            cameraVR.near = cameraR.near = cameraL.near = camera.near;\n            cameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n            if (_currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far) {\n                // Note that the new renderState won't apply until the next frame. See #18320\n                session.updateRenderState({\n                    depthNear: cameraVR.near,\n                    depthFar: cameraVR.far\n                });\n                _currentDepthNear = cameraVR.near;\n                _currentDepthFar = cameraVR.far;\n            }\n\n            var parent = camera.parent;\n            var cameras = cameraVR.cameras;\n            updateCamera(cameraVR, parent);\n\n            for (var i = 0; i < cameras.length; i++) {\n                updateCamera(cameras[i], parent);\n            } // update camera and its children\n\n\n            camera.matrixWorld.copy(cameraVR.matrixWorld);\n            var children = camera.children;\n\n            for (var _i3 = 0, l = children.length; _i3 < l; _i3++) {\n                children[_i3].updateMatrixWorld(true);\n            } // update projection matrix for proper view frustum culling\n\n\n            if (cameras.length === 2) {\n                setProjectionFromUnion(cameraVR, cameraL, cameraR);\n            } else {\n                // assume single camera setup (AR)\n                cameraVR.projectionMatrix.copy(cameraL.projectionMatrix);\n            }\n\n            return cameraVR;\n        }; // Animation Loop\n\n\n        var onAnimationFrameCallback = null;\n\n        function onAnimationFrame(time, frame) {\n            pose = frame.getViewerPose(referenceSpace);\n\n            if (pose !== null) {\n                var views = pose.views;\n                var baseLayer = session.renderState.baseLayer;\n                renderer.setFramebuffer(baseLayer.framebuffer);\n                var cameraVRNeedsUpdate = false; // check if it's necessary to rebuild cameraVR's camera list\n\n                if (views.length !== cameraVR.cameras.length) {\n                    cameraVR.cameras.length = 0;\n                    cameraVRNeedsUpdate = true;\n                }\n\n                for (var i = 0; i < views.length; i++) {\n                    var view = views[i];\n                    var viewport = baseLayer.getViewport(view);\n                    var camera = cameras[i];\n                    camera.matrix.fromArray(view.transform.matrix);\n                    camera.projectionMatrix.fromArray(view.projectionMatrix);\n                    camera.viewport.set(viewport.x, viewport.y, viewport.width, viewport.height);\n\n                    if (i === 0) {\n                        cameraVR.matrix.copy(camera.matrix);\n                    }\n\n                    if (cameraVRNeedsUpdate === true) {\n                        cameraVR.cameras.push(camera);\n                    }\n                }\n            } //\n\n\n            var inputSources = session.inputSources;\n\n            for (var _i4 = 0; _i4 < controllers.length; _i4++) {\n                var controller = controllers[_i4];\n                var inputSource = inputSources[_i4];\n                controller.update(inputSource, frame, referenceSpace);\n            }\n\n            if (onAnimationFrameCallback) onAnimationFrameCallback(time, frame);\n        }\n\n        var animation = new WebGLAnimation();\n        animation.setAnimationLoop(onAnimationFrame);\n\n        this.setAnimationLoop = function (callback) {\n            onAnimationFrameCallback = callback;\n        };\n\n        this.dispose = function () {};\n    }\n\n    Object.assign(WebXRManager.prototype, EventDispatcher.prototype);\n\n    function WebGLMaterials(properties) {\n        function refreshFogUniforms(uniforms, fog) {\n            uniforms.fogColor.value.copy(fog.color);\n\n            if (fog.isFog) {\n                uniforms.fogNear.value = fog.near;\n                uniforms.fogFar.value = fog.far;\n            } else if (fog.isFogExp2) {\n                uniforms.fogDensity.value = fog.density;\n            }\n        }\n\n        function refreshMaterialUniforms(uniforms, material, pixelRatio, height) {\n            if (material.isMeshBasicMaterial) {\n                refreshUniformsCommon(uniforms, material);\n            } else if (material.isMeshLambertMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsLambert(uniforms, material);\n            } else if (material.isMeshToonMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsToon(uniforms, material);\n            } else if (material.isMeshPhongMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsPhong(uniforms, material);\n            } else if (material.isMeshStandardMaterial) {\n                refreshUniformsCommon(uniforms, material);\n\n                if (material.isMeshPhysicalMaterial) {\n                    refreshUniformsPhysical(uniforms, material);\n                } else {\n                    refreshUniformsStandard(uniforms, material);\n                }\n            } else if (material.isMeshMatcapMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsMatcap(uniforms, material);\n            } else if (material.isMeshDepthMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsDepth(uniforms, material);\n            } else if (material.isMeshDistanceMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsDistance(uniforms, material);\n            } else if (material.isMeshNormalMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsNormal(uniforms, material);\n            } else if (material.isLineBasicMaterial) {\n                refreshUniformsLine(uniforms, material);\n\n                if (material.isLineDashedMaterial) {\n                    refreshUniformsDash(uniforms, material);\n                }\n            } else if (material.isPointsMaterial) {\n                refreshUniformsPoints(uniforms, material, pixelRatio, height);\n            } else if (material.isSpriteMaterial) {\n                refreshUniformsSprites(uniforms, material);\n            } else if (material.isShadowMaterial) {\n                uniforms.color.value.copy(material.color);\n                uniforms.opacity.value = material.opacity;\n            } else if (material.isShaderMaterial) {\n                material.uniformsNeedUpdate = false; // #15581\n            }\n        }\n\n        function refreshUniformsCommon(uniforms, material) {\n            uniforms.opacity.value = material.opacity;\n\n            if (material.color) {\n                uniforms.diffuse.value.copy(material.color);\n            }\n\n            if (material.emissive) {\n                uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);\n            }\n\n            if (material.map) {\n                uniforms.map.value = material.map;\n            }\n\n            if (material.alphaMap) {\n                uniforms.alphaMap.value = material.alphaMap;\n            }\n\n            if (material.specularMap) {\n                uniforms.specularMap.value = material.specularMap;\n            }\n\n            var envMap = properties.get(material).envMap;\n\n            if (envMap) {\n                uniforms.envMap.value = envMap;\n                uniforms.flipEnvMap.value = envMap.isCubeTexture && envMap._needsFlipEnvMap ? -1 : 1;\n                uniforms.reflectivity.value = material.reflectivity;\n                uniforms.refractionRatio.value = material.refractionRatio;\n\n                var maxMipLevel = properties.get(envMap).__maxMipLevel;\n\n                if (maxMipLevel !== undefined) {\n                    uniforms.maxMipLevel.value = maxMipLevel;\n                }\n            }\n\n            if (material.lightMap) {\n                uniforms.lightMap.value = material.lightMap;\n                uniforms.lightMapIntensity.value = material.lightMapIntensity;\n            }\n\n            if (material.aoMap) {\n                uniforms.aoMap.value = material.aoMap;\n                uniforms.aoMapIntensity.value = material.aoMapIntensity;\n            } // uv repeat and offset setting priorities\n            // 1. color map\n            // 2. specular map\n            // 3. displacementMap map\n            // 4. normal map\n            // 5. bump map\n            // 6. roughnessMap map\n            // 7. metalnessMap map\n            // 8. alphaMap map\n            // 9. emissiveMap map\n            // 10. clearcoat map\n            // 11. clearcoat normal map\n            // 12. clearcoat roughnessMap map\n\n\n            var uvScaleMap;\n\n            if (material.map) {\n                uvScaleMap = material.map;\n            } else if (material.specularMap) {\n                uvScaleMap = material.specularMap;\n            } else if (material.displacementMap) {\n                uvScaleMap = material.displacementMap;\n            } else if (material.normalMap) {\n                uvScaleMap = material.normalMap;\n            } else if (material.bumpMap) {\n                uvScaleMap = material.bumpMap;\n            } else if (material.roughnessMap) {\n                uvScaleMap = material.roughnessMap;\n            } else if (material.metalnessMap) {\n                uvScaleMap = material.metalnessMap;\n            } else if (material.alphaMap) {\n                uvScaleMap = material.alphaMap;\n            } else if (material.emissiveMap) {\n                uvScaleMap = material.emissiveMap;\n            } else if (material.clearcoatMap) {\n                uvScaleMap = material.clearcoatMap;\n            } else if (material.clearcoatNormalMap) {\n                uvScaleMap = material.clearcoatNormalMap;\n            } else if (material.clearcoatRoughnessMap) {\n                uvScaleMap = material.clearcoatRoughnessMap;\n            }\n\n            if (uvScaleMap !== undefined) {\n                // backwards compatibility\n                if (uvScaleMap.isWebGLRenderTarget) {\n                    uvScaleMap = uvScaleMap.texture;\n                }\n\n                if (uvScaleMap.matrixAutoUpdate === true) {\n                    uvScaleMap.updateMatrix();\n                }\n\n                uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n            } // uv repeat and offset setting priorities for uv2\n            // 1. ao map\n            // 2. light map\n\n\n            var uv2ScaleMap;\n\n            if (material.aoMap) {\n                uv2ScaleMap = material.aoMap;\n            } else if (material.lightMap) {\n                uv2ScaleMap = material.lightMap;\n            }\n\n            if (uv2ScaleMap !== undefined) {\n                // backwards compatibility\n                if (uv2ScaleMap.isWebGLRenderTarget) {\n                    uv2ScaleMap = uv2ScaleMap.texture;\n                }\n\n                if (uv2ScaleMap.matrixAutoUpdate === true) {\n                    uv2ScaleMap.updateMatrix();\n                }\n\n                uniforms.uv2Transform.value.copy(uv2ScaleMap.matrix);\n            }\n        }\n\n        function refreshUniformsLine(uniforms, material) {\n            uniforms.diffuse.value.copy(material.color);\n            uniforms.opacity.value = material.opacity;\n        }\n\n        function refreshUniformsDash(uniforms, material) {\n            uniforms.dashSize.value = material.dashSize;\n            uniforms.totalSize.value = material.dashSize + material.gapSize;\n            uniforms.scale.value = material.scale;\n        }\n\n        function refreshUniformsPoints(uniforms, material, pixelRatio, height) {\n            uniforms.diffuse.value.copy(material.color);\n            uniforms.opacity.value = material.opacity;\n            uniforms.size.value = material.size * pixelRatio;\n            uniforms.scale.value = height * 0.5;\n\n            if (material.map) {\n                uniforms.map.value = material.map;\n            }\n\n            if (material.alphaMap) {\n                uniforms.alphaMap.value = material.alphaMap;\n            } // uv repeat and offset setting priorities\n            // 1. color map\n            // 2. alpha map\n\n\n            var uvScaleMap;\n\n            if (material.map) {\n                uvScaleMap = material.map;\n            } else if (material.alphaMap) {\n                uvScaleMap = material.alphaMap;\n            }\n\n            if (uvScaleMap !== undefined) {\n                if (uvScaleMap.matrixAutoUpdate === true) {\n                    uvScaleMap.updateMatrix();\n                }\n\n                uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n            }\n        }\n\n        function refreshUniformsSprites(uniforms, material) {\n            uniforms.diffuse.value.copy(material.color);\n            uniforms.opacity.value = material.opacity;\n            uniforms.rotation.value = material.rotation;\n\n            if (material.map) {\n                uniforms.map.value = material.map;\n            }\n\n            if (material.alphaMap) {\n                uniforms.alphaMap.value = material.alphaMap;\n            } // uv repeat and offset setting priorities\n            // 1. color map\n            // 2. alpha map\n\n\n            var uvScaleMap;\n\n            if (material.map) {\n                uvScaleMap = material.map;\n            } else if (material.alphaMap) {\n                uvScaleMap = material.alphaMap;\n            }\n\n            if (uvScaleMap !== undefined) {\n                if (uvScaleMap.matrixAutoUpdate === true) {\n                    uvScaleMap.updateMatrix();\n                }\n\n                uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n            }\n        }\n\n        function refreshUniformsLambert(uniforms, material) {\n            if (material.emissiveMap) {\n                uniforms.emissiveMap.value = material.emissiveMap;\n            }\n        }\n\n        function refreshUniformsPhong(uniforms, material) {\n            uniforms.specular.value.copy(material.specular);\n            uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n            if (material.emissiveMap) {\n                uniforms.emissiveMap.value = material.emissiveMap;\n            }\n\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        function refreshUniformsToon(uniforms, material) {\n            if (material.gradientMap) {\n                uniforms.gradientMap.value = material.gradientMap;\n            }\n\n            if (material.emissiveMap) {\n                uniforms.emissiveMap.value = material.emissiveMap;\n            }\n\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        function refreshUniformsStandard(uniforms, material) {\n            uniforms.roughness.value = material.roughness;\n            uniforms.metalness.value = material.metalness;\n\n            if (material.roughnessMap) {\n                uniforms.roughnessMap.value = material.roughnessMap;\n            }\n\n            if (material.metalnessMap) {\n                uniforms.metalnessMap.value = material.metalnessMap;\n            }\n\n            if (material.emissiveMap) {\n                uniforms.emissiveMap.value = material.emissiveMap;\n            }\n\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n\n            var envMap = properties.get(material).envMap;\n\n            if (envMap) {\n                //uniforms.envMap.value = material.envMap; // part of uniforms common\n                uniforms.envMapIntensity.value = material.envMapIntensity;\n            }\n        }\n\n        function refreshUniformsPhysical(uniforms, material) {\n            refreshUniformsStandard(uniforms, material);\n            uniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n            uniforms.clearcoat.value = material.clearcoat;\n            uniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n            if (material.sheen) uniforms.sheen.value.copy(material.sheen);\n\n            if (material.clearcoatMap) {\n                uniforms.clearcoatMap.value = material.clearcoatMap;\n            }\n\n            if (material.clearcoatRoughnessMap) {\n                uniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n            }\n\n            if (material.clearcoatNormalMap) {\n                uniforms.clearcoatNormalScale.value.copy(material.clearcoatNormalScale);\n                uniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n                if (material.side === BackSide) {\n                    uniforms.clearcoatNormalScale.value.negate();\n                }\n            }\n\n            uniforms.transmission.value = material.transmission;\n\n            if (material.transmissionMap) {\n                uniforms.transmissionMap.value = material.transmissionMap;\n            }\n        }\n\n        function refreshUniformsMatcap(uniforms, material) {\n            if (material.matcap) {\n                uniforms.matcap.value = material.matcap;\n            }\n\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        function refreshUniformsDepth(uniforms, material) {\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        function refreshUniformsDistance(uniforms, material) {\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n\n            uniforms.referencePosition.value.copy(material.referencePosition);\n            uniforms.nearDistance.value = material.nearDistance;\n            uniforms.farDistance.value = material.farDistance;\n        }\n\n        function refreshUniformsNormal(uniforms, material) {\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        return {\n            refreshFogUniforms: refreshFogUniforms,\n            refreshMaterialUniforms: refreshMaterialUniforms\n        };\n    }\n\n    function WebGLRenderer(parameters) {\n        parameters = parameters || {};\n\n        var _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas'),\n            _context = parameters.context !== undefined ? parameters.context : null,\n            _alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n            _depth = parameters.depth !== undefined ? parameters.depth : true,\n            _stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n            _antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n            _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n            _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n            _powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n            _failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n        var currentRenderList = null;\n        var currentRenderState = null; // public properties\n\n        this.domElement = _canvas; // Debug configuration container\n\n        this.debug = {\n            /**\n             * Enables error checking and reporting when shader programs are being compiled\n             * @type {boolean}\n             */\n            checkShaderErrors: true\n        }; // clearing\n\n        this.autoClear = true;\n        this.autoClearColor = true;\n        this.autoClearDepth = true;\n        this.autoClearStencil = true; // scene graph\n\n        this.sortObjects = true; // user-defined clipping\n\n        this.clippingPlanes = [];\n        this.localClippingEnabled = false; // physically based shading\n\n        this.gammaFactor = 2.0; // for backwards compatibility\n\n        this.outputEncoding = LinearEncoding; // physical lights\n\n        this.physicallyCorrectLights = false; // tone mapping\n\n        this.toneMapping = NoToneMapping;\n        this.toneMappingExposure = 1.0; // morphs\n\n        this.maxMorphTargets = 8;\n        this.maxMorphNormals = 4; // internal properties\n\n        var _this = this;\n\n        var _isContextLost = false; // internal state cache\n\n        var _framebuffer = null;\n        var _currentActiveCubeFace = 0;\n        var _currentActiveMipmapLevel = 0;\n        var _currentRenderTarget = null;\n        var _currentFramebuffer = null;\n\n        var _currentMaterialId = -1;\n\n        var _currentCamera = null;\n        var _currentArrayCamera = null;\n\n        var _currentViewport = new Vector4();\n\n        var _currentScissor = new Vector4();\n\n        var _currentScissorTest = null; //\n\n        var _width = _canvas.width;\n        var _height = _canvas.height;\n        var _pixelRatio = 1;\n        var _opaqueSort = null;\n        var _transparentSort = null;\n\n        var _viewport = new Vector4(0, 0, _width, _height);\n\n        var _scissor = new Vector4(0, 0, _width, _height);\n\n        var _scissorTest = false; // frustum\n\n        var _frustum = new Frustum(); // clipping\n\n\n        var _clippingEnabled = false;\n        var _localClippingEnabled = false; // camera matrices cache\n\n        var _projScreenMatrix = new Matrix4();\n\n        var _vector3 = new Vector3();\n\n        var _emptyScene = {\n            background: null,\n            fog: null,\n            environment: null,\n            overrideMaterial: null,\n            isScene: true\n        };\n\n        function getTargetPixelRatio() {\n            return _currentRenderTarget === null ? _pixelRatio : 1;\n        } // initialize\n\n\n        var _gl = _context;\n\n        function getContext(contextNames, contextAttributes) {\n            for (var i = 0; i < contextNames.length; i++) {\n                var contextName = contextNames[i];\n\n                var context = _canvas.getContext(contextName, contextAttributes);\n\n                if (context !== null) return context;\n            }\n\n            return null;\n        }\n\n        try {\n            var contextAttributes = {\n                alpha: _alpha,\n                depth: _depth,\n                stencil: _stencil,\n                antialias: _antialias,\n                premultipliedAlpha: _premultipliedAlpha,\n                preserveDrawingBuffer: _preserveDrawingBuffer,\n                powerPreference: _powerPreference,\n                failIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n            }; // event listeners must be registered before WebGL context is created, see #12753\n\n            _canvas.addEventListener('webglcontextlost', onContextLost, false);\n\n            _canvas.addEventListener('webglcontextrestored', onContextRestore, false);\n\n            if (_gl === null) {\n                var contextNames = ['webgl2', 'webgl', 'experimental-webgl'];\n\n                if (_this.isWebGL1Renderer === true) {\n                    contextNames.shift();\n                }\n\n                _gl = getContext(contextNames, contextAttributes);\n\n                if (_gl === null) {\n                    if (getContext(contextNames)) {\n                        throw new Error('Error creating WebGL context with your selected attributes.');\n                    } else {\n                        throw new Error('Error creating WebGL context.');\n                    }\n                }\n            } // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\n            if (_gl.getShaderPrecisionFormat === undefined) {\n                _gl.getShaderPrecisionFormat = function () {\n                    return {\n                        'rangeMin': 1,\n                        'rangeMax': 1,\n                        'precision': 1\n                    };\n                };\n            }\n        } catch (error) {\n            console.error('THREE.WebGLRenderer: ' + error.message);\n            throw error;\n        }\n\n        var extensions, capabilities, state, info;\n        var properties, textures, cubemaps, attributes, geometries, objects;\n        var programCache, materials, renderLists, renderStates, clipping;\n        var background, morphtargets, bufferRenderer, indexedBufferRenderer;\n        var utils, bindingStates;\n\n        function initGLContext() {\n            extensions = new WebGLExtensions(_gl);\n            capabilities = new WebGLCapabilities(_gl, extensions, parameters);\n\n            if (capabilities.isWebGL2 === false) {\n                extensions.get('WEBGL_depth_texture');\n                extensions.get('OES_texture_float');\n                extensions.get('OES_texture_half_float');\n                extensions.get('OES_texture_half_float_linear');\n                extensions.get('OES_standard_derivatives');\n                extensions.get('OES_element_index_uint');\n                extensions.get('OES_vertex_array_object');\n                extensions.get('ANGLE_instanced_arrays');\n            }\n\n            extensions.get('OES_texture_float_linear');\n            utils = new WebGLUtils(_gl, extensions, capabilities);\n            state = new WebGLState(_gl, extensions, capabilities);\n            state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n            state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n            info = new WebGLInfo(_gl);\n            properties = new WebGLProperties();\n            textures = new WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info);\n            cubemaps = new WebGLCubeMaps(_this);\n            attributes = new WebGLAttributes(_gl, capabilities);\n            bindingStates = new WebGLBindingStates(_gl, extensions, attributes, capabilities);\n            geometries = new WebGLGeometries(_gl, attributes, info, bindingStates);\n            objects = new WebGLObjects(_gl, geometries, attributes, info);\n            morphtargets = new WebGLMorphtargets(_gl);\n            clipping = new WebGLClipping(properties);\n            programCache = new WebGLPrograms(_this, cubemaps, extensions, capabilities, bindingStates, clipping);\n            materials = new WebGLMaterials(properties);\n            renderLists = new WebGLRenderLists(properties);\n            renderStates = new WebGLRenderStates();\n            background = new WebGLBackground(_this, cubemaps, state, objects, _premultipliedAlpha);\n            bufferRenderer = new WebGLBufferRenderer(_gl, extensions, info, capabilities);\n            indexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, info, capabilities);\n            info.programs = programCache.programs;\n            _this.capabilities = capabilities;\n            _this.extensions = extensions;\n            _this.properties = properties;\n            _this.renderLists = renderLists;\n            _this.state = state;\n            _this.info = info;\n        }\n\n        initGLContext(); // xr\n\n        var xr = new WebXRManager(_this, _gl);\n        this.xr = xr; // shadow map\n\n        var shadowMap = new WebGLShadowMap(_this, objects, capabilities.maxTextureSize);\n        this.shadowMap = shadowMap; // API\n\n        this.getContext = function () {\n            return _gl;\n        };\n\n        this.getContextAttributes = function () {\n            return _gl.getContextAttributes();\n        };\n\n        this.forceContextLoss = function () {\n            var extension = extensions.get('WEBGL_lose_context');\n            if (extension) extension.loseContext();\n        };\n\n        this.forceContextRestore = function () {\n            var extension = extensions.get('WEBGL_lose_context');\n            if (extension) extension.restoreContext();\n        };\n\n        this.getPixelRatio = function () {\n            return _pixelRatio;\n        };\n\n        this.setPixelRatio = function (value) {\n            if (value === undefined) return;\n            _pixelRatio = value;\n            this.setSize(_width, _height, false);\n        };\n\n        this.getSize = function (target) {\n            if (target === undefined) {\n                console.warn('WebGLRenderer: .getsize() now requires a Vector2 as an argument');\n                target = new Vector2();\n            }\n\n            return target.set(_width, _height);\n        };\n\n        this.setSize = function (width, height, updateStyle) {\n            if (xr.isPresenting) {\n                console.warn('THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.');\n                return;\n            }\n\n            _width = width;\n            _height = height;\n            _canvas.width = Math.floor(width * _pixelRatio);\n            _canvas.height = Math.floor(height * _pixelRatio);\n\n            if (updateStyle !== false) {\n                _canvas.style.width = width + 'px';\n                _canvas.style.height = height + 'px';\n            }\n\n            this.setViewport(0, 0, width, height);\n        };\n\n        this.getDrawingBufferSize = function (target) {\n            if (target === undefined) {\n                console.warn('WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument');\n                target = new Vector2();\n            }\n\n            return target.set(_width * _pixelRatio, _height * _pixelRatio).floor();\n        };\n\n        this.setDrawingBufferSize = function (width, height, pixelRatio) {\n            _width = width;\n            _height = height;\n            _pixelRatio = pixelRatio;\n            _canvas.width = Math.floor(width * pixelRatio);\n            _canvas.height = Math.floor(height * pixelRatio);\n            this.setViewport(0, 0, width, height);\n        };\n\n        this.getCurrentViewport = function (target) {\n            if (target === undefined) {\n                console.warn('WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument');\n                target = new Vector4();\n            }\n\n            return target.copy(_currentViewport);\n        };\n\n        this.getViewport = function (target) {\n            return target.copy(_viewport);\n        };\n\n        this.setViewport = function (x, y, width, height) {\n            if (x.isVector4) {\n                _viewport.set(x.x, x.y, x.z, x.w);\n            } else {\n                _viewport.set(x, y, width, height);\n            }\n\n            state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n        };\n\n        this.getScissor = function (target) {\n            return target.copy(_scissor);\n        };\n\n        this.setScissor = function (x, y, width, height) {\n            if (x.isVector4) {\n                _scissor.set(x.x, x.y, x.z, x.w);\n            } else {\n                _scissor.set(x, y, width, height);\n            }\n\n            state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n        };\n\n        this.getScissorTest = function () {\n            return _scissorTest;\n        };\n\n        this.setScissorTest = function (boolean) {\n            state.setScissorTest(_scissorTest = boolean);\n        };\n\n        this.setOpaqueSort = function (method) {\n            _opaqueSort = method;\n        };\n\n        this.setTransparentSort = function (method) {\n            _transparentSort = method;\n        }; // Clearing\n\n\n        this.getClearColor = function () {\n            return background.getClearColor();\n        };\n\n        this.setClearColor = function () {\n            background.setClearColor.apply(background, arguments);\n        };\n\n        this.getClearAlpha = function () {\n            return background.getClearAlpha();\n        };\n\n        this.setClearAlpha = function () {\n            background.setClearAlpha.apply(background, arguments);\n        };\n\n        this.clear = function (color, depth, stencil) {\n            var bits = 0;\n            if (color === undefined || color) bits |= 16384;\n            if (depth === undefined || depth) bits |= 256;\n            if (stencil === undefined || stencil) bits |= 1024;\n\n            _gl.clear(bits);\n        };\n\n        this.clearColor = function () {\n            this.clear(true, false, false);\n        };\n\n        this.clearDepth = function () {\n            this.clear(false, true, false);\n        };\n\n        this.clearStencil = function () {\n            this.clear(false, false, true);\n        }; //\n\n\n        this.dispose = function () {\n            _canvas.removeEventListener('webglcontextlost', onContextLost, false);\n\n            _canvas.removeEventListener('webglcontextrestored', onContextRestore, false);\n\n            renderLists.dispose();\n            renderStates.dispose();\n            properties.dispose();\n            cubemaps.dispose();\n            objects.dispose();\n            bindingStates.dispose();\n            xr.dispose();\n            animation.stop();\n        }; // Events\n\n\n        function onContextLost(event) {\n            event.preventDefault();\n            console.log('THREE.WebGLRenderer: Context Lost.');\n            _isContextLost = true;\n        }\n\n        function onContextRestore()\n        /* event */\n        {\n            console.log('THREE.WebGLRenderer: Context Restored.');\n            _isContextLost = false;\n            initGLContext();\n        }\n\n        function onMaterialDispose(event) {\n            var material = event.target;\n            material.removeEventListener('dispose', onMaterialDispose);\n            deallocateMaterial(material);\n        } // Buffer deallocation\n\n\n        function deallocateMaterial(material) {\n            releaseMaterialProgramReference(material);\n            properties.remove(material);\n        }\n\n        function releaseMaterialProgramReference(material) {\n            var programInfo = properties.get(material).program;\n\n            if (programInfo !== undefined) {\n                programCache.releaseProgram(programInfo);\n            }\n        } // Buffer rendering\n\n\n        function renderObjectImmediate(object, program) {\n            object.render(function (object) {\n                _this.renderBufferImmediate(object, program);\n            });\n        }\n\n        this.renderBufferImmediate = function (object, program) {\n            bindingStates.initAttributes();\n            var buffers = properties.get(object);\n            if (object.hasPositions && !buffers.position) buffers.position = _gl.createBuffer();\n            if (object.hasNormals && !buffers.normal) buffers.normal = _gl.createBuffer();\n            if (object.hasUvs && !buffers.uv) buffers.uv = _gl.createBuffer();\n            if (object.hasColors && !buffers.color) buffers.color = _gl.createBuffer();\n            var programAttributes = program.getAttributes();\n\n            if (object.hasPositions) {\n                _gl.bindBuffer(34962, buffers.position);\n\n                _gl.bufferData(34962, object.positionArray, 35048);\n\n                bindingStates.enableAttribute(programAttributes.position);\n\n                _gl.vertexAttribPointer(programAttributes.position, 3, 5126, false, 0, 0);\n            }\n\n            if (object.hasNormals) {\n                _gl.bindBuffer(34962, buffers.normal);\n\n                _gl.bufferData(34962, object.normalArray, 35048);\n\n                bindingStates.enableAttribute(programAttributes.normal);\n\n                _gl.vertexAttribPointer(programAttributes.normal, 3, 5126, false, 0, 0);\n            }\n\n            if (object.hasUvs) {\n                _gl.bindBuffer(34962, buffers.uv);\n\n                _gl.bufferData(34962, object.uvArray, 35048);\n\n                bindingStates.enableAttribute(programAttributes.uv);\n\n                _gl.vertexAttribPointer(programAttributes.uv, 2, 5126, false, 0, 0);\n            }\n\n            if (object.hasColors) {\n                _gl.bindBuffer(34962, buffers.color);\n\n                _gl.bufferData(34962, object.colorArray, 35048);\n\n                bindingStates.enableAttribute(programAttributes.color);\n\n                _gl.vertexAttribPointer(programAttributes.color, 3, 5126, false, 0, 0);\n            }\n\n            bindingStates.disableUnusedAttributes();\n\n            _gl.drawArrays(4, 0, object.count);\n\n            object.count = 0;\n        };\n\n        this.renderBufferDirect = function (camera, scene, geometry, material, object, group) {\n            if (scene === null) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n            var frontFaceCW = object.isMesh && object.matrixWorld.determinant() < 0;\n            var program = setProgram(camera, scene, material, object);\n            state.setMaterial(material, frontFaceCW); //\n\n            var index = geometry.index;\n            var position = geometry.attributes.position; //\n\n            if (index === null) {\n                if (position === undefined || position.count === 0) return;\n            } else if (index.count === 0) {\n                return;\n            } //\n\n\n            var rangeFactor = 1;\n\n            if (material.wireframe === true) {\n                index = geometries.getWireframeAttribute(geometry);\n                rangeFactor = 2;\n            }\n\n            if (material.morphTargets || material.morphNormals) {\n                morphtargets.update(object, geometry, material, program);\n            }\n\n            bindingStates.setup(object, material, program, geometry, index);\n            var attribute;\n            var renderer = bufferRenderer;\n\n            if (index !== null) {\n                attribute = attributes.get(index);\n                renderer = indexedBufferRenderer;\n                renderer.setIndex(attribute);\n            } //\n\n\n            var dataCount = index !== null ? index.count : position.count;\n            var rangeStart = geometry.drawRange.start * rangeFactor;\n            var rangeCount = geometry.drawRange.count * rangeFactor;\n            var groupStart = group !== null ? group.start * rangeFactor : 0;\n            var groupCount = group !== null ? group.count * rangeFactor : Infinity;\n            var drawStart = Math.max(rangeStart, groupStart);\n            var drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;\n            var drawCount = Math.max(0, drawEnd - drawStart + 1);\n            if (drawCount === 0) return; //\n\n            if (object.isMesh) {\n                if (material.wireframe === true) {\n                    state.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());\n                    renderer.setMode(1);\n                } else {\n                    renderer.setMode(4);\n                }\n            } else if (object.isLine) {\n                var lineWidth = material.linewidth;\n                if (lineWidth === undefined) lineWidth = 1; // Not using Line*Material\n\n                state.setLineWidth(lineWidth * getTargetPixelRatio());\n\n                if (object.isLineSegments) {\n                    renderer.setMode(1);\n                } else if (object.isLineLoop) {\n                    renderer.setMode(2);\n                } else {\n                    renderer.setMode(3);\n                }\n            } else if (object.isPoints) {\n                renderer.setMode(0);\n            } else if (object.isSprite) {\n                renderer.setMode(4);\n            }\n\n            if (object.isInstancedMesh) {\n                renderer.renderInstances(drawStart, drawCount, object.count);\n            } else if (geometry.isInstancedBufferGeometry) {\n                var instanceCount = Math.min(geometry.instanceCount, geometry._maxInstanceCount);\n                renderer.renderInstances(drawStart, drawCount, instanceCount);\n            } else {\n                renderer.render(drawStart, drawCount);\n            }\n        }; // Compile\n\n\n        this.compile = function (scene, camera) {\n            currentRenderState = renderStates.get(scene, camera);\n            currentRenderState.init();\n            scene.traverse(function (object) {\n                if (object.isLight) {\n                    currentRenderState.pushLight(object);\n\n                    if (object.castShadow) {\n                        currentRenderState.pushShadow(object);\n                    }\n                }\n            });\n            currentRenderState.setupLights(camera);\n            var compiled = new WeakMap();\n            scene.traverse(function (object) {\n                var material = object.material;\n\n                if (material) {\n                    if (Array.isArray(material)) {\n                        for (var i = 0; i < material.length; i++) {\n                            var material2 = material[i];\n\n                            if (compiled.has(material2) === false) {\n                                initMaterial(material2, scene, object);\n                                compiled.set(material2);\n                            }\n                        }\n                    } else if (compiled.has(material) === false) {\n                        initMaterial(material, scene, object);\n                        compiled.set(material);\n                    }\n                }\n            });\n        }; // Animation Loop\n\n\n        var onAnimationFrameCallback = null;\n\n        function onAnimationFrame(time) {\n            if (xr.isPresenting) return;\n            if (onAnimationFrameCallback) onAnimationFrameCallback(time);\n        }\n\n        var animation = new WebGLAnimation();\n        animation.setAnimationLoop(onAnimationFrame);\n        if (typeof window !== 'undefined') animation.setContext(window);\n\n        this.setAnimationLoop = function (callback) {\n            onAnimationFrameCallback = callback;\n            xr.setAnimationLoop(callback);\n            callback === null ? animation.stop() : animation.start();\n        }; // Rendering\n\n\n        this.render = function (scene, camera) {\n            var renderTarget, forceClear;\n\n            if (arguments[2] !== undefined) {\n                console.warn('THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.');\n                renderTarget = arguments[2];\n            }\n\n            if (arguments[3] !== undefined) {\n                console.warn('THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.');\n                forceClear = arguments[3];\n            }\n\n            if (camera !== undefined && camera.isCamera !== true) {\n                console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');\n                return;\n            }\n\n            if (_isContextLost === true) return; // reset caching for this frame\n\n            bindingStates.resetDefaultState();\n            _currentMaterialId = -1;\n            _currentCamera = null; // update scene graph\n\n            if (scene.autoUpdate === true) scene.updateMatrixWorld(); // update camera matrices and frustum\n\n            if (camera.parent === null) camera.updateMatrixWorld();\n\n            if (xr.enabled === true && xr.isPresenting === true) {\n                camera = xr.getCamera(camera);\n            } //\n\n\n            if (scene.isScene === true) scene.onBeforeRender(_this, scene, camera, renderTarget || _currentRenderTarget);\n            currentRenderState = renderStates.get(scene, camera);\n            currentRenderState.init();\n\n            _projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n            _frustum.setFromProjectionMatrix(_projScreenMatrix);\n\n            _localClippingEnabled = this.localClippingEnabled;\n            _clippingEnabled = clipping.init(this.clippingPlanes, _localClippingEnabled, camera);\n            currentRenderList = renderLists.get(scene, camera);\n            currentRenderList.init();\n            projectObject(scene, camera, 0, _this.sortObjects);\n            currentRenderList.finish();\n\n            if (_this.sortObjects === true) {\n                currentRenderList.sort(_opaqueSort, _transparentSort);\n            } //\n\n\n            if (_clippingEnabled === true) clipping.beginShadows();\n            var shadowsArray = currentRenderState.state.shadowsArray;\n            shadowMap.render(shadowsArray, scene, camera);\n            currentRenderState.setupLights(camera);\n            if (_clippingEnabled === true) clipping.endShadows(); //\n\n            if (this.info.autoReset === true) this.info.reset();\n\n            if (renderTarget !== undefined) {\n                this.setRenderTarget(renderTarget);\n            } //\n\n\n            background.render(currentRenderList, scene, camera, forceClear); // render scene\n\n            var opaqueObjects = currentRenderList.opaque;\n            var transparentObjects = currentRenderList.transparent;\n            if (opaqueObjects.length > 0) renderObjects(opaqueObjects, scene, camera);\n            if (transparentObjects.length > 0) renderObjects(transparentObjects, scene, camera); //\n\n            if (scene.isScene === true) scene.onAfterRender(_this, scene, camera); //\n\n            if (_currentRenderTarget !== null) {\n                // Generate mipmap if we're using any kind of mipmap filtering\n                textures.updateRenderTargetMipmap(_currentRenderTarget); // resolve multisample renderbuffers to a single-sample texture if necessary\n\n                textures.updateMultisampleRenderTarget(_currentRenderTarget);\n            } // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\n            state.buffers.depth.setTest(true);\n            state.buffers.depth.setMask(true);\n            state.buffers.color.setMask(true);\n            state.setPolygonOffset(false); // _gl.finish();\n\n            currentRenderList = null;\n            currentRenderState = null;\n        };\n\n        function projectObject(object, camera, groupOrder, sortObjects) {\n            if (object.visible === false) return;\n            var visible = object.layers.test(camera.layers);\n\n            if (visible) {\n                if (object.isGroup) {\n                    groupOrder = object.renderOrder;\n                } else if (object.isLOD) {\n                    if (object.autoUpdate === true) object.update(camera);\n                } else if (object.isLight) {\n                    currentRenderState.pushLight(object);\n\n                    if (object.castShadow) {\n                        currentRenderState.pushShadow(object);\n                    }\n                } else if (object.isSprite) {\n                    if (!object.frustumCulled || _frustum.intersectsSprite(object)) {\n                        if (sortObjects) {\n                            _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n                        }\n\n                        var geometry = objects.update(object);\n                        var material = object.material;\n\n                        if (material.visible) {\n                            currentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n                        }\n                    }\n                } else if (object.isImmediateRenderObject) {\n                    if (sortObjects) {\n                        _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n                    }\n\n                    currentRenderList.push(object, null, object.material, groupOrder, _vector3.z, null);\n                } else if (object.isMesh || object.isLine || object.isPoints) {\n                    if (object.isSkinnedMesh) {\n                        // update skeleton only once in a frame\n                        if (object.skeleton.frame !== info.render.frame) {\n                            object.skeleton.update();\n                            object.skeleton.frame = info.render.frame;\n                        }\n                    }\n\n                    if (!object.frustumCulled || _frustum.intersectsObject(object)) {\n                        if (sortObjects) {\n                            _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n                        }\n\n                        var _geometry = objects.update(object);\n\n                        var _material = object.material;\n\n                        if (Array.isArray(_material)) {\n                            var groups = _geometry.groups;\n\n                            for (var i = 0, l = groups.length; i < l; i++) {\n                                var group = groups[i];\n                                var groupMaterial = _material[group.materialIndex];\n\n                                if (groupMaterial && groupMaterial.visible) {\n                                    currentRenderList.push(object, _geometry, groupMaterial, groupOrder, _vector3.z, group);\n                                }\n                            }\n                        } else if (_material.visible) {\n                            currentRenderList.push(object, _geometry, _material, groupOrder, _vector3.z, null);\n                        }\n                    }\n                }\n            }\n\n            var children = object.children;\n\n            for (var _i = 0, _l = children.length; _i < _l; _i++) {\n                projectObject(children[_i], camera, groupOrder, sortObjects);\n            }\n        }\n\n        function renderObjects(renderList, scene, camera) {\n            var overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n            for (var i = 0, l = renderList.length; i < l; i++) {\n                var renderItem = renderList[i];\n                var object = renderItem.object;\n                var geometry = renderItem.geometry;\n                var material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n                var group = renderItem.group;\n\n                if (camera.isArrayCamera) {\n                    _currentArrayCamera = camera;\n                    var cameras = camera.cameras;\n\n                    for (var j = 0, jl = cameras.length; j < jl; j++) {\n                        var camera2 = cameras[j];\n\n                        if (object.layers.test(camera2.layers)) {\n                            state.viewport(_currentViewport.copy(camera2.viewport));\n                            currentRenderState.setupLights(camera2);\n                            renderObject(object, scene, camera2, geometry, material, group);\n                        }\n                    }\n                } else {\n                    _currentArrayCamera = null;\n                    renderObject(object, scene, camera, geometry, material, group);\n                }\n            }\n        }\n\n        function renderObject(object, scene, camera, geometry, material, group) {\n            object.onBeforeRender(_this, scene, camera, geometry, material, group);\n            currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);\n            object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);\n            object.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n\n            if (object.isImmediateRenderObject) {\n                var program = setProgram(camera, scene, material, object);\n                state.setMaterial(material);\n                bindingStates.reset();\n                renderObjectImmediate(object, program);\n            } else {\n                _this.renderBufferDirect(camera, scene, geometry, material, object, group);\n            }\n\n            object.onAfterRender(_this, scene, camera, geometry, material, group);\n            currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);\n        }\n\n        function initMaterial(material, scene, object) {\n            if (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n            var materialProperties = properties.get(material);\n            var lights = currentRenderState.state.lights;\n            var shadowsArray = currentRenderState.state.shadowsArray;\n            var lightsStateVersion = lights.state.version;\n            var parameters = programCache.getParameters(material, lights.state, shadowsArray, scene, object);\n            var programCacheKey = programCache.getProgramCacheKey(parameters);\n            var program = materialProperties.program;\n            var programChange = true;\n\n            if (program === undefined) {\n                // new material\n                material.addEventListener('dispose', onMaterialDispose);\n            } else if (program.cacheKey !== programCacheKey) {\n                // changed glsl or parameters\n                releaseMaterialProgramReference(material);\n            } else if (materialProperties.lightsStateVersion !== lightsStateVersion) {\n                programChange = false;\n            } else if (parameters.shaderID !== undefined) {\n                // same glsl and uniform list, envMap still needs the update here to avoid a frame-late effect\n                var environment = material.isMeshStandardMaterial ? scene.environment : null;\n                materialProperties.envMap = cubemaps.get(material.envMap || environment);\n                return;\n            } else {\n                // only rebuild uniform list\n                programChange = false;\n            }\n\n            if (programChange) {\n                parameters.uniforms = programCache.getUniforms(material);\n                material.onBeforeCompile(parameters, _this);\n                program = programCache.acquireProgram(parameters, programCacheKey);\n                materialProperties.program = program;\n                materialProperties.uniforms = parameters.uniforms;\n                materialProperties.outputEncoding = parameters.outputEncoding;\n            }\n\n            var uniforms = materialProperties.uniforms;\n\n            if (!material.isShaderMaterial && !material.isRawShaderMaterial || material.clipping === true) {\n                materialProperties.numClippingPlanes = clipping.numPlanes;\n                materialProperties.numIntersection = clipping.numIntersection;\n                uniforms.clippingPlanes = clipping.uniform;\n            }\n\n            materialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n            materialProperties.fog = scene.fog;\n            materialProperties.envMap = cubemaps.get(material.envMap || materialProperties.environment); // store the light setup it was created for\n\n            materialProperties.needsLights = materialNeedsLights(material);\n            materialProperties.lightsStateVersion = lightsStateVersion;\n\n            if (materialProperties.needsLights) {\n                // wire up the material to this renderer's lighting state\n                uniforms.ambientLightColor.value = lights.state.ambient;\n                uniforms.lightProbe.value = lights.state.probe;\n                uniforms.directionalLights.value = lights.state.directional;\n                uniforms.directionalLightShadows.value = lights.state.directionalShadow;\n                uniforms.spotLights.value = lights.state.spot;\n                uniforms.spotLightShadows.value = lights.state.spotShadow;\n                uniforms.rectAreaLights.value = lights.state.rectArea;\n                uniforms.ltc_1.value = lights.state.rectAreaLTC1;\n                uniforms.ltc_2.value = lights.state.rectAreaLTC2;\n                uniforms.pointLights.value = lights.state.point;\n                uniforms.pointLightShadows.value = lights.state.pointShadow;\n                uniforms.hemisphereLights.value = lights.state.hemi;\n                uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n                uniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n                uniforms.spotShadowMap.value = lights.state.spotShadowMap;\n                uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n                uniforms.pointShadowMap.value = lights.state.pointShadowMap;\n                uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix; // TODO (abelnation): add area lights shadow info to uniforms\n            }\n\n            var progUniforms = materialProperties.program.getUniforms();\n            var uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n            materialProperties.uniformsList = uniformsList;\n        }\n\n        function setProgram(camera, scene, material, object) {\n            if (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n            textures.resetTextureUnits();\n            var fog = scene.fog;\n            var environment = material.isMeshStandardMaterial ? scene.environment : null;\n            var encoding = _currentRenderTarget === null ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n            var envMap = cubemaps.get(material.envMap || environment);\n            var materialProperties = properties.get(material);\n            var lights = currentRenderState.state.lights;\n\n            if (_clippingEnabled === true) {\n                if (_localClippingEnabled === true || camera !== _currentCamera) {\n                    var useCache = camera === _currentCamera && material.id === _currentMaterialId; // we might want to call this function with some ClippingGroup\n                    // object instead of the material, once it becomes feasible\n                    // (#8465, #8379)\n\n                    clipping.setState(material, camera, useCache);\n                }\n            }\n\n            if (material.version === materialProperties.__version) {\n                if (material.fog && materialProperties.fog !== fog) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.environment !== environment) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.needsLights && materialProperties.lightsStateVersion !== lights.state.version) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.numClippingPlanes !== undefined && (materialProperties.numClippingPlanes !== clipping.numPlanes || materialProperties.numIntersection !== clipping.numIntersection)) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.outputEncoding !== encoding) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.envMap !== envMap) {\n                    initMaterial(material, scene, object);\n                }\n            } else {\n                initMaterial(material, scene, object);\n                materialProperties.__version = material.version;\n            }\n\n            var refreshProgram = false;\n            var refreshMaterial = false;\n            var refreshLights = false;\n            var program = materialProperties.program,\n                p_uniforms = program.getUniforms(),\n                m_uniforms = materialProperties.uniforms;\n\n            if (state.useProgram(program.program)) {\n                refreshProgram = true;\n                refreshMaterial = true;\n                refreshLights = true;\n            }\n\n            if (material.id !== _currentMaterialId) {\n                _currentMaterialId = material.id;\n                refreshMaterial = true;\n            }\n\n            if (refreshProgram || _currentCamera !== camera) {\n                p_uniforms.setValue(_gl, 'projectionMatrix', camera.projectionMatrix);\n\n                if (capabilities.logarithmicDepthBuffer) {\n                    p_uniforms.setValue(_gl, 'logDepthBufFC', 2.0 / (Math.log(camera.far + 1.0) / Math.LN2));\n                }\n\n                if (_currentCamera !== camera) {\n                    _currentCamera = camera; // lighting uniforms depend on the camera so enforce an update\n                    // now, in case this material supports lights - or later, when\n                    // the next material that does gets activated:\n\n                    refreshMaterial = true; // set to true on material change\n\n                    refreshLights = true; // remains set until update done\n                } // load material specific uniforms\n                // (shader material also gets them for the sake of genericity)\n\n\n                if (material.isShaderMaterial || material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshStandardMaterial || material.envMap) {\n                    var uCamPos = p_uniforms.map.cameraPosition;\n\n                    if (uCamPos !== undefined) {\n                        uCamPos.setValue(_gl, _vector3.setFromMatrixPosition(camera.matrixWorld));\n                    }\n                }\n\n                if (material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial) {\n                    p_uniforms.setValue(_gl, 'isOrthographic', camera.isOrthographicCamera === true);\n                }\n\n                if (material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial || material.isShadowMaterial || material.skinning) {\n                    p_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);\n                }\n            } // skinning uniforms must be set even if material didn't change\n            // auto-setting of texture unit for bone texture must go before other textures\n            // otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\n            if (material.skinning) {\n                p_uniforms.setOptional(_gl, object, 'bindMatrix');\n                p_uniforms.setOptional(_gl, object, 'bindMatrixInverse');\n                var skeleton = object.skeleton;\n\n                if (skeleton) {\n                    var bones = skeleton.bones;\n\n                    if (capabilities.floatVertexTextures) {\n                        if (skeleton.boneTexture === undefined) {\n                            // layout (1 matrix = 4 pixels)\n                            //\t\t\tRGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n                            //\twith\t8x8\tpixel texture max\t 16 bones * 4 pixels =\t(8 * 8)\n                            //\t\t\t 16x16 pixel texture max\t 64 bones * 4 pixels = (16 * 16)\n                            //\t\t\t 32x32 pixel texture max\t256 bones * 4 pixels = (32 * 32)\n                            //\t\t\t 64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n                            var size = Math.sqrt(bones.length * 4); // 4 pixels needed for 1 matrix\n\n                            size = MathUtils.ceilPowerOfTwo(size);\n                            size = Math.max(size, 4);\n                            var boneMatrices = new Float32Array(size * size * 4); // 4 floats per RGBA pixel\n\n                            boneMatrices.set(skeleton.boneMatrices); // copy current values\n\n                            var boneTexture = new DataTexture(boneMatrices, size, size, RGBAFormat, FloatType);\n                            skeleton.boneMatrices = boneMatrices;\n                            skeleton.boneTexture = boneTexture;\n                            skeleton.boneTextureSize = size;\n                        }\n\n                        p_uniforms.setValue(_gl, 'boneTexture', skeleton.boneTexture, textures);\n                        p_uniforms.setValue(_gl, 'boneTextureSize', skeleton.boneTextureSize);\n                    } else {\n                        p_uniforms.setOptional(_gl, skeleton, 'boneMatrices');\n                    }\n                }\n            }\n\n            if (refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow) {\n                materialProperties.receiveShadow = object.receiveShadow;\n                p_uniforms.setValue(_gl, 'receiveShadow', object.receiveShadow);\n            }\n\n            if (refreshMaterial) {\n                p_uniforms.setValue(_gl, 'toneMappingExposure', _this.toneMappingExposure);\n\n                if (materialProperties.needsLights) {\n                    // the current material requires lighting info\n                    // note: all lighting uniforms are always set correctly\n                    // they simply reference the renderer's state for their\n                    // values\n                    //\n                    // use the current material's .needsUpdate flags to set\n                    // the GL state when required\n                    markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n                } // refresh uniforms common to several materials\n\n\n                if (fog && material.fog) {\n                    materials.refreshFogUniforms(m_uniforms, fog);\n                }\n\n                materials.refreshMaterialUniforms(m_uniforms, material, _pixelRatio, _height);\n                WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n            }\n\n            if (material.isShaderMaterial && material.uniformsNeedUpdate === true) {\n                WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n                material.uniformsNeedUpdate = false;\n            }\n\n            if (material.isSpriteMaterial) {\n                p_uniforms.setValue(_gl, 'center', object.center);\n            } // common matrices\n\n\n            p_uniforms.setValue(_gl, 'modelViewMatrix', object.modelViewMatrix);\n            p_uniforms.setValue(_gl, 'normalMatrix', object.normalMatrix);\n            p_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld);\n            return program;\n        } // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\n        function markUniformsLightsNeedsUpdate(uniforms, value) {\n            uniforms.ambientLightColor.needsUpdate = value;\n            uniforms.lightProbe.needsUpdate = value;\n            uniforms.directionalLights.needsUpdate = value;\n            uniforms.directionalLightShadows.needsUpdate = value;\n            uniforms.pointLights.needsUpdate = value;\n            uniforms.pointLightShadows.needsUpdate = value;\n            uniforms.spotLights.needsUpdate = value;\n            uniforms.spotLightShadows.needsUpdate = value;\n            uniforms.rectAreaLights.needsUpdate = value;\n            uniforms.hemisphereLights.needsUpdate = value;\n        }\n\n        function materialNeedsLights(material) {\n            return material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial || material.isMeshStandardMaterial || material.isShadowMaterial || material.isShaderMaterial && material.lights === true;\n        } //\n\n\n        this.setFramebuffer = function (value) {\n            if (_framebuffer !== value && _currentRenderTarget === null) _gl.bindFramebuffer(36160, value);\n            _framebuffer = value;\n        };\n\n        this.getActiveCubeFace = function () {\n            return _currentActiveCubeFace;\n        };\n\n        this.getActiveMipmapLevel = function () {\n            return _currentActiveMipmapLevel;\n        };\n\n        this.getRenderList = function () {\n            return currentRenderList;\n        };\n\n        this.setRenderList = function (renderList) {\n            currentRenderList = renderList;\n        };\n\n        this.getRenderState = function () {\n            return currentRenderState;\n        };\n\n        this.setRenderState = function (renderState) {\n            currentRenderState = renderState;\n        };\n\n        this.getRenderTarget = function () {\n            return _currentRenderTarget;\n        };\n\n        this.setRenderTarget = function (renderTarget, activeCubeFace, activeMipmapLevel) {\n            if (activeCubeFace === void 0) {\n                activeCubeFace = 0;\n            }\n\n            if (activeMipmapLevel === void 0) {\n                activeMipmapLevel = 0;\n            }\n\n            _currentRenderTarget = renderTarget;\n            _currentActiveCubeFace = activeCubeFace;\n            _currentActiveMipmapLevel = activeMipmapLevel;\n\n            if (renderTarget && properties.get(renderTarget).__webglFramebuffer === undefined) {\n                textures.setupRenderTarget(renderTarget);\n            }\n\n            var framebuffer = _framebuffer;\n            var isCube = false;\n\n            if (renderTarget) {\n                var __webglFramebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n                if (renderTarget.isWebGLCubeRenderTarget) {\n                    framebuffer = __webglFramebuffer[activeCubeFace];\n                    isCube = true;\n                } else if (renderTarget.isWebGLMultisampleRenderTarget) {\n                    framebuffer = properties.get(renderTarget).__webglMultisampledFramebuffer;\n                } else {\n                    framebuffer = __webglFramebuffer;\n                }\n\n                _currentViewport.copy(renderTarget.viewport);\n\n                _currentScissor.copy(renderTarget.scissor);\n\n                _currentScissorTest = renderTarget.scissorTest;\n            } else {\n                _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();\n\n                _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();\n\n                _currentScissorTest = _scissorTest;\n            }\n\n            if (_currentFramebuffer !== framebuffer) {\n                _gl.bindFramebuffer(36160, framebuffer);\n\n                _currentFramebuffer = framebuffer;\n            }\n\n            state.viewport(_currentViewport);\n            state.scissor(_currentScissor);\n            state.setScissorTest(_currentScissorTest);\n\n            if (isCube) {\n                var textureProperties = properties.get(renderTarget.texture);\n\n                _gl.framebufferTexture2D(36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel);\n            }\n        };\n\n        this.readRenderTargetPixels = function (renderTarget, x, y, width, height, buffer, activeCubeFaceIndex) {\n            if (!(renderTarget && renderTarget.isWebGLRenderTarget)) {\n                console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');\n                return;\n            }\n\n            var framebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n            if (renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined) {\n                framebuffer = framebuffer[activeCubeFaceIndex];\n            }\n\n            if (framebuffer) {\n                var restore = false;\n\n                if (framebuffer !== _currentFramebuffer) {\n                    _gl.bindFramebuffer(36160, framebuffer);\n\n                    restore = true;\n                }\n\n                try {\n                    var texture = renderTarget.texture;\n                    var textureFormat = texture.format;\n                    var textureType = texture.type;\n\n                    if (textureFormat !== RGBAFormat && utils.convert(textureFormat) !== _gl.getParameter(35739)) {\n                        console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');\n                        return;\n                    }\n\n                    if (textureType !== UnsignedByteType && utils.convert(textureType) !== _gl.getParameter(35738) && // IE11, Edge and Chrome Mac < 52 (#9513)\n                        !(textureType === FloatType && (capabilities.isWebGL2 || extensions.get('OES_texture_float') || extensions.get('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox\n                        !(textureType === HalfFloatType && (capabilities.isWebGL2 ? extensions.get('EXT_color_buffer_float') : extensions.get('EXT_color_buffer_half_float')))) {\n                        console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');\n                        return;\n                    }\n\n                    if (_gl.checkFramebufferStatus(36160) === 36053) {\n                        // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n                        if (x >= 0 && x <= renderTarget.width - width && y >= 0 && y <= renderTarget.height - height) {\n                            _gl.readPixels(x, y, width, height, utils.convert(textureFormat), utils.convert(textureType), buffer);\n                        }\n                    } else {\n                        console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');\n                    }\n                } finally {\n                    if (restore) {\n                        _gl.bindFramebuffer(36160, _currentFramebuffer);\n                    }\n                }\n            }\n        };\n\n        this.copyFramebufferToTexture = function (position, texture, level) {\n            if (level === undefined) level = 0;\n            var levelScale = Math.pow(2, -level);\n            var width = Math.floor(texture.image.width * levelScale);\n            var height = Math.floor(texture.image.height * levelScale);\n            var glFormat = utils.convert(texture.format);\n            textures.setTexture2D(texture, 0);\n\n            _gl.copyTexImage2D(3553, level, glFormat, position.x, position.y, width, height, 0);\n\n            state.unbindTexture();\n        };\n\n        this.copyTextureToTexture = function (position, srcTexture, dstTexture, level) {\n            if (level === undefined) level = 0;\n            var width = srcTexture.image.width;\n            var height = srcTexture.image.height;\n            var glFormat = utils.convert(dstTexture.format);\n            var glType = utils.convert(dstTexture.type);\n            textures.setTexture2D(dstTexture, 0); // As another texture upload may have changed pixelStorei\n            // parameters, make sure they are correct for the dstTexture\n\n            _gl.pixelStorei(37440, dstTexture.flipY);\n\n            _gl.pixelStorei(37441, dstTexture.premultiplyAlpha);\n\n            _gl.pixelStorei(3317, dstTexture.unpackAlignment);\n\n            if (srcTexture.isDataTexture) {\n                _gl.texSubImage2D(3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data);\n            } else {\n                if (srcTexture.isCompressedTexture) {\n                    _gl.compressedTexSubImage2D(3553, level, position.x, position.y, srcTexture.mipmaps[0].width, srcTexture.mipmaps[0].height, glFormat, srcTexture.mipmaps[0].data);\n                } else {\n                    _gl.texSubImage2D(3553, level, position.x, position.y, glFormat, glType, srcTexture.image);\n                }\n            } // Generate mipmaps only when copying level 0\n\n\n            if (level === 0 && dstTexture.generateMipmaps) _gl.generateMipmap(3553);\n            state.unbindTexture();\n        };\n\n        this.initTexture = function (texture) {\n            textures.setTexture2D(texture, 0);\n            state.unbindTexture();\n        };\n\n        if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n            __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n                detail: this\n            })); // eslint-disable-line no-undef\n\n        }\n    }\n\n    function WebGL1Renderer(parameters) {\n        WebGLRenderer.call(this, parameters);\n    }\n\n    WebGL1Renderer.prototype = Object.assign(Object.create(WebGLRenderer.prototype), {\n        constructor: WebGL1Renderer,\n        isWebGL1Renderer: true\n    });\n\n    var FogExp2 = /*#__PURE__*/function () {\n        function FogExp2(color, density) {\n            Object.defineProperty(this, 'isFogExp2', {\n                value: true\n            });\n            this.name = '';\n            this.color = new Color(color);\n            this.density = density !== undefined ? density : 0.00025;\n        }\n\n        var _proto = FogExp2.prototype;\n\n        _proto.clone = function clone() {\n            return new FogExp2(this.color, this.density);\n        };\n\n        _proto.toJSON = function toJSON()\n            /* meta */\n        {\n            return {\n                type: 'FogExp2',\n                color: this.color.getHex(),\n                density: this.density\n            };\n        };\n\n        return FogExp2;\n    }();\n\n    var Fog = /*#__PURE__*/function () {\n        function Fog(color, near, far) {\n            Object.defineProperty(this, 'isFog', {\n                value: true\n            });\n            this.name = '';\n            this.color = new Color(color);\n            this.near = near !== undefined ? near : 1;\n            this.far = far !== undefined ? far : 1000;\n        }\n\n        var _proto = Fog.prototype;\n\n        _proto.clone = function clone() {\n            return new Fog(this.color, this.near, this.far);\n        };\n\n        _proto.toJSON = function toJSON()\n            /* meta */\n        {\n            return {\n                type: 'Fog',\n                color: this.color.getHex(),\n                near: this.near,\n                far: this.far\n            };\n        };\n\n        return Fog;\n    }();\n\n    var Scene = /*#__PURE__*/function (_Object3D) {\n        _inheritsLoose(Scene, _Object3D);\n\n        function Scene() {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            Object.defineProperty(_assertThisInitialized(_this), 'isScene', {\n                value: true\n            });\n            _this.type = 'Scene';\n            _this.background = null;\n            _this.environment = null;\n            _this.fog = null;\n            _this.overrideMaterial = null;\n            _this.autoUpdate = true; // checked by the renderer\n\n            if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n                __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n                    detail: _assertThisInitialized(_this)\n                })); // eslint-disable-line no-undef\n\n            }\n\n            return _this;\n        }\n\n        var _proto = Scene.prototype;\n\n        _proto.copy = function copy(source, recursive) {\n            _Object3D.prototype.copy.call(this, source, recursive);\n\n            if (source.background !== null) this.background = source.background.clone();\n            if (source.environment !== null) this.environment = source.environment.clone();\n            if (source.fog !== null) this.fog = source.fog.clone();\n            if (source.overrideMaterial !== null) this.overrideMaterial = source.overrideMaterial.clone();\n            this.autoUpdate = source.autoUpdate;\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\n            return this;\n        };\n\n        _proto.toJSON = function toJSON(meta) {\n            var data = _Object3D.prototype.toJSON.call(this, meta);\n\n            if (this.background !== null) data.object.background = this.background.toJSON(meta);\n            if (this.environment !== null) data.object.environment = this.environment.toJSON(meta);\n            if (this.fog !== null) data.object.fog = this.fog.toJSON();\n            return data;\n        };\n\n        return Scene;\n    }(Object3D);\n\n    function InterleavedBuffer(array, stride) {\n        this.array = array;\n        this.stride = stride;\n        this.count = array !== undefined ? array.length / stride : 0;\n        this.usage = StaticDrawUsage;\n        this.updateRange = {\n            offset: 0,\n            count: -1\n        };\n        this.version = 0;\n        this.uuid = MathUtils.generateUUID();\n    }\n\n    Object.defineProperty(InterleavedBuffer.prototype, 'needsUpdate', {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n    Object.assign(InterleavedBuffer.prototype, {\n        isInterleavedBuffer: true,\n        onUploadCallback: function onUploadCallback() {},\n        setUsage: function setUsage(value) {\n            this.usage = value;\n            return this;\n        },\n        copy: function copy(source) {\n            this.array = new source.array.constructor(source.array);\n            this.count = source.count;\n            this.stride = source.stride;\n            this.usage = source.usage;\n            return this;\n        },\n        copyAt: function copyAt(index1, attribute, index2) {\n            index1 *= this.stride;\n            index2 *= attribute.stride;\n\n            for (var i = 0, l = this.stride; i < l; i++) {\n                this.array[index1 + i] = attribute.array[index2 + i];\n            }\n\n            return this;\n        },\n        set: function set(value, offset) {\n            if (offset === undefined) offset = 0;\n            this.array.set(value, offset);\n            return this;\n        },\n        clone: function clone(data) {\n            if (data.arrayBuffers === undefined) {\n                data.arrayBuffers = {};\n            }\n\n            if (this.array.buffer._uuid === undefined) {\n                this.array.buffer._uuid = MathUtils.generateUUID();\n            }\n\n            if (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n                data.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer;\n            }\n\n            var array = new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]);\n            var ib = new InterleavedBuffer(array, this.stride);\n            ib.setUsage(this.usage);\n            return ib;\n        },\n        onUpload: function onUpload(callback) {\n            this.onUploadCallback = callback;\n            return this;\n        },\n        toJSON: function toJSON(data) {\n            if (data.arrayBuffers === undefined) {\n                data.arrayBuffers = {};\n            } // generate UUID for array buffer if necessary\n\n\n            if (this.array.buffer._uuid === undefined) {\n                this.array.buffer._uuid = MathUtils.generateUUID();\n            }\n\n            if (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n                data.arrayBuffers[this.array.buffer._uuid] = Array.prototype.slice.call(new Uint32Array(this.array.buffer));\n            } //\n\n\n            return {\n                uuid: this.uuid,\n                buffer: this.array.buffer._uuid,\n                type: this.array.constructor.name,\n                stride: this.stride\n            };\n        }\n    });\n\n    var _vector$6 = new Vector3();\n\n    function InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, normalized) {\n        this.name = '';\n        this.data = interleavedBuffer;\n        this.itemSize = itemSize;\n        this.offset = offset;\n        this.normalized = normalized === true;\n    }\n\n    Object.defineProperties(InterleavedBufferAttribute.prototype, {\n        count: {\n            get: function get() {\n                return this.data.count;\n            }\n        },\n        array: {\n            get: function get() {\n                return this.data.array;\n            }\n        },\n        needsUpdate: {\n            set: function set(value) {\n                this.data.needsUpdate = value;\n            }\n        }\n    });\n    Object.assign(InterleavedBufferAttribute.prototype, {\n        isInterleavedBufferAttribute: true,\n        applyMatrix4: function applyMatrix4(m) {\n            for (var i = 0, l = this.data.count; i < l; i++) {\n                _vector$6.x = this.getX(i);\n                _vector$6.y = this.getY(i);\n                _vector$6.z = this.getZ(i);\n\n                _vector$6.applyMatrix4(m);\n\n                this.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n            }\n\n            return this;\n        },\n        setX: function setX(index, x) {\n            this.data.array[index * this.data.stride + this.offset] = x;\n            return this;\n        },\n        setY: function setY(index, y) {\n            this.data.array[index * this.data.stride + this.offset + 1] = y;\n            return this;\n        },\n        setZ: function setZ(index, z) {\n            this.data.array[index * this.data.stride + this.offset + 2] = z;\n            return this;\n        },\n        setW: function setW(index, w) {\n            this.data.array[index * this.data.stride + this.offset + 3] = w;\n            return this;\n        },\n        getX: function getX(index) {\n            return this.data.array[index * this.data.stride + this.offset];\n        },\n        getY: function getY(index) {\n            return this.data.array[index * this.data.stride + this.offset + 1];\n        },\n        getZ: function getZ(index) {\n            return this.data.array[index * this.data.stride + this.offset + 2];\n        },\n        getW: function getW(index) {\n            return this.data.array[index * this.data.stride + this.offset + 3];\n        },\n        setXY: function setXY(index, x, y) {\n            index = index * this.data.stride + this.offset;\n            this.data.array[index + 0] = x;\n            this.data.array[index + 1] = y;\n            return this;\n        },\n        setXYZ: function setXYZ(index, x, y, z) {\n            index = index * this.data.stride + this.offset;\n            this.data.array[index + 0] = x;\n            this.data.array[index + 1] = y;\n            this.data.array[index + 2] = z;\n            return this;\n        },\n        setXYZW: function setXYZW(index, x, y, z, w) {\n            index = index * this.data.stride + this.offset;\n            this.data.array[index + 0] = x;\n            this.data.array[index + 1] = y;\n            this.data.array[index + 2] = z;\n            this.data.array[index + 3] = w;\n            return this;\n        },\n        clone: function clone(data) {\n            if (data === undefined) {\n                console.log('THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.');\n                var array = [];\n\n                for (var i = 0; i < this.count; i++) {\n                    var index = i * this.data.stride + this.offset;\n\n                    for (var j = 0; j < this.itemSize; j++) {\n                        array.push(this.data.array[index + j]);\n                    }\n                }\n\n                return new BufferAttribute(new this.array.constructor(array), this.itemSize, this.normalized);\n            } else {\n                if (data.interleavedBuffers === undefined) {\n                    data.interleavedBuffers = {};\n                }\n\n                if (data.interleavedBuffers[this.data.uuid] === undefined) {\n                    data.interleavedBuffers[this.data.uuid] = this.data.clone(data);\n                }\n\n                return new InterleavedBufferAttribute(data.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);\n            }\n        },\n        toJSON: function toJSON(data) {\n            if (data === undefined) {\n                console.log('THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.');\n                var array = [];\n\n                for (var i = 0; i < this.count; i++) {\n                    var index = i * this.data.stride + this.offset;\n\n                    for (var j = 0; j < this.itemSize; j++) {\n                        array.push(this.data.array[index + j]);\n                    }\n                } // deinterleave data and save it as an ordinary buffer attribute for now\n\n\n                return {\n                    itemSize: this.itemSize,\n                    type: this.array.constructor.name,\n                    array: array,\n                    normalized: this.normalized\n                };\n            } else {\n                // save as true interlaved attribtue\n                if (data.interleavedBuffers === undefined) {\n                    data.interleavedBuffers = {};\n                }\n\n                if (data.interleavedBuffers[this.data.uuid] === undefined) {\n                    data.interleavedBuffers[this.data.uuid] = this.data.toJSON(data);\n                }\n\n                return {\n                    isInterleavedBufferAttribute: true,\n                    itemSize: this.itemSize,\n                    data: this.data.uuid,\n                    offset: this.offset,\n                    normalized: this.normalized\n                };\n            }\n        }\n    });\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\trotation: <float>,\n\t *\tsizeAttenuation: <bool>\n\t * }\n     */\n\n    function SpriteMaterial(parameters) {\n        Material.call(this);\n        this.type = 'SpriteMaterial';\n        this.color = new Color(0xffffff);\n        this.map = null;\n        this.alphaMap = null;\n        this.rotation = 0;\n        this.sizeAttenuation = true;\n        this.transparent = true;\n        this.setValues(parameters);\n    }\n\n    SpriteMaterial.prototype = Object.create(Material.prototype);\n    SpriteMaterial.prototype.constructor = SpriteMaterial;\n    SpriteMaterial.prototype.isSpriteMaterial = true;\n\n    SpriteMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.color.copy(source.color);\n        this.map = source.map;\n        this.alphaMap = source.alphaMap;\n        this.rotation = source.rotation;\n        this.sizeAttenuation = source.sizeAttenuation;\n        return this;\n    };\n\n    var _geometry;\n\n    var _intersectPoint = new Vector3();\n\n    var _worldScale = new Vector3();\n\n    var _mvPosition = new Vector3();\n\n    var _alignedPosition = new Vector2();\n\n    var _rotatedPosition = new Vector2();\n\n    var _viewWorldMatrix = new Matrix4();\n\n    var _vA$1 = new Vector3();\n\n    var _vB$1 = new Vector3();\n\n    var _vC$1 = new Vector3();\n\n    var _uvA$1 = new Vector2();\n\n    var _uvB$1 = new Vector2();\n\n    var _uvC$1 = new Vector2();\n\n    function Sprite(material) {\n        Object3D.call(this);\n        this.type = 'Sprite';\n\n        if (_geometry === undefined) {\n            _geometry = new BufferGeometry();\n            var float32Array = new Float32Array([-0.5, -0.5, 0, 0, 0, 0.5, -0.5, 0, 1, 0, 0.5, 0.5, 0, 1, 1, -0.5, 0.5, 0, 0, 1]);\n            var interleavedBuffer = new InterleavedBuffer(float32Array, 5);\n\n            _geometry.setIndex([0, 1, 2, 0, 2, 3]);\n\n            _geometry.setAttribute('position', new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false));\n\n            _geometry.setAttribute('uv', new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false));\n        }\n\n        this.geometry = _geometry;\n        this.material = material !== undefined ? material : new SpriteMaterial();\n        this.center = new Vector2(0.5, 0.5);\n    }\n\n    Sprite.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Sprite,\n        isSprite: true,\n        raycast: function raycast(raycaster, intersects) {\n            if (raycaster.camera === null) {\n                console.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.');\n            }\n\n            _worldScale.setFromMatrixScale(this.matrixWorld);\n\n            _viewWorldMatrix.copy(raycaster.camera.matrixWorld);\n\n            this.modelViewMatrix.multiplyMatrices(raycaster.camera.matrixWorldInverse, this.matrixWorld);\n\n            _mvPosition.setFromMatrixPosition(this.modelViewMatrix);\n\n            if (raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false) {\n                _worldScale.multiplyScalar(-_mvPosition.z);\n            }\n\n            var rotation = this.material.rotation;\n            var sin, cos;\n\n            if (rotation !== 0) {\n                cos = Math.cos(rotation);\n                sin = Math.sin(rotation);\n            }\n\n            var center = this.center;\n            transformVertex(_vA$1.set(-0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n            transformVertex(_vB$1.set(0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n            transformVertex(_vC$1.set(0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n            _uvA$1.set(0, 0);\n\n            _uvB$1.set(1, 0);\n\n            _uvC$1.set(1, 1); // check first triangle\n\n\n            var intersect = raycaster.ray.intersectTriangle(_vA$1, _vB$1, _vC$1, false, _intersectPoint);\n\n            if (intersect === null) {\n                // check second triangle\n                transformVertex(_vB$1.set(-0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n                _uvB$1.set(0, 1);\n\n                intersect = raycaster.ray.intersectTriangle(_vA$1, _vC$1, _vB$1, false, _intersectPoint);\n\n                if (intersect === null) {\n                    return;\n                }\n            }\n\n            var distance = raycaster.ray.origin.distanceTo(_intersectPoint);\n            if (distance < raycaster.near || distance > raycaster.far) return;\n            intersects.push({\n                distance: distance,\n                point: _intersectPoint.clone(),\n                uv: Triangle.getUV(_intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2()),\n                face: null,\n                object: this\n            });\n        },\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source);\n            if (source.center !== undefined) this.center.copy(source.center);\n            this.material = source.material;\n            return this;\n        }\n    });\n\n    function transformVertex(vertexPosition, mvPosition, center, scale, sin, cos) {\n        // compute position in camera space\n        _alignedPosition.subVectors(vertexPosition, center).addScalar(0.5).multiply(scale); // to check if rotation is not zero\n\n\n        if (sin !== undefined) {\n            _rotatedPosition.x = cos * _alignedPosition.x - sin * _alignedPosition.y;\n            _rotatedPosition.y = sin * _alignedPosition.x + cos * _alignedPosition.y;\n        } else {\n            _rotatedPosition.copy(_alignedPosition);\n        }\n\n        vertexPosition.copy(mvPosition);\n        vertexPosition.x += _rotatedPosition.x;\n        vertexPosition.y += _rotatedPosition.y; // transform to world space\n\n        vertexPosition.applyMatrix4(_viewWorldMatrix);\n    }\n\n    var _v1$4 = new Vector3();\n\n    var _v2$2 = new Vector3();\n\n    function LOD() {\n        Object3D.call(this);\n        this._currentLevel = 0;\n        this.type = 'LOD';\n        Object.defineProperties(this, {\n            levels: {\n                enumerable: true,\n                value: []\n            }\n        });\n        this.autoUpdate = true;\n    }\n\n    LOD.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: LOD,\n        isLOD: true,\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source, false);\n            var levels = source.levels;\n\n            for (var i = 0, l = levels.length; i < l; i++) {\n                var level = levels[i];\n                this.addLevel(level.object.clone(), level.distance);\n            }\n\n            this.autoUpdate = source.autoUpdate;\n            return this;\n        },\n        addLevel: function addLevel(object, distance) {\n            if (distance === undefined) distance = 0;\n            distance = Math.abs(distance);\n            var levels = this.levels;\n            var l;\n\n            for (l = 0; l < levels.length; l++) {\n                if (distance < levels[l].distance) {\n                    break;\n                }\n            }\n\n            levels.splice(l, 0, {\n                distance: distance,\n                object: object\n            });\n            this.add(object);\n            return this;\n        },\n        getCurrentLevel: function getCurrentLevel() {\n            return this._currentLevel;\n        },\n        getObjectForDistance: function getObjectForDistance(distance) {\n            var levels = this.levels;\n\n            if (levels.length > 0) {\n                var i, l;\n\n                for (i = 1, l = levels.length; i < l; i++) {\n                    if (distance < levels[i].distance) {\n                        break;\n                    }\n                }\n\n                return levels[i - 1].object;\n            }\n\n            return null;\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var levels = this.levels;\n\n            if (levels.length > 0) {\n                _v1$4.setFromMatrixPosition(this.matrixWorld);\n\n                var distance = raycaster.ray.origin.distanceTo(_v1$4);\n                this.getObjectForDistance(distance).raycast(raycaster, intersects);\n            }\n        },\n        update: function update(camera) {\n            var levels = this.levels;\n\n            if (levels.length > 1) {\n                _v1$4.setFromMatrixPosition(camera.matrixWorld);\n\n                _v2$2.setFromMatrixPosition(this.matrixWorld);\n\n                var distance = _v1$4.distanceTo(_v2$2) / camera.zoom;\n                levels[0].object.visible = true;\n                var i, l;\n\n                for (i = 1, l = levels.length; i < l; i++) {\n                    if (distance >= levels[i].distance) {\n                        levels[i - 1].object.visible = false;\n                        levels[i].object.visible = true;\n                    } else {\n                        break;\n                    }\n                }\n\n                this._currentLevel = i - 1;\n\n                for (; i < l; i++) {\n                    levels[i].object.visible = false;\n                }\n            }\n        },\n        toJSON: function toJSON(meta) {\n            var data = Object3D.prototype.toJSON.call(this, meta);\n            if (this.autoUpdate === false) data.object.autoUpdate = false;\n            data.object.levels = [];\n            var levels = this.levels;\n\n            for (var i = 0, l = levels.length; i < l; i++) {\n                var level = levels[i];\n                data.object.levels.push({\n                    object: level.object.uuid,\n                    distance: level.distance\n                });\n            }\n\n            return data;\n        }\n    });\n\n    function SkinnedMesh(geometry, material) {\n        if (geometry && geometry.isGeometry) {\n            console.error('THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n        }\n\n        Mesh.call(this, geometry, material);\n        this.type = 'SkinnedMesh';\n        this.bindMode = 'attached';\n        this.bindMatrix = new Matrix4();\n        this.bindMatrixInverse = new Matrix4();\n    }\n\n    SkinnedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n        constructor: SkinnedMesh,\n        isSkinnedMesh: true,\n        copy: function copy(source) {\n            Mesh.prototype.copy.call(this, source);\n            this.bindMode = source.bindMode;\n            this.bindMatrix.copy(source.bindMatrix);\n            this.bindMatrixInverse.copy(source.bindMatrixInverse);\n            this.skeleton = source.skeleton;\n            return this;\n        },\n        bind: function bind(skeleton, bindMatrix) {\n            this.skeleton = skeleton;\n\n            if (bindMatrix === undefined) {\n                this.updateMatrixWorld(true);\n                this.skeleton.calculateInverses();\n                bindMatrix = this.matrixWorld;\n            }\n\n            this.bindMatrix.copy(bindMatrix);\n            this.bindMatrixInverse.getInverse(bindMatrix);\n        },\n        pose: function pose() {\n            this.skeleton.pose();\n        },\n        normalizeSkinWeights: function normalizeSkinWeights() {\n            var vector = new Vector4();\n            var skinWeight = this.geometry.attributes.skinWeight;\n\n            for (var i = 0, l = skinWeight.count; i < l; i++) {\n                vector.x = skinWeight.getX(i);\n                vector.y = skinWeight.getY(i);\n                vector.z = skinWeight.getZ(i);\n                vector.w = skinWeight.getW(i);\n                var scale = 1.0 / vector.manhattanLength();\n\n                if (scale !== Infinity) {\n                    vector.multiplyScalar(scale);\n                } else {\n                    vector.set(1, 0, 0, 0); // do something reasonable\n                }\n\n                skinWeight.setXYZW(i, vector.x, vector.y, vector.z, vector.w);\n            }\n        },\n        updateMatrixWorld: function updateMatrixWorld(force) {\n            Mesh.prototype.updateMatrixWorld.call(this, force);\n\n            if (this.bindMode === 'attached') {\n                this.bindMatrixInverse.getInverse(this.matrixWorld);\n            } else if (this.bindMode === 'detached') {\n                this.bindMatrixInverse.getInverse(this.bindMatrix);\n            } else {\n                console.warn('THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode);\n            }\n        },\n        boneTransform: function () {\n            var basePosition = new Vector3();\n            var skinIndex = new Vector4();\n            var skinWeight = new Vector4();\n            var vector = new Vector3();\n            var matrix = new Matrix4();\n            return function (index, target) {\n                var skeleton = this.skeleton;\n                var geometry = this.geometry;\n                skinIndex.fromBufferAttribute(geometry.attributes.skinIndex, index);\n                skinWeight.fromBufferAttribute(geometry.attributes.skinWeight, index);\n                basePosition.fromBufferAttribute(geometry.attributes.position, index).applyMatrix4(this.bindMatrix);\n                target.set(0, 0, 0);\n\n                for (var i = 0; i < 4; i++) {\n                    var weight = skinWeight.getComponent(i);\n\n                    if (weight !== 0) {\n                        var boneIndex = skinIndex.getComponent(i);\n                        matrix.multiplyMatrices(skeleton.bones[boneIndex].matrixWorld, skeleton.boneInverses[boneIndex]);\n                        target.addScaledVector(vector.copy(basePosition).applyMatrix4(matrix), weight);\n                    }\n                }\n\n                return target.applyMatrix4(this.bindMatrixInverse);\n            };\n        }()\n    });\n\n    var _offsetMatrix = new Matrix4();\n\n    var _identityMatrix = new Matrix4();\n\n    function Skeleton(bones, boneInverses) {\n        // copy the bone array\n        bones = bones || [];\n        this.bones = bones.slice(0);\n        this.boneMatrices = new Float32Array(this.bones.length * 16);\n        this.frame = -1; // use the supplied bone inverses or calculate the inverses\n\n        if (boneInverses === undefined) {\n            this.calculateInverses();\n        } else {\n            if (this.bones.length === boneInverses.length) {\n                this.boneInverses = boneInverses.slice(0);\n            } else {\n                console.warn('THREE.Skeleton boneInverses is the wrong length.');\n                this.boneInverses = [];\n\n                for (var i = 0, il = this.bones.length; i < il; i++) {\n                    this.boneInverses.push(new Matrix4());\n                }\n            }\n        }\n    }\n\n    Object.assign(Skeleton.prototype, {\n        calculateInverses: function calculateInverses() {\n            this.boneInverses = [];\n\n            for (var i = 0, il = this.bones.length; i < il; i++) {\n                var inverse = new Matrix4();\n\n                if (this.bones[i]) {\n                    inverse.getInverse(this.bones[i].matrixWorld);\n                }\n\n                this.boneInverses.push(inverse);\n            }\n        },\n        pose: function pose() {\n            // recover the bind-time world matrices\n            for (var i = 0, il = this.bones.length; i < il; i++) {\n                var bone = this.bones[i];\n\n                if (bone) {\n                    bone.matrixWorld.getInverse(this.boneInverses[i]);\n                }\n            } // compute the local matrices, positions, rotations and scales\n\n\n            for (var _i = 0, _il = this.bones.length; _i < _il; _i++) {\n                var _bone = this.bones[_i];\n\n                if (_bone) {\n                    if (_bone.parent && _bone.parent.isBone) {\n                        _bone.matrix.getInverse(_bone.parent.matrixWorld);\n\n                        _bone.matrix.multiply(_bone.matrixWorld);\n                    } else {\n                        _bone.matrix.copy(_bone.matrixWorld);\n                    }\n\n                    _bone.matrix.decompose(_bone.position, _bone.quaternion, _bone.scale);\n                }\n            }\n        },\n        update: function update() {\n            var bones = this.bones;\n            var boneInverses = this.boneInverses;\n            var boneMatrices = this.boneMatrices;\n            var boneTexture = this.boneTexture; // flatten bone matrices to array\n\n            for (var i = 0, il = bones.length; i < il; i++) {\n                // compute the offset between the current and the original transform\n                var matrix = bones[i] ? bones[i].matrixWorld : _identityMatrix;\n\n                _offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);\n\n                _offsetMatrix.toArray(boneMatrices, i * 16);\n            }\n\n            if (boneTexture !== undefined) {\n                boneTexture.needsUpdate = true;\n            }\n        },\n        clone: function clone() {\n            return new Skeleton(this.bones, this.boneInverses);\n        },\n        getBoneByName: function getBoneByName(name) {\n            for (var i = 0, il = this.bones.length; i < il; i++) {\n                var bone = this.bones[i];\n\n                if (bone.name === name) {\n                    return bone;\n                }\n            }\n\n            return undefined;\n        },\n        dispose: function dispose() {\n            if (this.boneTexture) {\n                this.boneTexture.dispose();\n                this.boneTexture = undefined;\n            }\n        }\n    });\n\n    function Bone() {\n        Object3D.call(this);\n        this.type = 'Bone';\n    }\n\n    Bone.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Bone,\n        isBone: true\n    });\n\n    var _instanceLocalMatrix = new Matrix4();\n\n    var _instanceWorldMatrix = new Matrix4();\n\n    var _instanceIntersects = [];\n\n    var _mesh = new Mesh();\n\n    function InstancedMesh(geometry, material, count) {\n        Mesh.call(this, geometry, material);\n        this.instanceMatrix = new BufferAttribute(new Float32Array(count * 16), 16);\n        this.instanceColor = null;\n        this.count = count;\n        this.frustumCulled = false;\n    }\n\n    InstancedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n        constructor: InstancedMesh,\n        isInstancedMesh: true,\n        copy: function copy(source) {\n            Mesh.prototype.copy.call(this, source);\n            this.instanceMatrix.copy(source.instanceMatrix);\n            this.count = source.count;\n            return this;\n        },\n        setColorAt: function setColorAt(index, color) {\n            if (this.instanceColor === null) {\n                this.instanceColor = new BufferAttribute(new Float32Array(this.count * 3), 3);\n            }\n\n            color.toArray(this.instanceColor.array, index * 3);\n        },\n        getMatrixAt: function getMatrixAt(index, matrix) {\n            matrix.fromArray(this.instanceMatrix.array, index * 16);\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var matrixWorld = this.matrixWorld;\n            var raycastTimes = this.count;\n            _mesh.geometry = this.geometry;\n            _mesh.material = this.material;\n            if (_mesh.material === undefined) return;\n\n            for (var instanceId = 0; instanceId < raycastTimes; instanceId++) {\n                // calculate the world matrix for each instance\n                this.getMatrixAt(instanceId, _instanceLocalMatrix);\n\n                _instanceWorldMatrix.multiplyMatrices(matrixWorld, _instanceLocalMatrix); // the mesh represents this single instance\n\n\n                _mesh.matrixWorld = _instanceWorldMatrix;\n\n                _mesh.raycast(raycaster, _instanceIntersects); // process the result of raycast\n\n\n                for (var i = 0, l = _instanceIntersects.length; i < l; i++) {\n                    var intersect = _instanceIntersects[i];\n                    intersect.instanceId = instanceId;\n                    intersect.object = this;\n                    intersects.push(intersect);\n                }\n\n                _instanceIntersects.length = 0;\n            }\n        },\n        setMatrixAt: function setMatrixAt(index, matrix) {\n            matrix.toArray(this.instanceMatrix.array, index * 16);\n        },\n        updateMorphTargets: function updateMorphTargets() {}\n    });\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\n\t *\tlinewidth: <float>,\n\t *\tlinecap: \"round\",\n\t *\tlinejoin: \"round\"\n\t * }\n     */\n\n    function LineBasicMaterial(parameters) {\n        Material.call(this);\n        this.type = 'LineBasicMaterial';\n        this.color = new Color(0xffffff);\n        this.linewidth = 1;\n        this.linecap = 'round';\n        this.linejoin = 'round';\n        this.morphTargets = false;\n        this.setValues(parameters);\n    }\n\n    LineBasicMaterial.prototype = Object.create(Material.prototype);\n    LineBasicMaterial.prototype.constructor = LineBasicMaterial;\n    LineBasicMaterial.prototype.isLineBasicMaterial = true;\n\n    LineBasicMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.color.copy(source.color);\n        this.linewidth = source.linewidth;\n        this.linecap = source.linecap;\n        this.linejoin = source.linejoin;\n        this.morphTargets = source.morphTargets;\n        return this;\n    };\n\n    var _start = new Vector3();\n\n    var _end = new Vector3();\n\n    var _inverseMatrix$1 = new Matrix4();\n\n    var _ray$1 = new Ray();\n\n    var _sphere$2 = new Sphere();\n\n    function Line(geometry, material, mode) {\n        if (mode === 1) {\n            console.error('THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.');\n        }\n\n        Object3D.call(this);\n        this.type = 'Line';\n        this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n        this.material = material !== undefined ? material : new LineBasicMaterial();\n        this.updateMorphTargets();\n    }\n\n    Line.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Line,\n        isLine: true,\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source);\n            this.material = source.material;\n            this.geometry = source.geometry;\n            return this;\n        },\n        computeLineDistances: function computeLineDistances() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                // we assume non-indexed geometry\n                if (geometry.index === null) {\n                    var positionAttribute = geometry.attributes.position;\n                    var lineDistances = [0];\n\n                    for (var i = 1, l = positionAttribute.count; i < l; i++) {\n                        _start.fromBufferAttribute(positionAttribute, i - 1);\n\n                        _end.fromBufferAttribute(positionAttribute, i);\n\n                        lineDistances[i] = lineDistances[i - 1];\n                        lineDistances[i] += _start.distanceTo(_end);\n                    }\n\n                    geometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n                } else {\n                    console.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n                }\n            } else if (geometry.isGeometry) {\n                var vertices = geometry.vertices;\n                var _lineDistances = geometry.lineDistances;\n                _lineDistances[0] = 0;\n\n                for (var _i = 1, _l = vertices.length; _i < _l; _i++) {\n                    _lineDistances[_i] = _lineDistances[_i - 1];\n                    _lineDistances[_i] += vertices[_i - 1].distanceTo(vertices[_i]);\n                }\n            }\n\n            return this;\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var geometry = this.geometry;\n            var matrixWorld = this.matrixWorld;\n            var threshold = raycaster.params.Line.threshold; // Checking boundingSphere distance to ray\n\n            if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n            _sphere$2.copy(geometry.boundingSphere);\n\n            _sphere$2.applyMatrix4(matrixWorld);\n\n            _sphere$2.radius += threshold;\n            if (raycaster.ray.intersectsSphere(_sphere$2) === false) return; //\n\n            _inverseMatrix$1.getInverse(matrixWorld);\n\n            _ray$1.copy(raycaster.ray).applyMatrix4(_inverseMatrix$1);\n\n            var localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n            var localThresholdSq = localThreshold * localThreshold;\n            var vStart = new Vector3();\n            var vEnd = new Vector3();\n            var interSegment = new Vector3();\n            var interRay = new Vector3();\n            var step = this.isLineSegments ? 2 : 1;\n\n            if (geometry.isBufferGeometry) {\n                var index = geometry.index;\n                var attributes = geometry.attributes;\n                var positionAttribute = attributes.position;\n\n                if (index !== null) {\n                    var indices = index.array;\n\n                    for (var i = 0, l = indices.length - 1; i < l; i += step) {\n                        var a = indices[i];\n                        var b = indices[i + 1];\n                        vStart.fromBufferAttribute(positionAttribute, a);\n                        vEnd.fromBufferAttribute(positionAttribute, b);\n\n                        var distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n                        if (distSq > localThresholdSq) continue;\n                        interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n                        var distance = raycaster.ray.origin.distanceTo(interRay);\n                        if (distance < raycaster.near || distance > raycaster.far) continue;\n                        intersects.push({\n                            distance: distance,\n                            // What do we want? intersection point on the ray or on the segment??\n                            // point: raycaster.ray.at( distance ),\n                            point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                            index: i,\n                            face: null,\n                            faceIndex: null,\n                            object: this\n                        });\n                    }\n                } else {\n                    for (var _i2 = 0, _l2 = positionAttribute.count - 1; _i2 < _l2; _i2 += step) {\n                        vStart.fromBufferAttribute(positionAttribute, _i2);\n                        vEnd.fromBufferAttribute(positionAttribute, _i2 + 1);\n\n                        var _distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n                        if (_distSq > localThresholdSq) continue;\n                        interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n                        var _distance = raycaster.ray.origin.distanceTo(interRay);\n\n                        if (_distance < raycaster.near || _distance > raycaster.far) continue;\n                        intersects.push({\n                            distance: _distance,\n                            // What do we want? intersection point on the ray or on the segment??\n                            // point: raycaster.ray.at( distance ),\n                            point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                            index: _i2,\n                            face: null,\n                            faceIndex: null,\n                            object: this\n                        });\n                    }\n                }\n            } else if (geometry.isGeometry) {\n                var vertices = geometry.vertices;\n                var nbVertices = vertices.length;\n\n                for (var _i3 = 0; _i3 < nbVertices - 1; _i3 += step) {\n                    var _distSq2 = _ray$1.distanceSqToSegment(vertices[_i3], vertices[_i3 + 1], interRay, interSegment);\n\n                    if (_distSq2 > localThresholdSq) continue;\n                    interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n                    var _distance2 = raycaster.ray.origin.distanceTo(interRay);\n\n                    if (_distance2 < raycaster.near || _distance2 > raycaster.far) continue;\n                    intersects.push({\n                        distance: _distance2,\n                        // What do we want? intersection point on the ray or on the segment??\n                        // point: raycaster.ray.at( distance ),\n                        point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                        index: _i3,\n                        face: null,\n                        faceIndex: null,\n                        object: this\n                    });\n                }\n            }\n        },\n        updateMorphTargets: function updateMorphTargets() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                var morphAttributes = geometry.morphAttributes;\n                var keys = Object.keys(morphAttributes);\n\n                if (keys.length > 0) {\n                    var morphAttribute = morphAttributes[keys[0]];\n\n                    if (morphAttribute !== undefined) {\n                        this.morphTargetInfluences = [];\n                        this.morphTargetDictionary = {};\n\n                        for (var m = 0, ml = morphAttribute.length; m < ml; m++) {\n                            var name = morphAttribute[m].name || String(m);\n                            this.morphTargetInfluences.push(0);\n                            this.morphTargetDictionary[name] = m;\n                        }\n                    }\n                }\n            } else {\n                var morphTargets = geometry.morphTargets;\n\n                if (morphTargets !== undefined && morphTargets.length > 0) {\n                    console.error('THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n                }\n            }\n        }\n    });\n\n    var _start$1 = new Vector3();\n\n    var _end$1 = new Vector3();\n\n    function LineSegments(geometry, material) {\n        Line.call(this, geometry, material);\n        this.type = 'LineSegments';\n    }\n\n    LineSegments.prototype = Object.assign(Object.create(Line.prototype), {\n        constructor: LineSegments,\n        isLineSegments: true,\n        computeLineDistances: function computeLineDistances() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                // we assume non-indexed geometry\n                if (geometry.index === null) {\n                    var positionAttribute = geometry.attributes.position;\n                    var lineDistances = [];\n\n                    for (var i = 0, l = positionAttribute.count; i < l; i += 2) {\n                        _start$1.fromBufferAttribute(positionAttribute, i);\n\n                        _end$1.fromBufferAttribute(positionAttribute, i + 1);\n\n                        lineDistances[i] = i === 0 ? 0 : lineDistances[i - 1];\n                        lineDistances[i + 1] = lineDistances[i] + _start$1.distanceTo(_end$1);\n                    }\n\n                    geometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n                } else {\n                    console.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n                }\n            } else if (geometry.isGeometry) {\n                var vertices = geometry.vertices;\n                var _lineDistances = geometry.lineDistances;\n\n                for (var _i = 0, _l = vertices.length; _i < _l; _i += 2) {\n                    _start$1.copy(vertices[_i]);\n\n                    _end$1.copy(vertices[_i + 1]);\n\n                    _lineDistances[_i] = _i === 0 ? 0 : _lineDistances[_i - 1];\n                    _lineDistances[_i + 1] = _lineDistances[_i] + _start$1.distanceTo(_end$1);\n                }\n            }\n\n            return this;\n        }\n    });\n\n    function LineLoop(geometry, material) {\n        Line.call(this, geometry, material);\n        this.type = 'LineLoop';\n    }\n\n    LineLoop.prototype = Object.assign(Object.create(Line.prototype), {\n        constructor: LineLoop,\n        isLineLoop: true\n    });\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tsize: <float>,\n\t *\tsizeAttenuation: <bool>\n\t *\n\t *\tmorphTargets: <bool>\n\t * }\n     */\n\n    function PointsMaterial(parameters) {\n        Material.call(this);\n        this.type = 'PointsMaterial';\n        this.color = new Color(0xffffff);\n        this.map = null;\n        this.alphaMap = null;\n        this.size = 1;\n        this.sizeAttenuation = true;\n        this.morphTargets = false;\n        this.setValues(parameters);\n    }\n\n    PointsMaterial.prototype = Object.create(Material.prototype);\n    PointsMaterial.prototype.constructor = PointsMaterial;\n    PointsMaterial.prototype.isPointsMaterial = true;\n\n    PointsMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.color.copy(source.color);\n        this.map = source.map;\n        this.alphaMap = source.alphaMap;\n        this.size = source.size;\n        this.sizeAttenuation = source.sizeAttenuation;\n        this.morphTargets = source.morphTargets;\n        return this;\n    };\n\n    var _inverseMatrix$2 = new Matrix4();\n\n    var _ray$2 = new Ray();\n\n    var _sphere$3 = new Sphere();\n\n    var _position$1 = new Vector3();\n\n    function Points(geometry, material) {\n        Object3D.call(this);\n        this.type = 'Points';\n        this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n        this.material = material !== undefined ? material : new PointsMaterial();\n        this.updateMorphTargets();\n    }\n\n    Points.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Points,\n        isPoints: true,\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source);\n            this.material = source.material;\n            this.geometry = source.geometry;\n            return this;\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var geometry = this.geometry;\n            var matrixWorld = this.matrixWorld;\n            var threshold = raycaster.params.Points.threshold; // Checking boundingSphere distance to ray\n\n            if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n            _sphere$3.copy(geometry.boundingSphere);\n\n            _sphere$3.applyMatrix4(matrixWorld);\n\n            _sphere$3.radius += threshold;\n            if (raycaster.ray.intersectsSphere(_sphere$3) === false) return; //\n\n            _inverseMatrix$2.getInverse(matrixWorld);\n\n            _ray$2.copy(raycaster.ray).applyMatrix4(_inverseMatrix$2);\n\n            var localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n            var localThresholdSq = localThreshold * localThreshold;\n\n            if (geometry.isBufferGeometry) {\n                var index = geometry.index;\n                var attributes = geometry.attributes;\n                var positionAttribute = attributes.position;\n\n                if (index !== null) {\n                    var indices = index.array;\n\n                    for (var i = 0, il = indices.length; i < il; i++) {\n                        var a = indices[i];\n\n                        _position$1.fromBufferAttribute(positionAttribute, a);\n\n                        testPoint(_position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this);\n                    }\n                } else {\n                    for (var _i = 0, l = positionAttribute.count; _i < l; _i++) {\n                        _position$1.fromBufferAttribute(positionAttribute, _i);\n\n                        testPoint(_position$1, _i, localThresholdSq, matrixWorld, raycaster, intersects, this);\n                    }\n                }\n            } else {\n                var vertices = geometry.vertices;\n\n                for (var _i2 = 0, _l = vertices.length; _i2 < _l; _i2++) {\n                    testPoint(vertices[_i2], _i2, localThresholdSq, matrixWorld, raycaster, intersects, this);\n                }\n            }\n        },\n        updateMorphTargets: function updateMorphTargets() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                var morphAttributes = geometry.morphAttributes;\n                var keys = Object.keys(morphAttributes);\n\n                if (keys.length > 0) {\n                    var morphAttribute = morphAttributes[keys[0]];\n\n                    if (morphAttribute !== undefined) {\n                        this.morphTargetInfluences = [];\n                        this.morphTargetDictionary = {};\n\n                        for (var m = 0, ml = morphAttribute.length; m < ml; m++) {\n                            var name = morphAttribute[m].name || String(m);\n                            this.morphTargetInfluences.push(0);\n                            this.morphTargetDictionary[name] = m;\n                        }\n                    }\n                }\n            } else {\n                var morphTargets = geometry.morphTargets;\n\n                if (morphTargets !== undefined && morphTargets.length > 0) {\n                    console.error('THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n                }\n            }\n        }\n    });\n\n    function testPoint(point, index, localThresholdSq, matrixWorld, raycaster, intersects, object) {\n        var rayPointDistanceSq = _ray$2.distanceSqToPoint(point);\n\n        if (rayPointDistanceSq < localThresholdSq) {\n            var intersectPoint = new Vector3();\n\n            _ray$2.closestPointToPoint(point, intersectPoint);\n\n            intersectPoint.applyMatrix4(matrixWorld);\n            var distance = raycaster.ray.origin.distanceTo(intersectPoint);\n            if (distance < raycaster.near || distance > raycaster.far) return;\n            intersects.push({\n                distance: distance,\n                distanceToRay: Math.sqrt(rayPointDistanceSq),\n                point: intersectPoint,\n                index: index,\n                face: null,\n                object: object\n            });\n        }\n    }\n\n    function VideoTexture(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n        Texture.call(this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n        this.format = format !== undefined ? format : RGBFormat;\n        this.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n        this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n        this.generateMipmaps = false;\n        var scope = this;\n\n        function updateVideo() {\n            scope.needsUpdate = true;\n            video.requestVideoFrameCallback(updateVideo);\n        }\n\n        if ('requestVideoFrameCallback' in video) {\n            video.requestVideoFrameCallback(updateVideo);\n        }\n    }\n\n    VideoTexture.prototype = Object.assign(Object.create(Texture.prototype), {\n        constructor: VideoTexture,\n        isVideoTexture: true,\n        update: function update() {\n            var video = this.image;\n            var hasVideoFrameCallback = ('requestVideoFrameCallback' in video);\n\n            if (hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA) {\n                this.needsUpdate = true;\n            }\n        }\n    });\n\n    function CompressedTexture(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n        Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n        this.image = {\n            width: width,\n            height: height\n        };\n        this.mipmaps = mipmaps; // no flipping for cube textures\n        // (also flipping doesn't work for compressed textures )\n\n        this.flipY = false; // can't generate mipmaps for compressed textures\n        // mips must be embedded in DDS files\n\n        this.generateMipmaps = false;\n    }\n\n    CompressedTexture.prototype = Object.create(Texture.prototype);\n    CompressedTexture.prototype.constructor = CompressedTexture;\n    CompressedTexture.prototype.isCompressedTexture = true;\n\n    function CanvasTexture(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n        Texture.call(this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n        this.needsUpdate = true;\n    }\n\n    CanvasTexture.prototype = Object.create(Texture.prototype);\n    CanvasTexture.prototype.constructor = CanvasTexture;\n    CanvasTexture.prototype.isCanvasTexture = true;\n\n    function DepthTexture(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {\n        format = format !== undefined ? format : DepthFormat;\n\n        if (format !== DepthFormat && format !== DepthStencilFormat) {\n            throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');\n        }\n\n        if (type === undefined && format === DepthFormat) type = UnsignedShortType;\n        if (type === undefined && format === DepthStencilFormat) type = UnsignedInt248Type;\n        Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n        this.image = {\n            width: width,\n            height: height\n        };\n        this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n        this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n        this.flipY = false;\n        this.generateMipmaps = false;\n    }\n\n    DepthTexture.prototype = Object.create(Texture.prototype);\n    DepthTexture.prototype.constructor = DepthTexture;\n    DepthTexture.prototype.isDepthTexture = true;\n\n    var _geometryId = 0; // Geometry uses even numbers as Id\n\n    var _m1$3 = new Matrix4();\n\n    var _obj$1 = new Object3D();\n\n    var _offset$1 = new Vector3();\n\n    function Geometry() {\n        Object.defineProperty(this, 'id', {\n            value: _geometryId += 2\n        });\n        this.uuid = MathUtils.generateUUID();\n        this.name = '';\n        this.type = 'Geometry';\n        this.vertices = [];\n        this.colors = [];\n        this.faces = [];\n        this.faceVertexUvs = [[]];\n        this.morphTargets = [];\n        this.morphNormals = [];\n        this.skinWeights = [];\n        this.skinIndices = [];\n        this.lineDistances = [];\n        this.boundingBox = null;\n        this.boundingSphere = null; // update flags\n\n        this.elementsNeedUpdate = false;\n        this.verticesNeedUpdate = false;\n        this.uvsNeedUpdate = false;\n        this.normalsNeedUpdate = false;\n        this.colorsNeedUpdate = false;\n        this.lineDistancesNeedUpdate = false;\n        this.groupsNeedUpdate = false;\n    }\n\n    Geometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: Geometry,\n        isGeometry: true,\n        applyMatrix4: function applyMatrix4(matrix) {\n            var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n            for (var i = 0, il = this.vertices.length; i < il; i++) {\n                var vertex = this.vertices[i];\n                vertex.applyMatrix4(matrix);\n            }\n\n            for (var _i = 0, _il = this.faces.length; _i < _il; _i++) {\n                var face = this.faces[_i];\n                face.normal.applyMatrix3(normalMatrix).normalize();\n\n                for (var j = 0, jl = face.vertexNormals.length; j < jl; j++) {\n                    face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();\n                }\n            }\n\n            if (this.boundingBox !== null) {\n                this.computeBoundingBox();\n            }\n\n            if (this.boundingSphere !== null) {\n                this.computeBoundingSphere();\n            }\n\n            this.verticesNeedUpdate = true;\n            this.normalsNeedUpdate = true;\n            return this;\n        },\n        rotateX: function rotateX(angle) {\n            // rotate geometry around world x-axis\n            _m1$3.makeRotationX(angle);\n\n            this.applyMatrix4(_m1$3);\n            return this;\n        },\n        rotateY: function rotateY(angle) {\n            // rotate geometry around world y-axis\n            _m1$3.makeRotationY(angle);\n\n            this.applyMatrix4(_m1$3);\n            return this;\n        },\n        rotateZ: function rotateZ(angle) {\n            // rotate geometry around world z-axis\n            _m1$3.makeRotationZ(angle);\n\n            this.applyMatrix4(_m1$3);\n            return this;\n        },\n        translate: function translate(x, y, z) {\n            // translate geometry\n            _m1$3.makeTranslation(x, y, z);\n\n            this.applyMatrix4(_m1$3);\n            return this;\n        },\n        scale: function scale(x, y, z) {\n            // scale geometry\n            _m1$3.makeScale(x, y, z);\n\n            this.applyMatrix4(_m1$3);\n            return this;\n        },\n        lookAt: function lookAt(vector) {\n            _obj$1.lookAt(vector);\n\n            _obj$1.updateMatrix();\n\n            this.applyMatrix4(_obj$1.matrix);\n            return this;\n        },\n        fromBufferGeometry: function fromBufferGeometry(geometry) {\n            var scope = this;\n            var index = geometry.index !== null ? geometry.index : undefined;\n            var attributes = geometry.attributes;\n\n            if (attributes.position === undefined) {\n                console.error('THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.');\n                return this;\n            }\n\n            var position = attributes.position;\n            var normal = attributes.normal;\n            var color = attributes.color;\n            var uv = attributes.uv;\n            var uv2 = attributes.uv2;\n            if (uv2 !== undefined) this.faceVertexUvs[1] = [];\n\n            for (var i = 0; i < position.count; i++) {\n                scope.vertices.push(new Vector3().fromBufferAttribute(position, i));\n\n                if (color !== undefined) {\n                    scope.colors.push(new Color().fromBufferAttribute(color, i));\n                }\n            }\n\n            function addFace(a, b, c, materialIndex) {\n                var vertexColors = color === undefined ? [] : [scope.colors[a].clone(), scope.colors[b].clone(), scope.colors[c].clone()];\n                var vertexNormals = normal === undefined ? [] : [new Vector3().fromBufferAttribute(normal, a), new Vector3().fromBufferAttribute(normal, b), new Vector3().fromBufferAttribute(normal, c)];\n                var face = new Face3(a, b, c, vertexNormals, vertexColors, materialIndex);\n                scope.faces.push(face);\n\n                if (uv !== undefined) {\n                    scope.faceVertexUvs[0].push([new Vector2().fromBufferAttribute(uv, a), new Vector2().fromBufferAttribute(uv, b), new Vector2().fromBufferAttribute(uv, c)]);\n                }\n\n                if (uv2 !== undefined) {\n                    scope.faceVertexUvs[1].push([new Vector2().fromBufferAttribute(uv2, a), new Vector2().fromBufferAttribute(uv2, b), new Vector2().fromBufferAttribute(uv2, c)]);\n                }\n            }\n\n            var groups = geometry.groups;\n\n            if (groups.length > 0) {\n                for (var _i2 = 0; _i2 < groups.length; _i2++) {\n                    var group = groups[_i2];\n                    var start = group.start;\n                    var count = group.count;\n\n                    for (var j = start, jl = start + count; j < jl; j += 3) {\n                        if (index !== undefined) {\n                            addFace(index.getX(j), index.getX(j + 1), index.getX(j + 2), group.materialIndex);\n                        } else {\n                            addFace(j, j + 1, j + 2, group.materialIndex);\n                        }\n                    }\n                }\n            } else {\n                if (index !== undefined) {\n                    for (var _i3 = 0; _i3 < index.count; _i3 += 3) {\n                        addFace(index.getX(_i3), index.getX(_i3 + 1), index.getX(_i3 + 2));\n                    }\n                } else {\n                    for (var _i4 = 0; _i4 < position.count; _i4 += 3) {\n                        addFace(_i4, _i4 + 1, _i4 + 2);\n                    }\n                }\n            }\n\n            this.computeFaceNormals();\n\n            if (geometry.boundingBox !== null) {\n                this.boundingBox = geometry.boundingBox.clone();\n            }\n\n            if (geometry.boundingSphere !== null) {\n                this.boundingSphere = geometry.boundingSphere.clone();\n            }\n\n            return this;\n        },\n        center: function center() {\n            this.computeBoundingBox();\n            this.boundingBox.getCenter(_offset$1).negate();\n            this.translate(_offset$1.x, _offset$1.y, _offset$1.z);\n            return this;\n        },\n        normalize: function normalize() {\n            this.computeBoundingSphere();\n            var center = this.boundingSphere.center;\n            var radius = this.boundingSphere.radius;\n            var s = radius === 0 ? 1 : 1.0 / radius;\n            var matrix = new Matrix4();\n            matrix.set(s, 0, 0, -s * center.x, 0, s, 0, -s * center.y, 0, 0, s, -s * center.z, 0, 0, 0, 1);\n            this.applyMatrix4(matrix);\n            return this;\n        },\n        computeFaceNormals: function computeFaceNormals() {\n            var cb = new Vector3(),\n                ab = new Vector3();\n\n            for (var f = 0, fl = this.faces.length; f < fl; f++) {\n                var face = this.faces[f];\n                var vA = this.vertices[face.a];\n                var vB = this.vertices[face.b];\n                var vC = this.vertices[face.c];\n                cb.subVectors(vC, vB);\n                ab.subVectors(vA, vB);\n                cb.cross(ab);\n                cb.normalize();\n                face.normal.copy(cb);\n            }\n        },\n        computeVertexNormals: function computeVertexNormals(areaWeighted) {\n            if (areaWeighted === undefined) areaWeighted = true;\n            var vertices = new Array(this.vertices.length);\n\n            for (var v = 0, vl = this.vertices.length; v < vl; v++) {\n                vertices[v] = new Vector3();\n            }\n\n            if (areaWeighted) {\n                // vertex normals weighted by triangle areas\n                // http://www.iquilezles.org/www/articles/normals/normals.htm\n                var cb = new Vector3(),\n                    ab = new Vector3();\n\n                for (var f = 0, fl = this.faces.length; f < fl; f++) {\n                    var face = this.faces[f];\n                    var vA = this.vertices[face.a];\n                    var vB = this.vertices[face.b];\n                    var vC = this.vertices[face.c];\n                    cb.subVectors(vC, vB);\n                    ab.subVectors(vA, vB);\n                    cb.cross(ab);\n                    vertices[face.a].add(cb);\n                    vertices[face.b].add(cb);\n                    vertices[face.c].add(cb);\n                }\n            } else {\n                this.computeFaceNormals();\n\n                for (var _f = 0, _fl = this.faces.length; _f < _fl; _f++) {\n                    var _face = this.faces[_f];\n\n                    vertices[_face.a].add(_face.normal);\n\n                    vertices[_face.b].add(_face.normal);\n\n                    vertices[_face.c].add(_face.normal);\n                }\n            }\n\n            for (var _v = 0, _vl = this.vertices.length; _v < _vl; _v++) {\n                vertices[_v].normalize();\n            }\n\n            for (var _f2 = 0, _fl2 = this.faces.length; _f2 < _fl2; _f2++) {\n                var _face2 = this.faces[_f2];\n                var vertexNormals = _face2.vertexNormals;\n\n                if (vertexNormals.length === 3) {\n                    vertexNormals[0].copy(vertices[_face2.a]);\n                    vertexNormals[1].copy(vertices[_face2.b]);\n                    vertexNormals[2].copy(vertices[_face2.c]);\n                } else {\n                    vertexNormals[0] = vertices[_face2.a].clone();\n                    vertexNormals[1] = vertices[_face2.b].clone();\n                    vertexNormals[2] = vertices[_face2.c].clone();\n                }\n            }\n\n            if (this.faces.length > 0) {\n                this.normalsNeedUpdate = true;\n            }\n        },\n        computeFlatVertexNormals: function computeFlatVertexNormals() {\n            this.computeFaceNormals();\n\n            for (var f = 0, fl = this.faces.length; f < fl; f++) {\n                var face = this.faces[f];\n                var vertexNormals = face.vertexNormals;\n\n                if (vertexNormals.length === 3) {\n                    vertexNormals[0].copy(face.normal);\n                    vertexNormals[1].copy(face.normal);\n                    vertexNormals[2].copy(face.normal);\n                } else {\n                    vertexNormals[0] = face.normal.clone();\n                    vertexNormals[1] = face.normal.clone();\n                    vertexNormals[2] = face.normal.clone();\n                }\n            }\n\n            if (this.faces.length > 0) {\n                this.normalsNeedUpdate = true;\n            }\n        },\n        computeMorphNormals: function computeMorphNormals() {\n            // save original normals\n            // - create temp variables on first access\n            //\t otherwise just copy (for faster repeated calls)\n            for (var f = 0, fl = this.faces.length; f < fl; f++) {\n                var face = this.faces[f];\n\n                if (!face.__originalFaceNormal) {\n                    face.__originalFaceNormal = face.normal.clone();\n                } else {\n                    face.__originalFaceNormal.copy(face.normal);\n                }\n\n                if (!face.__originalVertexNormals) face.__originalVertexNormals = [];\n\n                for (var i = 0, il = face.vertexNormals.length; i < il; i++) {\n                    if (!face.__originalVertexNormals[i]) {\n                        face.__originalVertexNormals[i] = face.vertexNormals[i].clone();\n                    } else {\n                        face.__originalVertexNormals[i].copy(face.vertexNormals[i]);\n                    }\n                }\n            } // use temp geometry to compute face and vertex normals for each morph\n\n\n            var tmpGeo = new Geometry();\n            tmpGeo.faces = this.faces;\n\n            for (var _i5 = 0, _il2 = this.morphTargets.length; _i5 < _il2; _i5++) {\n                // create on first access\n                if (!this.morphNormals[_i5]) {\n                    this.morphNormals[_i5] = {};\n                    this.morphNormals[_i5].faceNormals = [];\n                    this.morphNormals[_i5].vertexNormals = [];\n                    var dstNormalsFace = this.morphNormals[_i5].faceNormals;\n                    var dstNormalsVertex = this.morphNormals[_i5].vertexNormals;\n\n                    for (var _f3 = 0, _fl3 = this.faces.length; _f3 < _fl3; _f3++) {\n                        var faceNormal = new Vector3();\n                        var vertexNormals = {\n                            a: new Vector3(),\n                            b: new Vector3(),\n                            c: new Vector3()\n                        };\n                        dstNormalsFace.push(faceNormal);\n                        dstNormalsVertex.push(vertexNormals);\n                    }\n                }\n\n                var morphNormals = this.morphNormals[_i5]; // set vertices to morph target\n\n                tmpGeo.vertices = this.morphTargets[_i5].vertices; // compute morph normals\n\n                tmpGeo.computeFaceNormals();\n                tmpGeo.computeVertexNormals(); // store morph normals\n\n                for (var _f4 = 0, _fl4 = this.faces.length; _f4 < _fl4; _f4++) {\n                    var _face3 = this.faces[_f4];\n                    var _faceNormal = morphNormals.faceNormals[_f4];\n                    var _vertexNormals = morphNormals.vertexNormals[_f4];\n\n                    _faceNormal.copy(_face3.normal);\n\n                    _vertexNormals.a.copy(_face3.vertexNormals[0]);\n\n                    _vertexNormals.b.copy(_face3.vertexNormals[1]);\n\n                    _vertexNormals.c.copy(_face3.vertexNormals[2]);\n                }\n            } // restore original normals\n\n\n            for (var _f5 = 0, _fl5 = this.faces.length; _f5 < _fl5; _f5++) {\n                var _face4 = this.faces[_f5];\n                _face4.normal = _face4.__originalFaceNormal;\n                _face4.vertexNormals = _face4.__originalVertexNormals;\n            }\n        },\n        computeBoundingBox: function computeBoundingBox() {\n            if (this.boundingBox === null) {\n                this.boundingBox = new Box3();\n            }\n\n            this.boundingBox.setFromPoints(this.vertices);\n        },\n        computeBoundingSphere: function computeBoundingSphere() {\n            if (this.boundingSphere === null) {\n                this.boundingSphere = new Sphere();\n            }\n\n            this.boundingSphere.setFromPoints(this.vertices);\n        },\n        merge: function merge(geometry, matrix, materialIndexOffset) {\n            if (!(geometry && geometry.isGeometry)) {\n                console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry);\n                return;\n            }\n\n            var normalMatrix;\n            var vertexOffset = this.vertices.length,\n                vertices1 = this.vertices,\n                vertices2 = geometry.vertices,\n                faces1 = this.faces,\n                faces2 = geometry.faces,\n                colors1 = this.colors,\n                colors2 = geometry.colors;\n            if (materialIndexOffset === undefined) materialIndexOffset = 0;\n\n            if (matrix !== undefined) {\n                normalMatrix = new Matrix3().getNormalMatrix(matrix);\n            } // vertices\n\n\n            for (var i = 0, il = vertices2.length; i < il; i++) {\n                var vertex = vertices2[i];\n                var vertexCopy = vertex.clone();\n                if (matrix !== undefined) vertexCopy.applyMatrix4(matrix);\n                vertices1.push(vertexCopy);\n            } // colors\n\n\n            for (var _i6 = 0, _il3 = colors2.length; _i6 < _il3; _i6++) {\n                colors1.push(colors2[_i6].clone());\n            } // faces\n\n\n            for (var _i7 = 0, _il4 = faces2.length; _i7 < _il4; _i7++) {\n                var face = faces2[_i7];\n                var normal = void 0,\n                    color = void 0;\n                var faceVertexNormals = face.vertexNormals,\n                    faceVertexColors = face.vertexColors;\n                var faceCopy = new Face3(face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset);\n                faceCopy.normal.copy(face.normal);\n\n                if (normalMatrix !== undefined) {\n                    faceCopy.normal.applyMatrix3(normalMatrix).normalize();\n                }\n\n                for (var j = 0, jl = faceVertexNormals.length; j < jl; j++) {\n                    normal = faceVertexNormals[j].clone();\n\n                    if (normalMatrix !== undefined) {\n                        normal.applyMatrix3(normalMatrix).normalize();\n                    }\n\n                    faceCopy.vertexNormals.push(normal);\n                }\n\n                faceCopy.color.copy(face.color);\n\n                for (var _j = 0, _jl = faceVertexColors.length; _j < _jl; _j++) {\n                    color = faceVertexColors[_j];\n                    faceCopy.vertexColors.push(color.clone());\n                }\n\n                faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n                faces1.push(faceCopy);\n            } // uvs\n\n\n            for (var _i8 = 0, _il5 = geometry.faceVertexUvs.length; _i8 < _il5; _i8++) {\n                var faceVertexUvs2 = geometry.faceVertexUvs[_i8];\n                if (this.faceVertexUvs[_i8] === undefined) this.faceVertexUvs[_i8] = [];\n\n                for (var _j2 = 0, _jl2 = faceVertexUvs2.length; _j2 < _jl2; _j2++) {\n                    var uvs2 = faceVertexUvs2[_j2],\n                        uvsCopy = [];\n\n                    for (var k = 0, kl = uvs2.length; k < kl; k++) {\n                        uvsCopy.push(uvs2[k].clone());\n                    }\n\n                    this.faceVertexUvs[_i8].push(uvsCopy);\n                }\n            }\n        },\n        mergeMesh: function mergeMesh(mesh) {\n            if (!(mesh && mesh.isMesh)) {\n                console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh);\n                return;\n            }\n\n            if (mesh.matrixAutoUpdate) mesh.updateMatrix();\n            this.merge(mesh.geometry, mesh.matrix);\n        },\n\n        /*\n         * Checks for duplicate vertices with hashmap.\n         * Duplicated vertices are removed\n         * and faces' vertices are updated.\n         */\n        mergeVertices: function mergeVertices() {\n            var verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\n            var unique = [],\n                changes = [];\n            var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\n            var precision = Math.pow(10, precisionPoints);\n\n            for (var i = 0, il = this.vertices.length; i < il; i++) {\n                var v = this.vertices[i];\n                var key = Math.round(v.x * precision) + '_' + Math.round(v.y * precision) + '_' + Math.round(v.z * precision);\n\n                if (verticesMap[key] === undefined) {\n                    verticesMap[key] = i;\n                    unique.push(this.vertices[i]);\n                    changes[i] = unique.length - 1;\n                } else {\n                    //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n                    changes[i] = changes[verticesMap[key]];\n                }\n            } // if faces are completely degenerate after merging vertices, we\n            // have to remove them from the geometry.\n\n\n            var faceIndicesToRemove = [];\n\n            for (var _i9 = 0, _il6 = this.faces.length; _i9 < _il6; _i9++) {\n                var face = this.faces[_i9];\n                face.a = changes[face.a];\n                face.b = changes[face.b];\n                face.c = changes[face.c];\n                var indices = [face.a, face.b, face.c]; // if any duplicate vertices are found in a Face3\n                // we have to remove the face as nothing can be saved\n\n                for (var n = 0; n < 3; n++) {\n                    if (indices[n] === indices[(n + 1) % 3]) {\n                        faceIndicesToRemove.push(_i9);\n                        break;\n                    }\n                }\n            }\n\n            for (var _i10 = faceIndicesToRemove.length - 1; _i10 >= 0; _i10--) {\n                var idx = faceIndicesToRemove[_i10];\n                this.faces.splice(idx, 1);\n\n                for (var j = 0, jl = this.faceVertexUvs.length; j < jl; j++) {\n                    this.faceVertexUvs[j].splice(idx, 1);\n                }\n            } // Use unique set of vertices\n\n\n            var diff = this.vertices.length - unique.length;\n            this.vertices = unique;\n            return diff;\n        },\n        setFromPoints: function setFromPoints(points) {\n            this.vertices = [];\n\n            for (var i = 0, l = points.length; i < l; i++) {\n                var point = points[i];\n                this.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n            }\n\n            return this;\n        },\n        sortFacesByMaterialIndex: function sortFacesByMaterialIndex() {\n            var faces = this.faces;\n            var length = faces.length; // tag faces\n\n            for (var i = 0; i < length; i++) {\n                faces[i]._id = i;\n            } // sort faces\n\n\n            function materialIndexSort(a, b) {\n                return a.materialIndex - b.materialIndex;\n            }\n\n            faces.sort(materialIndexSort); // sort uvs\n\n            var uvs1 = this.faceVertexUvs[0];\n            var uvs2 = this.faceVertexUvs[1];\n            var newUvs1, newUvs2;\n            if (uvs1 && uvs1.length === length) newUvs1 = [];\n            if (uvs2 && uvs2.length === length) newUvs2 = [];\n\n            for (var _i11 = 0; _i11 < length; _i11++) {\n                var id = faces[_i11]._id;\n                if (newUvs1) newUvs1.push(uvs1[id]);\n                if (newUvs2) newUvs2.push(uvs2[id]);\n            }\n\n            if (newUvs1) this.faceVertexUvs[0] = newUvs1;\n            if (newUvs2) this.faceVertexUvs[1] = newUvs2;\n        },\n        toJSON: function toJSON() {\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Geometry',\n                    generator: 'Geometry.toJSON'\n                }\n            }; // standard Geometry serialization\n\n            data.uuid = this.uuid;\n            data.type = this.type;\n            if (this.name !== '') data.name = this.name;\n\n            if (this.parameters !== undefined) {\n                var parameters = this.parameters;\n\n                for (var key in parameters) {\n                    if (parameters[key] !== undefined) data[key] = parameters[key];\n                }\n\n                return data;\n            }\n\n            var vertices = [];\n\n            for (var i = 0; i < this.vertices.length; i++) {\n                var vertex = this.vertices[i];\n                vertices.push(vertex.x, vertex.y, vertex.z);\n            }\n\n            var faces = [];\n            var normals = [];\n            var normalsHash = {};\n            var colors = [];\n            var colorsHash = {};\n            var uvs = [];\n            var uvsHash = {};\n\n            for (var _i12 = 0; _i12 < this.faces.length; _i12++) {\n                var face = this.faces[_i12];\n                var hasMaterial = true;\n                var hasFaceUv = false; // deprecated\n\n                var hasFaceVertexUv = this.faceVertexUvs[0][_i12] !== undefined;\n                var hasFaceNormal = face.normal.length() > 0;\n                var hasFaceVertexNormal = face.vertexNormals.length > 0;\n                var hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n                var hasFaceVertexColor = face.vertexColors.length > 0;\n                var faceType = 0;\n                faceType = setBit(faceType, 0, 0); // isQuad\n\n                faceType = setBit(faceType, 1, hasMaterial);\n                faceType = setBit(faceType, 2, hasFaceUv);\n                faceType = setBit(faceType, 3, hasFaceVertexUv);\n                faceType = setBit(faceType, 4, hasFaceNormal);\n                faceType = setBit(faceType, 5, hasFaceVertexNormal);\n                faceType = setBit(faceType, 6, hasFaceColor);\n                faceType = setBit(faceType, 7, hasFaceVertexColor);\n                faces.push(faceType);\n                faces.push(face.a, face.b, face.c);\n                faces.push(face.materialIndex);\n\n                if (hasFaceVertexUv) {\n                    var faceVertexUvs = this.faceVertexUvs[0][_i12];\n                    faces.push(getUvIndex(faceVertexUvs[0]), getUvIndex(faceVertexUvs[1]), getUvIndex(faceVertexUvs[2]));\n                }\n\n                if (hasFaceNormal) {\n                    faces.push(getNormalIndex(face.normal));\n                }\n\n                if (hasFaceVertexNormal) {\n                    var vertexNormals = face.vertexNormals;\n                    faces.push(getNormalIndex(vertexNormals[0]), getNormalIndex(vertexNormals[1]), getNormalIndex(vertexNormals[2]));\n                }\n\n                if (hasFaceColor) {\n                    faces.push(getColorIndex(face.color));\n                }\n\n                if (hasFaceVertexColor) {\n                    var vertexColors = face.vertexColors;\n                    faces.push(getColorIndex(vertexColors[0]), getColorIndex(vertexColors[1]), getColorIndex(vertexColors[2]));\n                }\n            }\n\n            function setBit(value, position, enabled) {\n                return enabled ? value | 1 << position : value & ~(1 << position);\n            }\n\n            function getNormalIndex(normal) {\n                var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n                if (normalsHash[hash] !== undefined) {\n                    return normalsHash[hash];\n                }\n\n                normalsHash[hash] = normals.length / 3;\n                normals.push(normal.x, normal.y, normal.z);\n                return normalsHash[hash];\n            }\n\n            function getColorIndex(color) {\n                var hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n                if (colorsHash[hash] !== undefined) {\n                    return colorsHash[hash];\n                }\n\n                colorsHash[hash] = colors.length;\n                colors.push(color.getHex());\n                return colorsHash[hash];\n            }\n\n            function getUvIndex(uv) {\n                var hash = uv.x.toString() + uv.y.toString();\n\n                if (uvsHash[hash] !== undefined) {\n                    return uvsHash[hash];\n                }\n\n                uvsHash[hash] = uvs.length / 2;\n                uvs.push(uv.x, uv.y);\n                return uvsHash[hash];\n            }\n\n            data.data = {};\n            data.data.vertices = vertices;\n            data.data.normals = normals;\n            if (colors.length > 0) data.data.colors = colors;\n            if (uvs.length > 0) data.data.uvs = [uvs]; // temporal backward compatibility\n\n            data.data.faces = faces;\n            return data;\n        },\n        clone: function clone() {\n            /*\n             // Handle primitives\n             const parameters = this.parameters;\n             if ( parameters !== undefined ) {\n             const values = [];\n             for ( const key in parameters ) {\n             values.push( parameters[ key ] );\n             }\n             const geometry = Object.create( this.constructor.prototype );\n             this.constructor.apply( geometry, values );\n             return geometry;\n             }\n             return new this.constructor().copy( this );\n             */\n            return new Geometry().copy(this);\n        },\n        copy: function copy(source) {\n            // reset\n            this.vertices = [];\n            this.colors = [];\n            this.faces = [];\n            this.faceVertexUvs = [[]];\n            this.morphTargets = [];\n            this.morphNormals = [];\n            this.skinWeights = [];\n            this.skinIndices = [];\n            this.lineDistances = [];\n            this.boundingBox = null;\n            this.boundingSphere = null; // name\n\n            this.name = source.name; // vertices\n\n            var vertices = source.vertices;\n\n            for (var i = 0, il = vertices.length; i < il; i++) {\n                this.vertices.push(vertices[i].clone());\n            } // colors\n\n\n            var colors = source.colors;\n\n            for (var _i13 = 0, _il7 = colors.length; _i13 < _il7; _i13++) {\n                this.colors.push(colors[_i13].clone());\n            } // faces\n\n\n            var faces = source.faces;\n\n            for (var _i14 = 0, _il8 = faces.length; _i14 < _il8; _i14++) {\n                this.faces.push(faces[_i14].clone());\n            } // face vertex uvs\n\n\n            for (var _i15 = 0, _il9 = source.faceVertexUvs.length; _i15 < _il9; _i15++) {\n                var faceVertexUvs = source.faceVertexUvs[_i15];\n\n                if (this.faceVertexUvs[_i15] === undefined) {\n                    this.faceVertexUvs[_i15] = [];\n                }\n\n                for (var j = 0, jl = faceVertexUvs.length; j < jl; j++) {\n                    var uvs = faceVertexUvs[j],\n                        uvsCopy = [];\n\n                    for (var k = 0, kl = uvs.length; k < kl; k++) {\n                        var uv = uvs[k];\n                        uvsCopy.push(uv.clone());\n                    }\n\n                    this.faceVertexUvs[_i15].push(uvsCopy);\n                }\n            } // morph targets\n\n\n            var morphTargets = source.morphTargets;\n\n            for (var _i16 = 0, _il10 = morphTargets.length; _i16 < _il10; _i16++) {\n                var morphTarget = {};\n                morphTarget.name = morphTargets[_i16].name; // vertices\n\n                if (morphTargets[_i16].vertices !== undefined) {\n                    morphTarget.vertices = [];\n\n                    for (var _j3 = 0, _jl3 = morphTargets[_i16].vertices.length; _j3 < _jl3; _j3++) {\n                        morphTarget.vertices.push(morphTargets[_i16].vertices[_j3].clone());\n                    }\n                } // normals\n\n\n                if (morphTargets[_i16].normals !== undefined) {\n                    morphTarget.normals = [];\n\n                    for (var _j4 = 0, _jl4 = morphTargets[_i16].normals.length; _j4 < _jl4; _j4++) {\n                        morphTarget.normals.push(morphTargets[_i16].normals[_j4].clone());\n                    }\n                }\n\n                this.morphTargets.push(morphTarget);\n            } // morph normals\n\n\n            var morphNormals = source.morphNormals;\n\n            for (var _i17 = 0, _il11 = morphNormals.length; _i17 < _il11; _i17++) {\n                var morphNormal = {}; // vertex normals\n\n                if (morphNormals[_i17].vertexNormals !== undefined) {\n                    morphNormal.vertexNormals = [];\n\n                    for (var _j5 = 0, _jl5 = morphNormals[_i17].vertexNormals.length; _j5 < _jl5; _j5++) {\n                        var srcVertexNormal = morphNormals[_i17].vertexNormals[_j5];\n                        var destVertexNormal = {};\n                        destVertexNormal.a = srcVertexNormal.a.clone();\n                        destVertexNormal.b = srcVertexNormal.b.clone();\n                        destVertexNormal.c = srcVertexNormal.c.clone();\n                        morphNormal.vertexNormals.push(destVertexNormal);\n                    }\n                } // face normals\n\n\n                if (morphNormals[_i17].faceNormals !== undefined) {\n                    morphNormal.faceNormals = [];\n\n                    for (var _j6 = 0, _jl6 = morphNormals[_i17].faceNormals.length; _j6 < _jl6; _j6++) {\n                        morphNormal.faceNormals.push(morphNormals[_i17].faceNormals[_j6].clone());\n                    }\n                }\n\n                this.morphNormals.push(morphNormal);\n            } // skin weights\n\n\n            var skinWeights = source.skinWeights;\n\n            for (var _i18 = 0, _il12 = skinWeights.length; _i18 < _il12; _i18++) {\n                this.skinWeights.push(skinWeights[_i18].clone());\n            } // skin indices\n\n\n            var skinIndices = source.skinIndices;\n\n            for (var _i19 = 0, _il13 = skinIndices.length; _i19 < _il13; _i19++) {\n                this.skinIndices.push(skinIndices[_i19].clone());\n            } // line distances\n\n\n            var lineDistances = source.lineDistances;\n\n            for (var _i20 = 0, _il14 = lineDistances.length; _i20 < _il14; _i20++) {\n                this.lineDistances.push(lineDistances[_i20]);\n            } // bounding box\n\n\n            var boundingBox = source.boundingBox;\n\n            if (boundingBox !== null) {\n                this.boundingBox = boundingBox.clone();\n            } // bounding sphere\n\n\n            var boundingSphere = source.boundingSphere;\n\n            if (boundingSphere !== null) {\n                this.boundingSphere = boundingSphere.clone();\n            } // update flags\n\n\n            this.elementsNeedUpdate = source.elementsNeedUpdate;\n            this.verticesNeedUpdate = source.verticesNeedUpdate;\n            this.uvsNeedUpdate = source.uvsNeedUpdate;\n            this.normalsNeedUpdate = source.normalsNeedUpdate;\n            this.colorsNeedUpdate = source.colorsNeedUpdate;\n            this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n            this.groupsNeedUpdate = source.groupsNeedUpdate;\n            return this;\n        },\n        dispose: function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        }\n    });\n\n    var BoxGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(BoxGeometry, _Geometry);\n\n        function BoxGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'BoxGeometry';\n            _this.parameters = {\n                width: width,\n                height: height,\n                depth: depth,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments,\n                depthSegments: depthSegments\n            };\n\n            _this.fromBufferGeometry(new BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return BoxGeometry;\n    }(Geometry);\n\n    var CircleBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(CircleBufferGeometry, _BufferGeometry);\n\n        function CircleBufferGeometry(radius, segments, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'CircleBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                segments: segments,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            radius = radius || 1;\n            segments = segments !== undefined ? Math.max(3, segments) : 8;\n            thetaStart = thetaStart !== undefined ? thetaStart : 0;\n            thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2; // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var vertex = new Vector3();\n            var uv = new Vector2(); // center point\n\n            vertices.push(0, 0, 0);\n            normals.push(0, 0, 1);\n            uvs.push(0.5, 0.5);\n\n            for (var s = 0, i = 3; s <= segments; s++, i += 3) {\n                var segment = thetaStart + s / segments * thetaLength; // vertex\n\n                vertex.x = radius * Math.cos(segment);\n                vertex.y = radius * Math.sin(segment);\n                vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                normals.push(0, 0, 1); // uvs\n\n                uv.x = (vertices[i] / radius + 1) / 2;\n                uv.y = (vertices[i + 1] / radius + 1) / 2;\n                uvs.push(uv.x, uv.y);\n            } // indices\n\n\n            for (var _i = 1; _i <= segments; _i++) {\n                indices.push(_i, _i + 1, 0);\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return CircleBufferGeometry;\n    }(BufferGeometry);\n\n    var CircleGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(CircleGeometry, _Geometry);\n\n        function CircleGeometry(radius, segments, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'CircleGeometry';\n            _this.parameters = {\n                radius: radius,\n                segments: segments,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n\n            _this.fromBufferGeometry(new CircleBufferGeometry(radius, segments, thetaStart, thetaLength));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return CircleGeometry;\n    }(Geometry);\n\n    var CylinderBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(CylinderBufferGeometry, _BufferGeometry);\n\n        function CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'CylinderBufferGeometry';\n            _this.parameters = {\n                radiusTop: radiusTop,\n                radiusBottom: radiusBottom,\n                height: height,\n                radialSegments: radialSegments,\n                heightSegments: heightSegments,\n                openEnded: openEnded,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n\n            var scope = _assertThisInitialized(_this);\n\n            radiusTop = radiusTop !== undefined ? radiusTop : 1;\n            radiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n            height = height || 1;\n            radialSegments = Math.floor(radialSegments) || 8;\n            heightSegments = Math.floor(heightSegments) || 1;\n            openEnded = openEnded !== undefined ? openEnded : false;\n            thetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n            thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2; // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var index = 0;\n            var indexArray = [];\n            var halfHeight = height / 2;\n            var groupStart = 0; // generate geometry\n\n            generateTorso();\n\n            if (openEnded === false) {\n                if (radiusTop > 0) generateCap(true);\n                if (radiusBottom > 0) generateCap(false);\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            function generateTorso() {\n                var normal = new Vector3();\n                var vertex = new Vector3();\n                var groupCount = 0; // this will be used to calculate the normal\n\n                var slope = (radiusBottom - radiusTop) / height; // generate vertices, normals and uvs\n\n                for (var y = 0; y <= heightSegments; y++) {\n                    var indexRow = [];\n                    var v = y / heightSegments; // calculate the radius of the current row\n\n                    var radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n                    for (var x = 0; x <= radialSegments; x++) {\n                        var u = x / radialSegments;\n                        var theta = u * thetaLength + thetaStart;\n                        var sinTheta = Math.sin(theta);\n                        var cosTheta = Math.cos(theta); // vertex\n\n                        vertex.x = radius * sinTheta;\n                        vertex.y = -v * height + halfHeight;\n                        vertex.z = radius * cosTheta;\n                        vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                        normal.set(sinTheta, slope, cosTheta).normalize();\n                        normals.push(normal.x, normal.y, normal.z); // uv\n\n                        uvs.push(u, 1 - v); // save index of vertex in respective row\n\n                        indexRow.push(index++);\n                    } // now save vertices of the row in our index array\n\n\n                    indexArray.push(indexRow);\n                } // generate indices\n\n\n                for (var _x = 0; _x < radialSegments; _x++) {\n                    for (var _y = 0; _y < heightSegments; _y++) {\n                        // we use the index array to access the correct indices\n                        var a = indexArray[_y][_x];\n                        var b = indexArray[_y + 1][_x];\n                        var c = indexArray[_y + 1][_x + 1];\n                        var d = indexArray[_y][_x + 1]; // faces\n\n                        indices.push(a, b, d);\n                        indices.push(b, c, d); // update group counter\n\n                        groupCount += 6;\n                    }\n                } // add a group to the geometry. this will ensure multi material support\n\n\n                scope.addGroup(groupStart, groupCount, 0); // calculate new start value for groups\n\n                groupStart += groupCount;\n            }\n\n            function generateCap(top) {\n                // save the index of the first center vertex\n                var centerIndexStart = index;\n                var uv = new Vector2();\n                var vertex = new Vector3();\n                var groupCount = 0;\n                var radius = top === true ? radiusTop : radiusBottom;\n                var sign = top === true ? 1 : -1; // first we generate the center vertex data of the cap.\n                // because the geometry needs one set of uvs per face,\n                // we must generate a center vertex per face/segment\n\n                for (var x = 1; x <= radialSegments; x++) {\n                    // vertex\n                    vertices.push(0, halfHeight * sign, 0); // normal\n\n                    normals.push(0, sign, 0); // uv\n\n                    uvs.push(0.5, 0.5); // increase index\n\n                    index++;\n                } // save the index of the last center vertex\n\n\n                var centerIndexEnd = index; // now we generate the surrounding vertices, normals and uvs\n\n                for (var _x2 = 0; _x2 <= radialSegments; _x2++) {\n                    var u = _x2 / radialSegments;\n                    var theta = u * thetaLength + thetaStart;\n                    var cosTheta = Math.cos(theta);\n                    var sinTheta = Math.sin(theta); // vertex\n\n                    vertex.x = radius * sinTheta;\n                    vertex.y = halfHeight * sign;\n                    vertex.z = radius * cosTheta;\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                    normals.push(0, sign, 0); // uv\n\n                    uv.x = cosTheta * 0.5 + 0.5;\n                    uv.y = sinTheta * 0.5 * sign + 0.5;\n                    uvs.push(uv.x, uv.y); // increase index\n\n                    index++;\n                } // generate indices\n\n\n                for (var _x3 = 0; _x3 < radialSegments; _x3++) {\n                    var c = centerIndexStart + _x3;\n                    var i = centerIndexEnd + _x3;\n\n                    if (top === true) {\n                        // face top\n                        indices.push(i, i + 1, c);\n                    } else {\n                        // face bottom\n                        indices.push(i + 1, i, c);\n                    }\n\n                    groupCount += 3;\n                } // add a group to the geometry. this will ensure multi material support\n\n\n                scope.addGroup(groupStart, groupCount, top === true ? 1 : 2); // calculate new start value for groups\n\n                groupStart += groupCount;\n            }\n\n            return _this;\n        }\n\n        return CylinderBufferGeometry;\n    }(BufferGeometry);\n\n    var CylinderGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(CylinderGeometry, _Geometry);\n\n        function CylinderGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'CylinderGeometry';\n            _this.parameters = {\n                radiusTop: radiusTop,\n                radiusBottom: radiusBottom,\n                height: height,\n                radialSegments: radialSegments,\n                heightSegments: heightSegments,\n                openEnded: openEnded,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n\n            _this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return CylinderGeometry;\n    }(Geometry);\n\n    var ConeGeometry = /*#__PURE__*/function (_CylinderGeometry) {\n        _inheritsLoose(ConeGeometry, _CylinderGeometry);\n\n        function ConeGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _CylinderGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) || this;\n            _this.type = 'ConeGeometry';\n            _this.parameters = {\n                radius: radius,\n                height: height,\n                radialSegments: radialSegments,\n                heightSegments: heightSegments,\n                openEnded: openEnded,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            return _this;\n        }\n\n        return ConeGeometry;\n    }(CylinderGeometry);\n\n    var ConeBufferGeometry = /*#__PURE__*/function (_CylinderBufferGeomet) {\n        _inheritsLoose(ConeBufferGeometry, _CylinderBufferGeomet);\n\n        function ConeBufferGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _CylinderBufferGeomet.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) || this;\n            _this.type = 'ConeBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                height: height,\n                radialSegments: radialSegments,\n                heightSegments: heightSegments,\n                openEnded: openEnded,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            return _this;\n        }\n\n        return ConeBufferGeometry;\n    }(CylinderBufferGeometry);\n\n    var PolyhedronBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(PolyhedronBufferGeometry, _BufferGeometry);\n\n        function PolyhedronBufferGeometry(vertices, indices, radius, detail) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'PolyhedronBufferGeometry';\n            _this.parameters = {\n                vertices: vertices,\n                indices: indices,\n                radius: radius,\n                detail: detail\n            };\n            radius = radius || 1;\n            detail = detail || 0; // default buffer data\n\n            var vertexBuffer = [];\n            var uvBuffer = []; // the subdivision creates the vertex buffer data\n\n            subdivide(detail); // all vertices should lie on a conceptual sphere with a given radius\n\n            applyRadius(radius); // finally, create the uv data\n\n            generateUVs(); // build non-indexed geometry\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertexBuffer, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(vertexBuffer.slice(), 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvBuffer, 2));\n\n            if (detail === 0) {\n                _this.computeVertexNormals(); // flat normals\n\n            } else {\n                _this.normalizeNormals(); // smooth normals\n\n            } // helper functions\n\n\n            function subdivide(detail) {\n                var a = new Vector3();\n                var b = new Vector3();\n                var c = new Vector3(); // iterate over all faces and apply a subdivison with the given detail value\n\n                for (var i = 0; i < indices.length; i += 3) {\n                    // get the vertices of the face\n                    getVertexByIndex(indices[i + 0], a);\n                    getVertexByIndex(indices[i + 1], b);\n                    getVertexByIndex(indices[i + 2], c); // perform subdivision\n\n                    subdivideFace(a, b, c, detail);\n                }\n            }\n\n            function subdivideFace(a, b, c, detail) {\n                var cols = detail + 1; // we use this multidimensional array as a data structure for creating the subdivision\n\n                var v = []; // construct all of the vertices for this subdivision\n\n                for (var i = 0; i <= cols; i++) {\n                    v[i] = [];\n                    var aj = a.clone().lerp(c, i / cols);\n                    var bj = b.clone().lerp(c, i / cols);\n                    var rows = cols - i;\n\n                    for (var j = 0; j <= rows; j++) {\n                        if (j === 0 && i === cols) {\n                            v[i][j] = aj;\n                        } else {\n                            v[i][j] = aj.clone().lerp(bj, j / rows);\n                        }\n                    }\n                } // construct all of the faces\n\n\n                for (var _i = 0; _i < cols; _i++) {\n                    for (var _j = 0; _j < 2 * (cols - _i) - 1; _j++) {\n                        var k = Math.floor(_j / 2);\n\n                        if (_j % 2 === 0) {\n                            pushVertex(v[_i][k + 1]);\n                            pushVertex(v[_i + 1][k]);\n                            pushVertex(v[_i][k]);\n                        } else {\n                            pushVertex(v[_i][k + 1]);\n                            pushVertex(v[_i + 1][k + 1]);\n                            pushVertex(v[_i + 1][k]);\n                        }\n                    }\n                }\n            }\n\n            function applyRadius(radius) {\n                var vertex = new Vector3(); // iterate over the entire buffer and apply the radius to each vertex\n\n                for (var i = 0; i < vertexBuffer.length; i += 3) {\n                    vertex.x = vertexBuffer[i + 0];\n                    vertex.y = vertexBuffer[i + 1];\n                    vertex.z = vertexBuffer[i + 2];\n                    vertex.normalize().multiplyScalar(radius);\n                    vertexBuffer[i + 0] = vertex.x;\n                    vertexBuffer[i + 1] = vertex.y;\n                    vertexBuffer[i + 2] = vertex.z;\n                }\n            }\n\n            function generateUVs() {\n                var vertex = new Vector3();\n\n                for (var i = 0; i < vertexBuffer.length; i += 3) {\n                    vertex.x = vertexBuffer[i + 0];\n                    vertex.y = vertexBuffer[i + 1];\n                    vertex.z = vertexBuffer[i + 2];\n                    var u = azimuth(vertex) / 2 / Math.PI + 0.5;\n                    var v = inclination(vertex) / Math.PI + 0.5;\n                    uvBuffer.push(u, 1 - v);\n                }\n\n                correctUVs();\n                correctSeam();\n            }\n\n            function correctSeam() {\n                // handle case when face straddles the seam, see #3269\n                for (var i = 0; i < uvBuffer.length; i += 6) {\n                    // uv data of a single face\n                    var x0 = uvBuffer[i + 0];\n                    var x1 = uvBuffer[i + 2];\n                    var x2 = uvBuffer[i + 4];\n                    var max = Math.max(x0, x1, x2);\n                    var min = Math.min(x0, x1, x2); // 0.9 is somewhat arbitrary\n\n                    if (max > 0.9 && min < 0.1) {\n                        if (x0 < 0.2) uvBuffer[i + 0] += 1;\n                        if (x1 < 0.2) uvBuffer[i + 2] += 1;\n                        if (x2 < 0.2) uvBuffer[i + 4] += 1;\n                    }\n                }\n            }\n\n            function pushVertex(vertex) {\n                vertexBuffer.push(vertex.x, vertex.y, vertex.z);\n            }\n\n            function getVertexByIndex(index, vertex) {\n                var stride = index * 3;\n                vertex.x = vertices[stride + 0];\n                vertex.y = vertices[stride + 1];\n                vertex.z = vertices[stride + 2];\n            }\n\n            function correctUVs() {\n                var a = new Vector3();\n                var b = new Vector3();\n                var c = new Vector3();\n                var centroid = new Vector3();\n                var uvA = new Vector2();\n                var uvB = new Vector2();\n                var uvC = new Vector2();\n\n                for (var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {\n                    a.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);\n                    b.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);\n                    c.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);\n                    uvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);\n                    uvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);\n                    uvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);\n                    centroid.copy(a).add(b).add(c).divideScalar(3);\n                    var azi = azimuth(centroid);\n                    correctUV(uvA, j + 0, a, azi);\n                    correctUV(uvB, j + 2, b, azi);\n                    correctUV(uvC, j + 4, c, azi);\n                }\n            }\n\n            function correctUV(uv, stride, vector, azimuth) {\n                if (azimuth < 0 && uv.x === 1) {\n                    uvBuffer[stride] = uv.x - 1;\n                }\n\n                if (vector.x === 0 && vector.z === 0) {\n                    uvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;\n                }\n            } // Angle around the Y axis, counter-clockwise when looking from above.\n\n\n            function azimuth(vector) {\n                return Math.atan2(vector.z, -vector.x);\n            } // Angle above the XZ plane.\n\n\n            function inclination(vector) {\n                return Math.atan2(-vector.y, Math.sqrt(vector.x * vector.x + vector.z * vector.z));\n            }\n\n            return _this;\n        }\n\n        return PolyhedronBufferGeometry;\n    }(BufferGeometry);\n\n    var DodecahedronBufferGeometry = /*#__PURE__*/function (_PolyhedronBufferGeom) {\n        _inheritsLoose(DodecahedronBufferGeometry, _PolyhedronBufferGeom);\n\n        function DodecahedronBufferGeometry(radius, detail) {\n            var _this;\n\n            var t = (1 + Math.sqrt(5)) / 2;\n            var r = 1 / t;\n            var vertices = [// (±1, ±1, ±1)\n                -1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, // (0, ±1/φ, ±φ)\n                0, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, // (±1/φ, ±φ, 0)\n                -r, -t, 0, -r, t, 0, r, -t, 0, r, t, 0, // (±φ, 0, ±1/φ)\n                -t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r];\n            var indices = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];\n            _this = _PolyhedronBufferGeom.call(this, vertices, indices, radius, detail) || this;\n            _this.type = 'DodecahedronBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n            return _this;\n        }\n\n        return DodecahedronBufferGeometry;\n    }(PolyhedronBufferGeometry);\n\n    var DodecahedronGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(DodecahedronGeometry, _Geometry);\n\n        function DodecahedronGeometry(radius, detail) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'DodecahedronGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n\n            _this.fromBufferGeometry(new DodecahedronBufferGeometry(radius, detail));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return DodecahedronGeometry;\n    }(Geometry);\n\n    var _v0$2 = new Vector3();\n\n    var _v1$5 = new Vector3();\n\n    var _normal$1 = new Vector3();\n\n    var _triangle = new Triangle();\n\n    var EdgesGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(EdgesGeometry, _BufferGeometry);\n\n        function EdgesGeometry(geometry, thresholdAngle) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'EdgesGeometry';\n            _this.parameters = {\n                thresholdAngle: thresholdAngle\n            };\n            thresholdAngle = thresholdAngle !== undefined ? thresholdAngle : 1;\n\n            if (geometry.isGeometry) {\n                geometry = new BufferGeometry().fromGeometry(geometry);\n            }\n\n            var precisionPoints = 4;\n            var precision = Math.pow(10, precisionPoints);\n            var thresholdDot = Math.cos(MathUtils.DEG2RAD * thresholdAngle);\n            var indexAttr = geometry.getIndex();\n            var positionAttr = geometry.getAttribute('position');\n            var indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n            var indexArr = [0, 0, 0];\n            var vertKeys = ['a', 'b', 'c'];\n            var hashes = new Array(3);\n            var edgeData = {};\n            var vertices = [];\n\n            for (var i = 0; i < indexCount; i += 3) {\n                if (indexAttr) {\n                    indexArr[0] = indexAttr.getX(i);\n                    indexArr[1] = indexAttr.getX(i + 1);\n                    indexArr[2] = indexAttr.getX(i + 2);\n                } else {\n                    indexArr[0] = i;\n                    indexArr[1] = i + 1;\n                    indexArr[2] = i + 2;\n                }\n\n                var a = _triangle.a,\n                    b = _triangle.b,\n                    c = _triangle.c;\n                a.fromBufferAttribute(positionAttr, indexArr[0]);\n                b.fromBufferAttribute(positionAttr, indexArr[1]);\n                c.fromBufferAttribute(positionAttr, indexArr[2]);\n\n                _triangle.getNormal(_normal$1); // create hashes for the edge from the vertices\n\n\n                hashes[0] = Math.round(a.x * precision) + \",\" + Math.round(a.y * precision) + \",\" + Math.round(a.z * precision);\n                hashes[1] = Math.round(b.x * precision) + \",\" + Math.round(b.y * precision) + \",\" + Math.round(b.z * precision);\n                hashes[2] = Math.round(c.x * precision) + \",\" + Math.round(c.y * precision) + \",\" + Math.round(c.z * precision); // skip degenerate triangles\n\n                if (hashes[0] === hashes[1] || hashes[1] === hashes[2] || hashes[2] === hashes[0]) {\n                    continue;\n                } // iterate over every edge\n\n\n                for (var j = 0; j < 3; j++) {\n                    // get the first and next vertex making up the edge\n                    var jNext = (j + 1) % 3;\n                    var vecHash0 = hashes[j];\n                    var vecHash1 = hashes[jNext];\n                    var v0 = _triangle[vertKeys[j]];\n                    var v1 = _triangle[vertKeys[jNext]];\n                    var hash = vecHash0 + \"_\" + vecHash1;\n                    var reverseHash = vecHash1 + \"_\" + vecHash0;\n\n                    if (reverseHash in edgeData && edgeData[reverseHash]) {\n                        // if we found a sibling edge add it into the vertex array if\n                        // it meets the angle threshold and delete the edge from the map.\n                        if (_normal$1.dot(edgeData[reverseHash].normal) <= thresholdDot) {\n                            vertices.push(v0.x, v0.y, v0.z);\n                            vertices.push(v1.x, v1.y, v1.z);\n                        }\n\n                        edgeData[reverseHash] = null;\n                    } else if (!(hash in edgeData)) {\n                        // if we've already got an edge here then skip adding a new one\n                        edgeData[hash] = {\n                            index0: indexArr[j],\n                            index1: indexArr[jNext],\n                            normal: _normal$1.clone()\n                        };\n                    }\n                }\n            } // iterate over all remaining, unmatched edges and add them to the vertex array\n\n\n            for (var key in edgeData) {\n                if (edgeData[key]) {\n                    var _edgeData$key = edgeData[key],\n                        index0 = _edgeData$key.index0,\n                        index1 = _edgeData$key.index1;\n\n                    _v0$2.fromBufferAttribute(positionAttr, index0);\n\n                    _v1$5.fromBufferAttribute(positionAttr, index1);\n\n                    vertices.push(_v0$2.x, _v0$2.y, _v0$2.z);\n                    vertices.push(_v1$5.x, _v1$5.y, _v1$5.z);\n                }\n            }\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            return _this;\n        }\n\n        return EdgesGeometry;\n    }(BufferGeometry);\n\n    /**\n     * Port from https://github.com/mapbox/earcut (v2.2.2)\n     */\n    var Earcut = {\n        triangulate: function triangulate(data, holeIndices, dim) {\n            dim = dim || 2;\n            var hasHoles = holeIndices && holeIndices.length;\n            var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n            var outerNode = linkedList(data, 0, outerLen, dim, true);\n            var triangles = [];\n            if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n            var minX, minY, maxX, maxY, x, y, invSize;\n            if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim); // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\n            if (data.length > 80 * dim) {\n                minX = maxX = data[0];\n                minY = maxY = data[1];\n\n                for (var i = dim; i < outerLen; i += dim) {\n                    x = data[i];\n                    y = data[i + 1];\n                    if (x < minX) minX = x;\n                    if (y < minY) minY = y;\n                    if (x > maxX) maxX = x;\n                    if (y > maxY) maxY = y;\n                } // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\n\n                invSize = Math.max(maxX - minX, maxY - minY);\n                invSize = invSize !== 0 ? 1 / invSize : 0;\n            }\n\n            earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n            return triangles;\n        }\n    }; // create a circular doubly linked list from polygon points in the specified winding order\n\n    function linkedList(data, start, end, dim, clockwise) {\n        var i, last;\n\n        if (clockwise === signedArea(data, start, end, dim) > 0) {\n            for (i = start; i < end; i += dim) {\n                last = insertNode(i, data[i], data[i + 1], last);\n            }\n        } else {\n            for (i = end - dim; i >= start; i -= dim) {\n                last = insertNode(i, data[i], data[i + 1], last);\n            }\n        }\n\n        if (last && equals(last, last.next)) {\n            removeNode(last);\n            last = last.next;\n        }\n\n        return last;\n    } // eliminate colinear or duplicate points\n\n\n    function filterPoints(start, end) {\n        if (!start) return start;\n        if (!end) end = start;\n        var p = start,\n            again;\n\n        do {\n            again = false;\n\n            if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n                removeNode(p);\n                p = end = p.prev;\n                if (p === p.next) break;\n                again = true;\n            } else {\n                p = p.next;\n            }\n        } while (again || p !== end);\n\n        return end;\n    } // main ear slicing loop which triangulates a polygon (given as a linked list)\n\n\n    function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n        if (!ear) return; // interlink polygon nodes in z-order\n\n        if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n        var stop = ear,\n            prev,\n            next; // iterate through ears, slicing them one by one\n\n        while (ear.prev !== ear.next) {\n            prev = ear.prev;\n            next = ear.next;\n\n            if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n                // cut off the triangle\n                triangles.push(prev.i / dim);\n                triangles.push(ear.i / dim);\n                triangles.push(next.i / dim);\n                removeNode(ear); // skipping the next vertex leads to less sliver triangles\n\n                ear = next.next;\n                stop = next.next;\n                continue;\n            }\n\n            ear = next; // if we looped through the whole remaining polygon and can't find any more ears\n\n            if (ear === stop) {\n                // try filtering points and slicing again\n                if (!pass) {\n                    earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1); // if this didn't work, try curing all small self-intersections locally\n                } else if (pass === 1) {\n                    ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                    earcutLinked(ear, triangles, dim, minX, minY, invSize, 2); // as a last resort, try splitting the remaining polygon into two\n                } else if (pass === 2) {\n                    splitEarcut(ear, triangles, dim, minX, minY, invSize);\n                }\n\n                break;\n            }\n        }\n    } // check whether a polygon node forms a valid ear with adjacent nodes\n\n\n    function isEar(ear) {\n        var a = ear.prev,\n            b = ear,\n            c = ear.next;\n        if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n        // now make sure we don't have other points inside the potential ear\n\n        var p = ear.next.next;\n\n        while (p !== ear.prev) {\n            if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n            p = p.next;\n        }\n\n        return true;\n    }\n\n    function isEarHashed(ear, minX, minY, invSize) {\n        var a = ear.prev,\n            b = ear,\n            c = ear.next;\n        if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n        // triangle bbox; min & max are calculated like this for speed\n\n        var minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x,\n            minTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y,\n            maxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x,\n            maxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y; // z-order range for the current triangle bbox;\n\n        var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n            maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n        var p = ear.prevZ,\n            n = ear.nextZ; // look for points inside the triangle in both directions\n\n        while (p && p.z >= minZ && n && n.z <= maxZ) {\n            if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n            p = p.prevZ;\n            if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n            n = n.nextZ;\n        } // look for remaining points in decreasing z-order\n\n\n        while (p && p.z >= minZ) {\n            if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n            p = p.prevZ;\n        } // look for remaining points in increasing z-order\n\n\n        while (n && n.z <= maxZ) {\n            if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n            n = n.nextZ;\n        }\n\n        return true;\n    } // go through all polygon nodes and cure small local self-intersections\n\n\n    function cureLocalIntersections(start, triangles, dim) {\n        var p = start;\n\n        do {\n            var a = p.prev,\n                b = p.next.next;\n\n            if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n                triangles.push(a.i / dim);\n                triangles.push(p.i / dim);\n                triangles.push(b.i / dim); // remove two nodes involved\n\n                removeNode(p);\n                removeNode(p.next);\n                p = start = b;\n            }\n\n            p = p.next;\n        } while (p !== start);\n\n        return filterPoints(p);\n    } // try splitting polygon into two and triangulate them independently\n\n\n    function splitEarcut(start, triangles, dim, minX, minY, invSize) {\n        // look for a valid diagonal that divides the polygon into two\n        var a = start;\n\n        do {\n            var b = a.next.next;\n\n            while (b !== a.prev) {\n                if (a.i !== b.i && isValidDiagonal(a, b)) {\n                    // split the polygon in two by the diagonal\n                    var c = splitPolygon(a, b); // filter colinear points around the cuts\n\n                    a = filterPoints(a, a.next);\n                    c = filterPoints(c, c.next); // run earcut on each half\n\n                    earcutLinked(a, triangles, dim, minX, minY, invSize);\n                    earcutLinked(c, triangles, dim, minX, minY, invSize);\n                    return;\n                }\n\n                b = b.next;\n            }\n\n            a = a.next;\n        } while (a !== start);\n    } // link every hole into the outer loop, producing a single-ring polygon without holes\n\n\n    function eliminateHoles(data, holeIndices, outerNode, dim) {\n        var queue = [];\n        var i, len, start, end, list;\n\n        for (i = 0, len = holeIndices.length; i < len; i++) {\n            start = holeIndices[i] * dim;\n            end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            list = linkedList(data, start, end, dim, false);\n            if (list === list.next) list.steiner = true;\n            queue.push(getLeftmost(list));\n        }\n\n        queue.sort(compareX); // process holes from left to right\n\n        for (i = 0; i < queue.length; i++) {\n            eliminateHole(queue[i], outerNode);\n            outerNode = filterPoints(outerNode, outerNode.next);\n        }\n\n        return outerNode;\n    }\n\n    function compareX(a, b) {\n        return a.x - b.x;\n    } // find a bridge between vertices that connects hole with an outer ring and and link it\n\n\n    function eliminateHole(hole, outerNode) {\n        outerNode = findHoleBridge(hole, outerNode);\n\n        if (outerNode) {\n            var b = splitPolygon(outerNode, hole); // filter collinear points around the cuts\n\n            filterPoints(outerNode, outerNode.next);\n            filterPoints(b, b.next);\n        }\n    } // David Eberly's algorithm for finding a bridge between hole and outer polygon\n\n\n    function findHoleBridge(hole, outerNode) {\n        var p = outerNode;\n        var hx = hole.x;\n        var hy = hole.y;\n        var qx = -Infinity,\n            m; // find a segment intersected by a ray from the hole's leftmost point to the left;\n        // segment's endpoint with lesser x will be potential connection point\n\n        do {\n            if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n                var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n\n                if (x <= hx && x > qx) {\n                    qx = x;\n\n                    if (x === hx) {\n                        if (hy === p.y) return p;\n                        if (hy === p.next.y) return p.next;\n                    }\n\n                    m = p.x < p.next.x ? p : p.next;\n                }\n            }\n\n            p = p.next;\n        } while (p !== outerNode);\n\n        if (!m) return null;\n        if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n        // look for points inside the triangle of hole point, segment intersection and endpoint;\n        // if there are no points found, we have a valid connection;\n        // otherwise choose the point of the minimum angle with the ray as connection point\n\n        var stop = m,\n            mx = m.x,\n            my = m.y;\n        var tanMin = Infinity,\n            tan;\n        p = m;\n\n        do {\n            if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n                tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n                if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {\n                    m = p;\n                    tanMin = tan;\n                }\n            }\n\n            p = p.next;\n        } while (p !== stop);\n\n        return m;\n    } // whether sector in vertex m contains sector in vertex p in the same coordinates\n\n\n    function sectorContainsSector(m, p) {\n        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n    } // interlink polygon nodes in z-order\n\n\n    function indexCurve(start, minX, minY, invSize) {\n        var p = start;\n\n        do {\n            if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n            p.prevZ = p.prev;\n            p.nextZ = p.next;\n            p = p.next;\n        } while (p !== start);\n\n        p.prevZ.nextZ = null;\n        p.prevZ = null;\n        sortLinked(p);\n    } // Simon Tatham's linked list merge sort algorithm\n    // http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n\n\n    function sortLinked(list) {\n        var i,\n            p,\n            q,\n            e,\n            tail,\n            numMerges,\n            pSize,\n            qSize,\n            inSize = 1;\n\n        do {\n            p = list;\n            list = null;\n            tail = null;\n            numMerges = 0;\n\n            while (p) {\n                numMerges++;\n                q = p;\n                pSize = 0;\n\n                for (i = 0; i < inSize; i++) {\n                    pSize++;\n                    q = q.nextZ;\n                    if (!q) break;\n                }\n\n                qSize = inSize;\n\n                while (pSize > 0 || qSize > 0 && q) {\n                    if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                        e = p;\n                        p = p.nextZ;\n                        pSize--;\n                    } else {\n                        e = q;\n                        q = q.nextZ;\n                        qSize--;\n                    }\n\n                    if (tail) tail.nextZ = e;else list = e;\n                    e.prevZ = tail;\n                    tail = e;\n                }\n\n                p = q;\n            }\n\n            tail.nextZ = null;\n            inSize *= 2;\n        } while (numMerges > 1);\n\n        return list;\n    } // z-order of a point given coords and inverse of the longer side of data bbox\n\n\n    function zOrder(x, y, minX, minY, invSize) {\n        // coords are transformed into non-negative 15-bit integer range\n        x = 32767 * (x - minX) * invSize;\n        y = 32767 * (y - minY) * invSize;\n        x = (x | x << 8) & 0x00FF00FF;\n        x = (x | x << 4) & 0x0F0F0F0F;\n        x = (x | x << 2) & 0x33333333;\n        x = (x | x << 1) & 0x55555555;\n        y = (y | y << 8) & 0x00FF00FF;\n        y = (y | y << 4) & 0x0F0F0F0F;\n        y = (y | y << 2) & 0x33333333;\n        y = (y | y << 1) & 0x55555555;\n        return x | y << 1;\n    } // find the leftmost node of a polygon ring\n\n\n    function getLeftmost(start) {\n        var p = start,\n            leftmost = start;\n\n        do {\n            if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y) leftmost = p;\n            p = p.next;\n        } while (p !== start);\n\n        return leftmost;\n    } // check if a point lies within a convex triangle\n\n\n    function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n        return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n    } // check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n\n\n    function isValidDiagonal(a, b) {\n        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && ( // dones't intersect other edges\n            locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && ( // locally visible\n            area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n    } // signed area of a triangle\n\n\n    function area(p, q, r) {\n        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n    } // check if two points are equal\n\n\n    function equals(p1, p2) {\n        return p1.x === p2.x && p1.y === p2.y;\n    } // check if two segments intersect\n\n\n    function intersects(p1, q1, p2, q2) {\n        var o1 = sign(area(p1, q1, p2));\n        var o2 = sign(area(p1, q1, q2));\n        var o3 = sign(area(p2, q2, p1));\n        var o4 = sign(area(p2, q2, q1));\n        if (o1 !== o2 && o3 !== o4) return true; // general case\n\n        if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\n        if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\n        if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\n        if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n        return false;\n    } // for collinear points p, q, r, check if point q lies on segment pr\n\n\n    function onSegment(p, q, r) {\n        return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n    }\n\n    function sign(num) {\n        return num > 0 ? 1 : num < 0 ? -1 : 0;\n    } // check if a polygon diagonal intersects any polygon segments\n\n\n    function intersectsPolygon(a, b) {\n        var p = a;\n\n        do {\n            if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;\n            p = p.next;\n        } while (p !== a);\n\n        return false;\n    } // check if a polygon diagonal is locally inside the polygon\n\n\n    function locallyInside(a, b) {\n        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n    } // check if the middle point of a polygon diagonal is inside the polygon\n\n\n    function middleInside(a, b) {\n        var p = a,\n            inside = false;\n        var px = (a.x + b.x) / 2,\n            py = (a.y + b.y) / 2;\n\n        do {\n            if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) inside = !inside;\n            p = p.next;\n        } while (p !== a);\n\n        return inside;\n    } // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n    // if one belongs to the outer ring and another to a hole, it merges it into a single ring\n\n\n    function splitPolygon(a, b) {\n        var a2 = new Node(a.i, a.x, a.y),\n            b2 = new Node(b.i, b.x, b.y),\n            an = a.next,\n            bp = b.prev;\n        a.next = b;\n        b.prev = a;\n        a2.next = an;\n        an.prev = a2;\n        b2.next = a2;\n        a2.prev = b2;\n        bp.next = b2;\n        b2.prev = bp;\n        return b2;\n    } // create a node and optionally link it with previous one (in a circular doubly linked list)\n\n\n    function insertNode(i, x, y, last) {\n        var p = new Node(i, x, y);\n\n        if (!last) {\n            p.prev = p;\n            p.next = p;\n        } else {\n            p.next = last.next;\n            p.prev = last;\n            last.next.prev = p;\n            last.next = p;\n        }\n\n        return p;\n    }\n\n    function removeNode(p) {\n        p.next.prev = p.prev;\n        p.prev.next = p.next;\n        if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n        if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n    }\n\n    function Node(i, x, y) {\n        // vertex index in coordinates array\n        this.i = i; // vertex coordinates\n\n        this.x = x;\n        this.y = y; // previous and next vertex nodes in a polygon ring\n\n        this.prev = null;\n        this.next = null; // z-order curve value\n\n        this.z = null; // previous and next nodes in z-order\n\n        this.prevZ = null;\n        this.nextZ = null; // indicates whether this is a steiner point\n\n        this.steiner = false;\n    }\n\n    function signedArea(data, start, end, dim) {\n        var sum = 0;\n\n        for (var i = start, j = end - dim; i < end; i += dim) {\n            sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n            j = i;\n        }\n\n        return sum;\n    }\n\n    var ShapeUtils = {\n        // calculate area of the contour polygon\n        area: function area(contour) {\n            var n = contour.length;\n            var a = 0.0;\n\n            for (var p = n - 1, q = 0; q < n; p = q++) {\n                a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n            }\n\n            return a * 0.5;\n        },\n        isClockWise: function isClockWise(pts) {\n            return ShapeUtils.area(pts) < 0;\n        },\n        triangulateShape: function triangulateShape(contour, holes) {\n            var vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\n            var holeIndices = []; // array of hole indices\n\n            var faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n            removeDupEndPts(contour);\n            addContour(vertices, contour); //\n\n            var holeIndex = contour.length;\n            holes.forEach(removeDupEndPts);\n\n            for (var i = 0; i < holes.length; i++) {\n                holeIndices.push(holeIndex);\n                holeIndex += holes[i].length;\n                addContour(vertices, holes[i]);\n            } //\n\n\n            var triangles = Earcut.triangulate(vertices, holeIndices); //\n\n            for (var _i = 0; _i < triangles.length; _i += 3) {\n                faces.push(triangles.slice(_i, _i + 3));\n            }\n\n            return faces;\n        }\n    };\n\n    function removeDupEndPts(points) {\n        var l = points.length;\n\n        if (l > 2 && points[l - 1].equals(points[0])) {\n            points.pop();\n        }\n    }\n\n    function addContour(vertices, contour) {\n        for (var i = 0; i < contour.length; i++) {\n            vertices.push(contour[i].x);\n            vertices.push(contour[i].y);\n        }\n    }\n\n    var ExtrudeBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(ExtrudeBufferGeometry, _BufferGeometry);\n\n        function ExtrudeBufferGeometry(shapes, options) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'ExtrudeBufferGeometry';\n            _this.parameters = {\n                shapes: shapes,\n                options: options\n            };\n            shapes = Array.isArray(shapes) ? shapes : [shapes];\n\n            var scope = _assertThisInitialized(_this);\n\n            var verticesArray = [];\n            var uvArray = [];\n\n            for (var i = 0, l = shapes.length; i < l; i++) {\n                var shape = shapes[i];\n                addShape(shape);\n            } // build geometry\n\n\n            _this.setAttribute('position', new Float32BufferAttribute(verticesArray, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvArray, 2));\n\n            _this.computeVertexNormals(); // functions\n\n\n            function addShape(shape) {\n                var placeholder = []; // options\n\n                var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n                var steps = options.steps !== undefined ? options.steps : 1;\n                var depth = options.depth !== undefined ? options.depth : 100;\n                var bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n                var bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n                var bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n                var bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n                var bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n                var extrudePath = options.extrudePath;\n                var uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator; // deprecated options\n\n                if (options.amount !== undefined) {\n                    console.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');\n                    depth = options.amount;\n                } //\n\n\n                var extrudePts,\n                    extrudeByPath = false;\n                var splineTube, binormal, normal, position2;\n\n                if (extrudePath) {\n                    extrudePts = extrudePath.getSpacedPoints(steps);\n                    extrudeByPath = true;\n                    bevelEnabled = false; // bevels not supported for path extrusion\n                    // SETUP TNB variables\n                    // TODO1 - have a .isClosed in spline?\n\n                    splineTube = extrudePath.computeFrenetFrames(steps, false); // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n                    binormal = new Vector3();\n                    normal = new Vector3();\n                    position2 = new Vector3();\n                } // Safeguards if bevels are not enabled\n\n\n                if (!bevelEnabled) {\n                    bevelSegments = 0;\n                    bevelThickness = 0;\n                    bevelSize = 0;\n                    bevelOffset = 0;\n                } // Variables initialization\n\n\n                var shapePoints = shape.extractPoints(curveSegments);\n                var vertices = shapePoints.shape;\n                var holes = shapePoints.holes;\n                var reverse = !ShapeUtils.isClockWise(vertices);\n\n                if (reverse) {\n                    vertices = vertices.reverse(); // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n                    for (var h = 0, hl = holes.length; h < hl; h++) {\n                        var ahole = holes[h];\n\n                        if (ShapeUtils.isClockWise(ahole)) {\n                            holes[h] = ahole.reverse();\n                        }\n                    }\n                }\n\n                var faces = ShapeUtils.triangulateShape(vertices, holes);\n                /* Vertices */\n\n                var contour = vertices; // vertices has all points but contour has only points of circumference\n\n                for (var _h = 0, _hl = holes.length; _h < _hl; _h++) {\n                    var _ahole = holes[_h];\n                    vertices = vertices.concat(_ahole);\n                }\n\n                function scalePt2(pt, vec, size) {\n                    if (!vec) console.error(\"THREE.ExtrudeGeometry: vec does not exist\");\n                    return vec.clone().multiplyScalar(size).add(pt);\n                }\n\n                var vlen = vertices.length,\n                    flen = faces.length; // Find directions for point movement\n\n                function getBevelVec(inPt, inPrev, inNext) {\n                    // computes for inPt the corresponding point inPt' on a new contour\n                    //\t shifted by 1 unit (length of normalized vector) to the left\n                    // if we walk along contour clockwise, this new contour is outside the old one\n                    //\n                    // inPt' is the intersection of the two lines parallel to the two\n                    //\tadjacent edges of inPt at a distance of 1 unit on the left side.\n                    var v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n                    // good reading for geometry algorithms (here: line-line intersection)\n                    // http://geomalgorithms.com/a05-_intersect-1.html\n\n                    var v_prev_x = inPt.x - inPrev.x,\n                        v_prev_y = inPt.y - inPrev.y;\n                    var v_next_x = inNext.x - inPt.x,\n                        v_next_y = inNext.y - inPt.y;\n                    var v_prev_lensq = v_prev_x * v_prev_x + v_prev_y * v_prev_y; // check for collinear edges\n\n                    var collinear0 = v_prev_x * v_next_y - v_prev_y * v_next_x;\n\n                    if (Math.abs(collinear0) > Number.EPSILON) {\n                        // not collinear\n                        // length of vectors for normalizing\n                        var v_prev_len = Math.sqrt(v_prev_lensq);\n                        var v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y); // shift adjacent points by unit vectors to the left\n\n                        var ptPrevShift_x = inPrev.x - v_prev_y / v_prev_len;\n                        var ptPrevShift_y = inPrev.y + v_prev_x / v_prev_len;\n                        var ptNextShift_x = inNext.x - v_next_y / v_next_len;\n                        var ptNextShift_y = inNext.y + v_next_x / v_next_len; // scaling factor for v_prev to intersection point\n\n                        var sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y - (ptNextShift_y - ptPrevShift_y) * v_next_x) / (v_prev_x * v_next_y - v_prev_y * v_next_x); // vector from inPt to intersection point\n\n                        v_trans_x = ptPrevShift_x + v_prev_x * sf - inPt.x;\n                        v_trans_y = ptPrevShift_y + v_prev_y * sf - inPt.y; // Don't normalize!, otherwise sharp corners become ugly\n                        //\tbut prevent crazy spikes\n\n                        var v_trans_lensq = v_trans_x * v_trans_x + v_trans_y * v_trans_y;\n\n                        if (v_trans_lensq <= 2) {\n                            return new Vector2(v_trans_x, v_trans_y);\n                        } else {\n                            shrink_by = Math.sqrt(v_trans_lensq / 2);\n                        }\n                    } else {\n                        // handle special case of collinear edges\n                        var direction_eq = false; // assumes: opposite\n\n                        if (v_prev_x > Number.EPSILON) {\n                            if (v_next_x > Number.EPSILON) {\n                                direction_eq = true;\n                            }\n                        } else {\n                            if (v_prev_x < -Number.EPSILON) {\n                                if (v_next_x < -Number.EPSILON) {\n                                    direction_eq = true;\n                                }\n                            } else {\n                                if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n                                    direction_eq = true;\n                                }\n                            }\n                        }\n\n                        if (direction_eq) {\n                            // console.log(\"Warning: lines are a straight sequence\");\n                            v_trans_x = -v_prev_y;\n                            v_trans_y = v_prev_x;\n                            shrink_by = Math.sqrt(v_prev_lensq);\n                        } else {\n                            // console.log(\"Warning: lines are a straight spike\");\n                            v_trans_x = v_prev_x;\n                            v_trans_y = v_prev_y;\n                            shrink_by = Math.sqrt(v_prev_lensq / 2);\n                        }\n                    }\n\n                    return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n                }\n\n                var contourMovements = [];\n\n                for (var _i = 0, il = contour.length, j = il - 1, k = _i + 1; _i < il; _i++, j++, k++) {\n                    if (j === il) j = 0;\n                    if (k === il) k = 0; //\t(j)---(i)---(k)\n                    // console.log('i,j,k', i, j , k)\n\n                    contourMovements[_i] = getBevelVec(contour[_i], contour[j], contour[k]);\n                }\n\n                var holesMovements = [];\n                var oneHoleMovements,\n                    verticesMovements = contourMovements.concat();\n\n                for (var _h2 = 0, _hl2 = holes.length; _h2 < _hl2; _h2++) {\n                    var _ahole2 = holes[_h2];\n                    oneHoleMovements = [];\n\n                    for (var _i2 = 0, _il = _ahole2.length, _j = _il - 1, _k = _i2 + 1; _i2 < _il; _i2++, _j++, _k++) {\n                        if (_j === _il) _j = 0;\n                        if (_k === _il) _k = 0; //\t(j)---(i)---(k)\n\n                        oneHoleMovements[_i2] = getBevelVec(_ahole2[_i2], _ahole2[_j], _ahole2[_k]);\n                    }\n\n                    holesMovements.push(oneHoleMovements);\n                    verticesMovements = verticesMovements.concat(oneHoleMovements);\n                } // Loop bevelSegments, 1 for the front, 1 for the back\n\n\n                for (var b = 0; b < bevelSegments; b++) {\n                    //for ( b = bevelSegments; b > 0; b -- ) {\n                    var t = b / bevelSegments;\n                    var z = bevelThickness * Math.cos(t * Math.PI / 2);\n\n                    var _bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset; // contract shape\n\n\n                    for (var _i3 = 0, _il2 = contour.length; _i3 < _il2; _i3++) {\n                        var vert = scalePt2(contour[_i3], contourMovements[_i3], _bs);\n                        v(vert.x, vert.y, -z);\n                    } // expand holes\n\n\n                    for (var _h3 = 0, _hl3 = holes.length; _h3 < _hl3; _h3++) {\n                        var _ahole3 = holes[_h3];\n                        oneHoleMovements = holesMovements[_h3];\n\n                        for (var _i4 = 0, _il3 = _ahole3.length; _i4 < _il3; _i4++) {\n                            var _vert = scalePt2(_ahole3[_i4], oneHoleMovements[_i4], _bs);\n\n                            v(_vert.x, _vert.y, -z);\n                        }\n                    }\n                }\n\n                var bs = bevelSize + bevelOffset; // Back facing vertices\n\n                for (var _i5 = 0; _i5 < vlen; _i5++) {\n                    var _vert2 = bevelEnabled ? scalePt2(vertices[_i5], verticesMovements[_i5], bs) : vertices[_i5];\n\n                    if (!extrudeByPath) {\n                        v(_vert2.x, _vert2.y, 0);\n                    } else {\n                        // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n                        normal.copy(splineTube.normals[0]).multiplyScalar(_vert2.x);\n                        binormal.copy(splineTube.binormals[0]).multiplyScalar(_vert2.y);\n                        position2.copy(extrudePts[0]).add(normal).add(binormal);\n                        v(position2.x, position2.y, position2.z);\n                    }\n                } // Add stepped vertices...\n                // Including front facing vertices\n\n\n                for (var s = 1; s <= steps; s++) {\n                    for (var _i6 = 0; _i6 < vlen; _i6++) {\n                        var _vert3 = bevelEnabled ? scalePt2(vertices[_i6], verticesMovements[_i6], bs) : vertices[_i6];\n\n                        if (!extrudeByPath) {\n                            v(_vert3.x, _vert3.y, depth / steps * s);\n                        } else {\n                            // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n                            normal.copy(splineTube.normals[s]).multiplyScalar(_vert3.x);\n                            binormal.copy(splineTube.binormals[s]).multiplyScalar(_vert3.y);\n                            position2.copy(extrudePts[s]).add(normal).add(binormal);\n                            v(position2.x, position2.y, position2.z);\n                        }\n                    }\n                } // Add bevel segments planes\n                //for ( b = 1; b <= bevelSegments; b ++ ) {\n\n\n                for (var _b = bevelSegments - 1; _b >= 0; _b--) {\n                    var _t = _b / bevelSegments;\n\n                    var _z = bevelThickness * Math.cos(_t * Math.PI / 2);\n\n                    var _bs2 = bevelSize * Math.sin(_t * Math.PI / 2) + bevelOffset; // contract shape\n\n\n                    for (var _i7 = 0, _il4 = contour.length; _i7 < _il4; _i7++) {\n                        var _vert4 = scalePt2(contour[_i7], contourMovements[_i7], _bs2);\n\n                        v(_vert4.x, _vert4.y, depth + _z);\n                    } // expand holes\n\n\n                    for (var _h4 = 0, _hl4 = holes.length; _h4 < _hl4; _h4++) {\n                        var _ahole4 = holes[_h4];\n                        oneHoleMovements = holesMovements[_h4];\n\n                        for (var _i8 = 0, _il5 = _ahole4.length; _i8 < _il5; _i8++) {\n                            var _vert5 = scalePt2(_ahole4[_i8], oneHoleMovements[_i8], _bs2);\n\n                            if (!extrudeByPath) {\n                                v(_vert5.x, _vert5.y, depth + _z);\n                            } else {\n                                v(_vert5.x, _vert5.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + _z);\n                            }\n                        }\n                    }\n                }\n                /* Faces */\n                // Top and bottom faces\n\n\n                buildLidFaces(); // Sides faces\n\n                buildSideFaces(); /////\tInternal functions\n\n                function buildLidFaces() {\n                    var start = verticesArray.length / 3;\n\n                    if (bevelEnabled) {\n                        var layer = 0; // steps + 1\n\n                        var offset = vlen * layer; // Bottom faces\n\n                        for (var _i9 = 0; _i9 < flen; _i9++) {\n                            var face = faces[_i9];\n                            f3(face[2] + offset, face[1] + offset, face[0] + offset);\n                        }\n\n                        layer = steps + bevelSegments * 2;\n                        offset = vlen * layer; // Top faces\n\n                        for (var _i10 = 0; _i10 < flen; _i10++) {\n                            var _face = faces[_i10];\n                            f3(_face[0] + offset, _face[1] + offset, _face[2] + offset);\n                        }\n                    } else {\n                        // Bottom faces\n                        for (var _i11 = 0; _i11 < flen; _i11++) {\n                            var _face2 = faces[_i11];\n                            f3(_face2[2], _face2[1], _face2[0]);\n                        } // Top faces\n\n\n                        for (var _i12 = 0; _i12 < flen; _i12++) {\n                            var _face3 = faces[_i12];\n                            f3(_face3[0] + vlen * steps, _face3[1] + vlen * steps, _face3[2] + vlen * steps);\n                        }\n                    }\n\n                    scope.addGroup(start, verticesArray.length / 3 - start, 0);\n                } // Create faces for the z-sides of the shape\n\n\n                function buildSideFaces() {\n                    var start = verticesArray.length / 3;\n                    var layeroffset = 0;\n                    sidewalls(contour, layeroffset);\n                    layeroffset += contour.length;\n\n                    for (var _h5 = 0, _hl5 = holes.length; _h5 < _hl5; _h5++) {\n                        var _ahole5 = holes[_h5];\n                        sidewalls(_ahole5, layeroffset); //, true\n\n                        layeroffset += _ahole5.length;\n                    }\n\n                    scope.addGroup(start, verticesArray.length / 3 - start, 1);\n                }\n\n                function sidewalls(contour, layeroffset) {\n                    var i = contour.length;\n\n                    while (--i >= 0) {\n                        var _j2 = i;\n\n                        var _k2 = i - 1;\n\n                        if (_k2 < 0) _k2 = contour.length - 1; //console.log('b', i,j, i-1, k,vertices.length);\n\n                        for (var _s = 0, sl = steps + bevelSegments * 2; _s < sl; _s++) {\n                            var slen1 = vlen * _s;\n                            var slen2 = vlen * (_s + 1);\n\n                            var a = layeroffset + _j2 + slen1,\n                                _b2 = layeroffset + _k2 + slen1,\n                                c = layeroffset + _k2 + slen2,\n                                d = layeroffset + _j2 + slen2;\n\n                            f4(a, _b2, c, d);\n                        }\n                    }\n                }\n\n                function v(x, y, z) {\n                    placeholder.push(x);\n                    placeholder.push(y);\n                    placeholder.push(z);\n                }\n\n                function f3(a, b, c) {\n                    addVertex(a);\n                    addVertex(b);\n                    addVertex(c);\n                    var nextIndex = verticesArray.length / 3;\n                    var uvs = uvgen.generateTopUV(scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n                    addUV(uvs[0]);\n                    addUV(uvs[1]);\n                    addUV(uvs[2]);\n                }\n\n                function f4(a, b, c, d) {\n                    addVertex(a);\n                    addVertex(b);\n                    addVertex(d);\n                    addVertex(b);\n                    addVertex(c);\n                    addVertex(d);\n                    var nextIndex = verticesArray.length / 3;\n                    var uvs = uvgen.generateSideWallUV(scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n                    addUV(uvs[0]);\n                    addUV(uvs[1]);\n                    addUV(uvs[3]);\n                    addUV(uvs[1]);\n                    addUV(uvs[2]);\n                    addUV(uvs[3]);\n                }\n\n                function addVertex(index) {\n                    verticesArray.push(placeholder[index * 3 + 0]);\n                    verticesArray.push(placeholder[index * 3 + 1]);\n                    verticesArray.push(placeholder[index * 3 + 2]);\n                }\n\n                function addUV(vector2) {\n                    uvArray.push(vector2.x);\n                    uvArray.push(vector2.y);\n                }\n            }\n\n            return _this;\n        }\n\n        var _proto = ExtrudeBufferGeometry.prototype;\n\n        _proto.toJSON = function toJSON() {\n            var data = BufferGeometry.prototype.toJSON.call(this);\n            var shapes = this.parameters.shapes;\n            var options = this.parameters.options;\n            return _toJSON(shapes, options, data);\n        };\n\n        return ExtrudeBufferGeometry;\n    }(BufferGeometry);\n\n    var WorldUVGenerator = {\n        generateTopUV: function generateTopUV(geometry, vertices, indexA, indexB, indexC) {\n            var a_x = vertices[indexA * 3];\n            var a_y = vertices[indexA * 3 + 1];\n            var b_x = vertices[indexB * 3];\n            var b_y = vertices[indexB * 3 + 1];\n            var c_x = vertices[indexC * 3];\n            var c_y = vertices[indexC * 3 + 1];\n            return [new Vector2(a_x, a_y), new Vector2(b_x, b_y), new Vector2(c_x, c_y)];\n        },\n        generateSideWallUV: function generateSideWallUV(geometry, vertices, indexA, indexB, indexC, indexD) {\n            var a_x = vertices[indexA * 3];\n            var a_y = vertices[indexA * 3 + 1];\n            var a_z = vertices[indexA * 3 + 2];\n            var b_x = vertices[indexB * 3];\n            var b_y = vertices[indexB * 3 + 1];\n            var b_z = vertices[indexB * 3 + 2];\n            var c_x = vertices[indexC * 3];\n            var c_y = vertices[indexC * 3 + 1];\n            var c_z = vertices[indexC * 3 + 2];\n            var d_x = vertices[indexD * 3];\n            var d_y = vertices[indexD * 3 + 1];\n            var d_z = vertices[indexD * 3 + 2];\n\n            if (Math.abs(a_y - b_y) < 0.01) {\n                return [new Vector2(a_x, 1 - a_z), new Vector2(b_x, 1 - b_z), new Vector2(c_x, 1 - c_z), new Vector2(d_x, 1 - d_z)];\n            } else {\n                return [new Vector2(a_y, 1 - a_z), new Vector2(b_y, 1 - b_z), new Vector2(c_y, 1 - c_z), new Vector2(d_y, 1 - d_z)];\n            }\n        }\n    };\n\n    function _toJSON(shapes, options, data) {\n        data.shapes = [];\n\n        if (Array.isArray(shapes)) {\n            for (var i = 0, l = shapes.length; i < l; i++) {\n                var shape = shapes[i];\n                data.shapes.push(shape.uuid);\n            }\n        } else {\n            data.shapes.push(shapes.uuid);\n        }\n\n        if (options.extrudePath !== undefined) data.options.extrudePath = options.extrudePath.toJSON();\n        return data;\n    }\n\n    var ExtrudeGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(ExtrudeGeometry, _Geometry);\n\n        function ExtrudeGeometry(shapes, options) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'ExtrudeGeometry';\n            _this.parameters = {\n                shapes: shapes,\n                options: options\n            };\n\n            _this.fromBufferGeometry(new ExtrudeBufferGeometry(shapes, options));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        var _proto = ExtrudeGeometry.prototype;\n\n        _proto.toJSON = function toJSON() {\n            var data = _Geometry.prototype.toJSON.call(this);\n\n            var shapes = this.parameters.shapes;\n            var options = this.parameters.options;\n            return _toJSON$1(shapes, options, data);\n        };\n\n        return ExtrudeGeometry;\n    }(Geometry);\n\n    function _toJSON$1(shapes, options, data) {\n        data.shapes = [];\n\n        if (Array.isArray(shapes)) {\n            for (var i = 0, l = shapes.length; i < l; i++) {\n                var shape = shapes[i];\n                data.shapes.push(shape.uuid);\n            }\n        } else {\n            data.shapes.push(shapes.uuid);\n        }\n\n        if (options.extrudePath !== undefined) data.options.extrudePath = options.extrudePath.toJSON();\n        return data;\n    }\n\n    var IcosahedronBufferGeometry = /*#__PURE__*/function (_PolyhedronBufferGeom) {\n        _inheritsLoose(IcosahedronBufferGeometry, _PolyhedronBufferGeom);\n\n        function IcosahedronBufferGeometry(radius, detail) {\n            var _this;\n\n            var t = (1 + Math.sqrt(5)) / 2;\n            var vertices = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0, 0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1];\n            var indices = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];\n            _this = _PolyhedronBufferGeom.call(this, vertices, indices, radius, detail) || this;\n            _this.type = 'IcosahedronBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n            return _this;\n        }\n\n        return IcosahedronBufferGeometry;\n    }(PolyhedronBufferGeometry);\n\n    var IcosahedronGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(IcosahedronGeometry, _Geometry);\n\n        function IcosahedronGeometry(radius, detail) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'IcosahedronGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n\n            _this.fromBufferGeometry(new IcosahedronBufferGeometry(radius, detail));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return IcosahedronGeometry;\n    }(Geometry);\n\n    var LatheBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(LatheBufferGeometry, _BufferGeometry);\n\n        function LatheBufferGeometry(points, segments, phiStart, phiLength) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'LatheBufferGeometry';\n            _this.parameters = {\n                points: points,\n                segments: segments,\n                phiStart: phiStart,\n                phiLength: phiLength\n            };\n            segments = Math.floor(segments) || 12;\n            phiStart = phiStart || 0;\n            phiLength = phiLength || Math.PI * 2; // clamp phiLength so it's in range of [ 0, 2PI ]\n\n            phiLength = MathUtils.clamp(phiLength, 0, Math.PI * 2); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var uvs = []; // helper variables\n\n            var inverseSegments = 1.0 / segments;\n            var vertex = new Vector3();\n            var uv = new Vector2(); // generate vertices and uvs\n\n            for (var i = 0; i <= segments; i++) {\n                var phi = phiStart + i * inverseSegments * phiLength;\n                var sin = Math.sin(phi);\n                var cos = Math.cos(phi);\n\n                for (var j = 0; j <= points.length - 1; j++) {\n                    // vertex\n                    vertex.x = points[j].x * sin;\n                    vertex.y = points[j].y;\n                    vertex.z = points[j].x * cos;\n                    vertices.push(vertex.x, vertex.y, vertex.z); // uv\n\n                    uv.x = i / segments;\n                    uv.y = j / (points.length - 1);\n                    uvs.push(uv.x, uv.y);\n                }\n            } // indices\n\n\n            for (var _i = 0; _i < segments; _i++) {\n                for (var _j = 0; _j < points.length - 1; _j++) {\n                    var base = _j + _i * points.length;\n                    var a = base;\n                    var b = base + points.length;\n                    var c = base + points.length + 1;\n                    var d = base + 1; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // generate normals\n\n\n            _this.computeVertexNormals(); // if the geometry is closed, we need to average the normals along the seam.\n            // because the corresponding vertices are identical (but still have different UVs).\n\n\n            if (phiLength === Math.PI * 2) {\n                var normals = _this.attributes.normal.array;\n                var n1 = new Vector3();\n                var n2 = new Vector3();\n                var n = new Vector3(); // this is the buffer offset for the last line of vertices\n\n                var _base = segments * points.length * 3;\n\n                for (var _i2 = 0, _j2 = 0; _i2 < points.length; _i2++, _j2 += 3) {\n                    // select the normal of the vertex in the first line\n                    n1.x = normals[_j2 + 0];\n                    n1.y = normals[_j2 + 1];\n                    n1.z = normals[_j2 + 2]; // select the normal of the vertex in the last line\n\n                    n2.x = normals[_base + _j2 + 0];\n                    n2.y = normals[_base + _j2 + 1];\n                    n2.z = normals[_base + _j2 + 2]; // average normals\n\n                    n.addVectors(n1, n2).normalize(); // assign the new values to both normals\n\n                    normals[_j2 + 0] = normals[_base + _j2 + 0] = n.x;\n                    normals[_j2 + 1] = normals[_base + _j2 + 1] = n.y;\n                    normals[_j2 + 2] = normals[_base + _j2 + 2] = n.z;\n                }\n            }\n\n            return _this;\n        }\n\n        return LatheBufferGeometry;\n    }(BufferGeometry);\n\n    var LatheGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(LatheGeometry, _Geometry);\n\n        function LatheGeometry(points, segments, phiStart, phiLength) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'LatheGeometry';\n            _this.parameters = {\n                points: points,\n                segments: segments,\n                phiStart: phiStart,\n                phiLength: phiLength\n            };\n\n            _this.fromBufferGeometry(new LatheBufferGeometry(points, segments, phiStart, phiLength));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return LatheGeometry;\n    }(Geometry);\n\n    var OctahedronBufferGeometry = /*#__PURE__*/function (_PolyhedronBufferGeom) {\n        _inheritsLoose(OctahedronBufferGeometry, _PolyhedronBufferGeom);\n\n        function OctahedronBufferGeometry(radius, detail) {\n            var _this;\n\n            var vertices = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];\n            var indices = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];\n            _this = _PolyhedronBufferGeom.call(this, vertices, indices, radius, detail) || this;\n            _this.type = 'OctahedronBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n            return _this;\n        }\n\n        return OctahedronBufferGeometry;\n    }(PolyhedronBufferGeometry);\n\n    var OctahedronGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(OctahedronGeometry, _Geometry);\n\n        function OctahedronGeometry(radius, detail) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'OctahedronGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n\n            _this.fromBufferGeometry(new OctahedronBufferGeometry(radius, detail));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return OctahedronGeometry;\n    }(Geometry);\n\n    /**\n     * Parametric Surfaces Geometry\n     * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n     */\n\n    function ParametricBufferGeometry(func, slices, stacks) {\n        BufferGeometry.call(this);\n        this.type = 'ParametricBufferGeometry';\n        this.parameters = {\n            func: func,\n            slices: slices,\n            stacks: stacks\n        }; // buffers\n\n        var indices = [];\n        var vertices = [];\n        var normals = [];\n        var uvs = [];\n        var EPS = 0.00001;\n        var normal = new Vector3();\n        var p0 = new Vector3(),\n            p1 = new Vector3();\n        var pu = new Vector3(),\n            pv = new Vector3();\n\n        if (func.length < 3) {\n            console.error('THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.');\n        } // generate vertices, normals and uvs\n\n\n        var sliceCount = slices + 1;\n\n        for (var i = 0; i <= stacks; i++) {\n            var v = i / stacks;\n\n            for (var j = 0; j <= slices; j++) {\n                var u = j / slices; // vertex\n\n                func(u, v, p0);\n                vertices.push(p0.x, p0.y, p0.z); // normal\n                // approximate tangent vectors via finite differences\n\n                if (u - EPS >= 0) {\n                    func(u - EPS, v, p1);\n                    pu.subVectors(p0, p1);\n                } else {\n                    func(u + EPS, v, p1);\n                    pu.subVectors(p1, p0);\n                }\n\n                if (v - EPS >= 0) {\n                    func(u, v - EPS, p1);\n                    pv.subVectors(p0, p1);\n                } else {\n                    func(u, v + EPS, p1);\n                    pv.subVectors(p1, p0);\n                } // cross product of tangent vectors returns surface normal\n\n\n                normal.crossVectors(pu, pv).normalize();\n                normals.push(normal.x, normal.y, normal.z); // uv\n\n                uvs.push(u, v);\n            }\n        } // generate indices\n\n\n        for (var _i = 0; _i < stacks; _i++) {\n            for (var _j = 0; _j < slices; _j++) {\n                var a = _i * sliceCount + _j;\n                var b = _i * sliceCount + _j + 1;\n                var c = (_i + 1) * sliceCount + _j + 1;\n                var d = (_i + 1) * sliceCount + _j; // faces one and two\n\n                indices.push(a, b, d);\n                indices.push(b, c, d);\n            }\n        } // build geometry\n\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n    }\n\n    ParametricBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n    ParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n    /**\n     * Parametric Surfaces Geometry\n     * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n     */\n\n    function ParametricGeometry(func, slices, stacks) {\n        Geometry.call(this);\n        this.type = 'ParametricGeometry';\n        this.parameters = {\n            func: func,\n            slices: slices,\n            stacks: stacks\n        };\n        this.fromBufferGeometry(new ParametricBufferGeometry(func, slices, stacks));\n        this.mergeVertices();\n    }\n\n    ParametricGeometry.prototype = Object.create(Geometry.prototype);\n    ParametricGeometry.prototype.constructor = ParametricGeometry;\n\n    var PlaneGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(PlaneGeometry, _Geometry);\n\n        function PlaneGeometry(width, height, widthSegments, heightSegments) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'PlaneGeometry';\n            _this.parameters = {\n                width: width,\n                height: height,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments\n            };\n\n            _this.fromBufferGeometry(new PlaneBufferGeometry(width, height, widthSegments, heightSegments));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return PlaneGeometry;\n    }(Geometry);\n\n    var PolyhedronGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(PolyhedronGeometry, _Geometry);\n\n        function PolyhedronGeometry(vertices, indices, radius, detail) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'PolyhedronGeometry';\n            _this.parameters = {\n                vertices: vertices,\n                indices: indices,\n                radius: radius,\n                detail: detail\n            };\n\n            _this.fromBufferGeometry(new PolyhedronBufferGeometry(vertices, indices, radius, detail));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return PolyhedronGeometry;\n    }(Geometry);\n\n    var RingBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(RingBufferGeometry, _BufferGeometry);\n\n        function RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'RingBufferGeometry';\n            _this.parameters = {\n                innerRadius: innerRadius,\n                outerRadius: outerRadius,\n                thetaSegments: thetaSegments,\n                phiSegments: phiSegments,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            innerRadius = innerRadius || 0.5;\n            outerRadius = outerRadius || 1;\n            thetaStart = thetaStart !== undefined ? thetaStart : 0;\n            thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n            thetaSegments = thetaSegments !== undefined ? Math.max(3, thetaSegments) : 8;\n            phiSegments = phiSegments !== undefined ? Math.max(1, phiSegments) : 1; // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // some helper variables\n\n            var radius = innerRadius;\n            var radiusStep = (outerRadius - innerRadius) / phiSegments;\n            var vertex = new Vector3();\n            var uv = new Vector2(); // generate vertices, normals and uvs\n\n            for (var j = 0; j <= phiSegments; j++) {\n                for (var i = 0; i <= thetaSegments; i++) {\n                    // values are generate from the inside of the ring to the outside\n                    var segment = thetaStart + i / thetaSegments * thetaLength; // vertex\n\n                    vertex.x = radius * Math.cos(segment);\n                    vertex.y = radius * Math.sin(segment);\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                    normals.push(0, 0, 1); // uv\n\n                    uv.x = (vertex.x / outerRadius + 1) / 2;\n                    uv.y = (vertex.y / outerRadius + 1) / 2;\n                    uvs.push(uv.x, uv.y);\n                } // increase the radius for next row of vertices\n\n\n                radius += radiusStep;\n            } // indices\n\n\n            for (var _j = 0; _j < phiSegments; _j++) {\n                var thetaSegmentLevel = _j * (thetaSegments + 1);\n\n                for (var _i = 0; _i < thetaSegments; _i++) {\n                    var _segment = _i + thetaSegmentLevel;\n\n                    var a = _segment;\n                    var b = _segment + thetaSegments + 1;\n                    var c = _segment + thetaSegments + 2;\n                    var d = _segment + 1; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return RingBufferGeometry;\n    }(BufferGeometry);\n\n    var RingGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(RingGeometry, _Geometry);\n\n        function RingGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'RingGeometry';\n            _this.parameters = {\n                innerRadius: innerRadius,\n                outerRadius: outerRadius,\n                thetaSegments: thetaSegments,\n                phiSegments: phiSegments,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n\n            _this.fromBufferGeometry(new RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return RingGeometry;\n    }(Geometry);\n\n    var ShapeBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(ShapeBufferGeometry, _BufferGeometry);\n\n        function ShapeBufferGeometry(shapes, curveSegments) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'ShapeBufferGeometry';\n            _this.parameters = {\n                shapes: shapes,\n                curveSegments: curveSegments\n            };\n            curveSegments = curveSegments || 12; // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var groupStart = 0;\n            var groupCount = 0; // allow single and array values for \"shapes\" parameter\n\n            if (Array.isArray(shapes) === false) {\n                addShape(shapes);\n            } else {\n                for (var i = 0; i < shapes.length; i++) {\n                    addShape(shapes[i]);\n\n                    _this.addGroup(groupStart, groupCount, i); // enables MultiMaterial support\n\n\n                    groupStart += groupCount;\n                    groupCount = 0;\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // helper functions\n\n\n            function addShape(shape) {\n                var indexOffset = vertices.length / 3;\n                var points = shape.extractPoints(curveSegments);\n                var shapeVertices = points.shape;\n                var shapeHoles = points.holes; // check direction of vertices\n\n                if (ShapeUtils.isClockWise(shapeVertices) === false) {\n                    shapeVertices = shapeVertices.reverse();\n                }\n\n                for (var _i = 0, l = shapeHoles.length; _i < l; _i++) {\n                    var shapeHole = shapeHoles[_i];\n\n                    if (ShapeUtils.isClockWise(shapeHole) === true) {\n                        shapeHoles[_i] = shapeHole.reverse();\n                    }\n                }\n\n                var faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles); // join vertices of inner and outer paths to a single array\n\n                for (var _i2 = 0, _l = shapeHoles.length; _i2 < _l; _i2++) {\n                    var _shapeHole = shapeHoles[_i2];\n                    shapeVertices = shapeVertices.concat(_shapeHole);\n                } // vertices, normals, uvs\n\n\n                for (var _i3 = 0, _l2 = shapeVertices.length; _i3 < _l2; _i3++) {\n                    var vertex = shapeVertices[_i3];\n                    vertices.push(vertex.x, vertex.y, 0);\n                    normals.push(0, 0, 1);\n                    uvs.push(vertex.x, vertex.y); // world uvs\n                } // incides\n\n\n                for (var _i4 = 0, _l3 = faces.length; _i4 < _l3; _i4++) {\n                    var face = faces[_i4];\n                    var a = face[0] + indexOffset;\n                    var b = face[1] + indexOffset;\n                    var c = face[2] + indexOffset;\n                    indices.push(a, b, c);\n                    groupCount += 3;\n                }\n            }\n\n            return _this;\n        }\n\n        var _proto = ShapeBufferGeometry.prototype;\n\n        _proto.toJSON = function toJSON() {\n            var data = BufferGeometry.prototype.toJSON.call(this);\n            var shapes = this.parameters.shapes;\n            return _toJSON$2(shapes, data);\n        };\n\n        return ShapeBufferGeometry;\n    }(BufferGeometry);\n\n    function _toJSON$2(shapes, data) {\n        data.shapes = [];\n\n        if (Array.isArray(shapes)) {\n            for (var i = 0, l = shapes.length; i < l; i++) {\n                var shape = shapes[i];\n                data.shapes.push(shape.uuid);\n            }\n        } else {\n            data.shapes.push(shapes.uuid);\n        }\n\n        return data;\n    }\n\n    var ShapeGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(ShapeGeometry, _Geometry);\n\n        function ShapeGeometry(shapes, curveSegments) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'ShapeGeometry';\n\n            if (typeof curveSegments === 'object') {\n                console.warn('THREE.ShapeGeometry: Options parameter has been removed.');\n                curveSegments = curveSegments.curveSegments;\n            }\n\n            _this.parameters = {\n                shapes: shapes,\n                curveSegments: curveSegments\n            };\n\n            _this.fromBufferGeometry(new ShapeBufferGeometry(shapes, curveSegments));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        var _proto = ShapeGeometry.prototype;\n\n        _proto.toJSON = function toJSON() {\n            var data = Geometry.prototype.toJSON.call(this);\n            var shapes = this.parameters.shapes;\n            return _toJSON$3(shapes, data);\n        };\n\n        return ShapeGeometry;\n    }(Geometry);\n\n    function _toJSON$3(shapes, data) {\n        data.shapes = [];\n\n        if (Array.isArray(shapes)) {\n            for (var i = 0, l = shapes.length; i < l; i++) {\n                var shape = shapes[i];\n                data.shapes.push(shape.uuid);\n            }\n        } else {\n            data.shapes.push(shapes.uuid);\n        }\n\n        return data;\n    }\n\n    var SphereBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(SphereBufferGeometry, _BufferGeometry);\n\n        function SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'SphereBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments,\n                phiStart: phiStart,\n                phiLength: phiLength,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            radius = radius || 1;\n            widthSegments = Math.max(3, Math.floor(widthSegments) || 8);\n            heightSegments = Math.max(2, Math.floor(heightSegments) || 6);\n            phiStart = phiStart !== undefined ? phiStart : 0;\n            phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n            thetaStart = thetaStart !== undefined ? thetaStart : 0;\n            thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n            var thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);\n            var index = 0;\n            var grid = [];\n            var vertex = new Vector3();\n            var normal = new Vector3(); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // generate vertices, normals and uvs\n\n            for (var iy = 0; iy <= heightSegments; iy++) {\n                var verticesRow = [];\n                var v = iy / heightSegments; // special case for the poles\n\n                var uOffset = 0;\n\n                if (iy == 0 && thetaStart == 0) {\n                    uOffset = 0.5 / widthSegments;\n                } else if (iy == heightSegments && thetaEnd == Math.PI) {\n                    uOffset = -0.5 / widthSegments;\n                }\n\n                for (var ix = 0; ix <= widthSegments; ix++) {\n                    var u = ix / widthSegments; // vertex\n\n                    vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n                    vertex.y = radius * Math.cos(thetaStart + v * thetaLength);\n                    vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                    normal.copy(vertex).normalize();\n                    normals.push(normal.x, normal.y, normal.z); // uv\n\n                    uvs.push(u + uOffset, 1 - v);\n                    verticesRow.push(index++);\n                }\n\n                grid.push(verticesRow);\n            } // indices\n\n\n            for (var _iy = 0; _iy < heightSegments; _iy++) {\n                for (var _ix = 0; _ix < widthSegments; _ix++) {\n                    var a = grid[_iy][_ix + 1];\n                    var b = grid[_iy][_ix];\n                    var c = grid[_iy + 1][_ix];\n                    var d = grid[_iy + 1][_ix + 1];\n                    if (_iy !== 0 || thetaStart > 0) indices.push(a, b, d);\n                    if (_iy !== heightSegments - 1 || thetaEnd < Math.PI) indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return SphereBufferGeometry;\n    }(BufferGeometry);\n\n    var SphereGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(SphereGeometry, _Geometry);\n\n        function SphereGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'SphereGeometry';\n            _this.parameters = {\n                radius: radius,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments,\n                phiStart: phiStart,\n                phiLength: phiLength,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n\n            _this.fromBufferGeometry(new SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return SphereGeometry;\n    }(Geometry);\n\n    var TetrahedronBufferGeometry = /*#__PURE__*/function (_PolyhedronBufferGeom) {\n        _inheritsLoose(TetrahedronBufferGeometry, _PolyhedronBufferGeom);\n\n        function TetrahedronBufferGeometry(radius, detail) {\n            var _this;\n\n            var vertices = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];\n            var indices = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];\n            _this = _PolyhedronBufferGeom.call(this, vertices, indices, radius, detail) || this;\n            _this.type = 'TetrahedronBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n            return _this;\n        }\n\n        return TetrahedronBufferGeometry;\n    }(PolyhedronBufferGeometry);\n\n    var TetrahedronGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(TetrahedronGeometry, _Geometry);\n\n        function TetrahedronGeometry(radius, detail) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'TetrahedronGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n\n            _this.fromBufferGeometry(new TetrahedronBufferGeometry(radius, detail));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return TetrahedronGeometry;\n    }(Geometry);\n\n    var TextBufferGeometry = /*#__PURE__*/function (_ExtrudeBufferGeometr) {\n        _inheritsLoose(TextBufferGeometry, _ExtrudeBufferGeometr);\n\n        function TextBufferGeometry(text, parameters) {\n            var _this;\n\n            parameters = parameters || {};\n            var font = parameters.font;\n\n            if (!(font && font.isFont)) {\n                console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');\n                return new BufferGeometry() || _assertThisInitialized(_this);\n            }\n\n            var shapes = font.generateShapes(text, parameters.size); // translate parameters to ExtrudeGeometry API\n\n            parameters.depth = parameters.height !== undefined ? parameters.height : 50; // defaults\n\n            if (parameters.bevelThickness === undefined) parameters.bevelThickness = 10;\n            if (parameters.bevelSize === undefined) parameters.bevelSize = 8;\n            if (parameters.bevelEnabled === undefined) parameters.bevelEnabled = false;\n            _this = _ExtrudeBufferGeometr.call(this, shapes, parameters) || this;\n            _this.type = 'TextBufferGeometry';\n            return _this;\n        }\n\n        return TextBufferGeometry;\n    }(ExtrudeBufferGeometry);\n\n    var TextGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(TextGeometry, _Geometry);\n\n        function TextGeometry(text, parameters) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'TextGeometry';\n            _this.parameters = {\n                text: text,\n                parameters: parameters\n            };\n\n            _this.fromBufferGeometry(new TextBufferGeometry(text, parameters));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return TextGeometry;\n    }(Geometry);\n\n    var TorusBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(TorusBufferGeometry, _BufferGeometry);\n\n        function TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'TorusBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                tube: tube,\n                radialSegments: radialSegments,\n                tubularSegments: tubularSegments,\n                arc: arc\n            };\n            radius = radius || 1;\n            tube = tube || 0.4;\n            radialSegments = Math.floor(radialSegments) || 8;\n            tubularSegments = Math.floor(tubularSegments) || 6;\n            arc = arc || Math.PI * 2; // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var center = new Vector3();\n            var vertex = new Vector3();\n            var normal = new Vector3(); // generate vertices, normals and uvs\n\n            for (var j = 0; j <= radialSegments; j++) {\n                for (var i = 0; i <= tubularSegments; i++) {\n                    var u = i / tubularSegments * arc;\n                    var v = j / radialSegments * Math.PI * 2; // vertex\n\n                    vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n                    vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n                    vertex.z = tube * Math.sin(v);\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                    center.x = radius * Math.cos(u);\n                    center.y = radius * Math.sin(u);\n                    normal.subVectors(vertex, center).normalize();\n                    normals.push(normal.x, normal.y, normal.z); // uv\n\n                    uvs.push(i / tubularSegments);\n                    uvs.push(j / radialSegments);\n                }\n            } // generate indices\n\n\n            for (var _j = 1; _j <= radialSegments; _j++) {\n                for (var _i = 1; _i <= tubularSegments; _i++) {\n                    // indices\n                    var a = (tubularSegments + 1) * _j + _i - 1;\n                    var b = (tubularSegments + 1) * (_j - 1) + _i - 1;\n                    var c = (tubularSegments + 1) * (_j - 1) + _i;\n                    var d = (tubularSegments + 1) * _j + _i; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return TorusBufferGeometry;\n    }(BufferGeometry);\n\n    var TorusGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(TorusGeometry, _Geometry);\n\n        function TorusGeometry(radius, tube, radialSegments, tubularSegments, arc) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'TorusGeometry';\n            _this.parameters = {\n                radius: radius,\n                tube: tube,\n                radialSegments: radialSegments,\n                tubularSegments: tubularSegments,\n                arc: arc\n            };\n\n            _this.fromBufferGeometry(new TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return TorusGeometry;\n    }(Geometry);\n\n    var TorusKnotBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(TorusKnotBufferGeometry, _BufferGeometry);\n\n        function TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'TorusKnotBufferGeometry';\n            _this.parameters = {\n                radius: radius,\n                tube: tube,\n                tubularSegments: tubularSegments,\n                radialSegments: radialSegments,\n                p: p,\n                q: q\n            };\n            radius = radius || 1;\n            tube = tube || 0.4;\n            tubularSegments = Math.floor(tubularSegments) || 64;\n            radialSegments = Math.floor(radialSegments) || 8;\n            p = p || 2;\n            q = q || 3; // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var vertex = new Vector3();\n            var normal = new Vector3();\n            var P1 = new Vector3();\n            var P2 = new Vector3();\n            var B = new Vector3();\n            var T = new Vector3();\n            var N = new Vector3(); // generate vertices, normals and uvs\n\n            for (var i = 0; i <= tubularSegments; ++i) {\n                // the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n                var u = i / tubularSegments * p * Math.PI * 2; // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n                // these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n                calculatePositionOnCurve(u, p, q, radius, P1);\n                calculatePositionOnCurve(u + 0.01, p, q, radius, P2); // calculate orthonormal basis\n\n                T.subVectors(P2, P1);\n                N.addVectors(P2, P1);\n                B.crossVectors(T, N);\n                N.crossVectors(B, T); // normalize B, N. T can be ignored, we don't use it\n\n                B.normalize();\n                N.normalize();\n\n                for (var j = 0; j <= radialSegments; ++j) {\n                    // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n                    // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n                    var v = j / radialSegments * Math.PI * 2;\n                    var cx = -tube * Math.cos(v);\n                    var cy = tube * Math.sin(v); // now calculate the final vertex position.\n                    // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n                    vertex.x = P1.x + (cx * N.x + cy * B.x);\n                    vertex.y = P1.y + (cx * N.y + cy * B.y);\n                    vertex.z = P1.z + (cx * N.z + cy * B.z);\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n                    normal.subVectors(vertex, P1).normalize();\n                    normals.push(normal.x, normal.y, normal.z); // uv\n\n                    uvs.push(i / tubularSegments);\n                    uvs.push(j / radialSegments);\n                }\n            } // generate indices\n\n\n            for (var _j = 1; _j <= tubularSegments; _j++) {\n                for (var _i = 1; _i <= radialSegments; _i++) {\n                    // indices\n                    var a = (radialSegments + 1) * (_j - 1) + (_i - 1);\n                    var b = (radialSegments + 1) * _j + (_i - 1);\n                    var c = (radialSegments + 1) * _j + _i;\n                    var d = (radialSegments + 1) * (_j - 1) + _i; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // this function calculates the current position on the torus curve\n\n\n            function calculatePositionOnCurve(u, p, q, radius, position) {\n                var cu = Math.cos(u);\n                var su = Math.sin(u);\n                var quOverP = q / p * u;\n                var cs = Math.cos(quOverP);\n                position.x = radius * (2 + cs) * 0.5 * cu;\n                position.y = radius * (2 + cs) * su * 0.5;\n                position.z = radius * Math.sin(quOverP) * 0.5;\n            }\n\n            return _this;\n        }\n\n        return TorusKnotBufferGeometry;\n    }(BufferGeometry);\n\n    var TorusKnotGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(TorusKnotGeometry, _Geometry);\n\n        function TorusKnotGeometry(radius, tube, tubularSegments, radialSegments, p, q, heightScale) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'TorusKnotGeometry';\n            _this.parameters = {\n                radius: radius,\n                tube: tube,\n                tubularSegments: tubularSegments,\n                radialSegments: radialSegments,\n                p: p,\n                q: q\n            };\n            if (heightScale !== undefined) console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');\n\n            _this.fromBufferGeometry(new TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q));\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return TorusKnotGeometry;\n    }(Geometry);\n\n    var TubeBufferGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(TubeBufferGeometry, _BufferGeometry);\n\n        function TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'TubeBufferGeometry';\n            _this.parameters = {\n                path: path,\n                tubularSegments: tubularSegments,\n                radius: radius,\n                radialSegments: radialSegments,\n                closed: closed\n            };\n            tubularSegments = tubularSegments || 64;\n            radius = radius || 1;\n            radialSegments = radialSegments || 8;\n            closed = closed || false;\n            var frames = path.computeFrenetFrames(tubularSegments, closed); // expose internals\n\n            _this.tangents = frames.tangents;\n            _this.normals = frames.normals;\n            _this.binormals = frames.binormals; // helper variables\n\n            var vertex = new Vector3();\n            var normal = new Vector3();\n            var uv = new Vector2();\n            var P = new Vector3(); // buffer\n\n            var vertices = [];\n            var normals = [];\n            var uvs = [];\n            var indices = []; // create buffer data\n\n            generateBufferData(); // build geometry\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // functions\n\n\n            function generateBufferData() {\n                for (var i = 0; i < tubularSegments; i++) {\n                    generateSegment(i);\n                } // if the geometry is not closed, generate the last row of vertices and normals\n                // at the regular position on the given path\n                //\n                // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\n                generateSegment(closed === false ? tubularSegments : 0); // uvs are generated in a separate function.\n                // this makes it easy compute correct values for closed geometries\n\n                generateUVs(); // finally create faces\n\n                generateIndices();\n            }\n\n            function generateSegment(i) {\n                // we use getPointAt to sample evenly distributed points from the given path\n                P = path.getPointAt(i / tubularSegments, P); // retrieve corresponding normal and binormal\n\n                var N = frames.normals[i];\n                var B = frames.binormals[i]; // generate normals and vertices for the current segment\n\n                for (var j = 0; j <= radialSegments; j++) {\n                    var v = j / radialSegments * Math.PI * 2;\n                    var sin = Math.sin(v);\n                    var cos = -Math.cos(v); // normal\n\n                    normal.x = cos * N.x + sin * B.x;\n                    normal.y = cos * N.y + sin * B.y;\n                    normal.z = cos * N.z + sin * B.z;\n                    normal.normalize();\n                    normals.push(normal.x, normal.y, normal.z); // vertex\n\n                    vertex.x = P.x + radius * normal.x;\n                    vertex.y = P.y + radius * normal.y;\n                    vertex.z = P.z + radius * normal.z;\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n                }\n            }\n\n            function generateIndices() {\n                for (var j = 1; j <= tubularSegments; j++) {\n                    for (var i = 1; i <= radialSegments; i++) {\n                        var a = (radialSegments + 1) * (j - 1) + (i - 1);\n                        var b = (radialSegments + 1) * j + (i - 1);\n                        var c = (radialSegments + 1) * j + i;\n                        var d = (radialSegments + 1) * (j - 1) + i; // faces\n\n                        indices.push(a, b, d);\n                        indices.push(b, c, d);\n                    }\n                }\n            }\n\n            function generateUVs() {\n                for (var i = 0; i <= tubularSegments; i++) {\n                    for (var j = 0; j <= radialSegments; j++) {\n                        uv.x = i / tubularSegments;\n                        uv.y = j / radialSegments;\n                        uvs.push(uv.x, uv.y);\n                    }\n                }\n            }\n\n            return _this;\n        }\n\n        var _proto = TubeBufferGeometry.prototype;\n\n        _proto.toJSON = function toJSON() {\n            var data = BufferGeometry.prototype.toJSON.call(this);\n            data.path = this.parameters.path.toJSON();\n            return data;\n        };\n\n        return TubeBufferGeometry;\n    }(BufferGeometry);\n\n    var TubeGeometry = /*#__PURE__*/function (_Geometry) {\n        _inheritsLoose(TubeGeometry, _Geometry);\n\n        function TubeGeometry(path, tubularSegments, radius, radialSegments, closed, taper) {\n            var _this;\n\n            _this = _Geometry.call(this) || this;\n            _this.type = 'TubeGeometry';\n            _this.parameters = {\n                path: path,\n                tubularSegments: tubularSegments,\n                radius: radius,\n                radialSegments: radialSegments,\n                closed: closed\n            };\n            if (taper !== undefined) console.warn('THREE.TubeGeometry: taper has been removed.');\n            var bufferGeometry = new TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed); // expose internals\n\n            _this.tangents = bufferGeometry.tangents;\n            _this.normals = bufferGeometry.normals;\n            _this.binormals = bufferGeometry.binormals; // create geometry\n\n            _this.fromBufferGeometry(bufferGeometry);\n\n            _this.mergeVertices();\n\n            return _this;\n        }\n\n        return TubeGeometry;\n    }(Geometry);\n\n    var WireframeGeometry = /*#__PURE__*/function (_BufferGeometry) {\n        _inheritsLoose(WireframeGeometry, _BufferGeometry);\n\n        function WireframeGeometry(geometry) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'WireframeGeometry'; // buffer\n\n            var vertices = []; // helper variables\n\n            var edge = [0, 0],\n                edges = {};\n            var keys = ['a', 'b', 'c']; // different logic for Geometry and BufferGeometry\n\n            if (geometry && geometry.isGeometry) {\n                // create a data structure that contains all edges without duplicates\n                var faces = geometry.faces;\n\n                for (var i = 0, l = faces.length; i < l; i++) {\n                    var face = faces[i];\n\n                    for (var j = 0; j < 3; j++) {\n                        var edge1 = face[keys[j]];\n                        var edge2 = face[keys[(j + 1) % 3]];\n                        edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates\n\n                        edge[1] = Math.max(edge1, edge2);\n                        var key = edge[0] + ',' + edge[1];\n\n                        if (edges[key] === undefined) {\n                            edges[key] = {\n                                index1: edge[0],\n                                index2: edge[1]\n                            };\n                        }\n                    }\n                } // generate vertices\n\n\n                for (var _key in edges) {\n                    var e = edges[_key];\n                    var vertex = geometry.vertices[e.index1];\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n                    vertex = geometry.vertices[e.index2];\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n                }\n            } else if (geometry && geometry.isBufferGeometry) {\n                var _vertex = new Vector3();\n\n                if (geometry.index !== null) {\n                    // indexed BufferGeometry\n                    var position = geometry.attributes.position;\n                    var indices = geometry.index;\n                    var groups = geometry.groups;\n\n                    if (groups.length === 0) {\n                        groups = [{\n                            start: 0,\n                            count: indices.count,\n                            materialIndex: 0\n                        }];\n                    } // create a data structure that contains all eges without duplicates\n\n\n                    for (var o = 0, ol = groups.length; o < ol; ++o) {\n                        var group = groups[o];\n                        var start = group.start;\n                        var count = group.count;\n\n                        for (var _i = start, _l = start + count; _i < _l; _i += 3) {\n                            for (var _j = 0; _j < 3; _j++) {\n                                var _edge = indices.getX(_i + _j);\n\n                                var _edge2 = indices.getX(_i + (_j + 1) % 3);\n\n                                edge[0] = Math.min(_edge, _edge2); // sorting prevents duplicates\n\n                                edge[1] = Math.max(_edge, _edge2);\n\n                                var _key2 = edge[0] + ',' + edge[1];\n\n                                if (edges[_key2] === undefined) {\n                                    edges[_key2] = {\n                                        index1: edge[0],\n                                        index2: edge[1]\n                                    };\n                                }\n                            }\n                        }\n                    } // generate vertices\n\n\n                    for (var _key3 in edges) {\n                        var _e = edges[_key3];\n\n                        _vertex.fromBufferAttribute(position, _e.index1);\n\n                        vertices.push(_vertex.x, _vertex.y, _vertex.z);\n\n                        _vertex.fromBufferAttribute(position, _e.index2);\n\n                        vertices.push(_vertex.x, _vertex.y, _vertex.z);\n                    }\n                } else {\n                    // non-indexed BufferGeometry\n                    var _position = geometry.attributes.position;\n\n                    for (var _i2 = 0, _l2 = _position.count / 3; _i2 < _l2; _i2++) {\n                        for (var _j2 = 0; _j2 < 3; _j2++) {\n                            // three edges per triangle, an edge is represented as (index1, index2)\n                            // e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n                            var index1 = 3 * _i2 + _j2;\n\n                            _vertex.fromBufferAttribute(_position, index1);\n\n                            vertices.push(_vertex.x, _vertex.y, _vertex.z);\n                            var index2 = 3 * _i2 + (_j2 + 1) % 3;\n\n                            _vertex.fromBufferAttribute(_position, index2);\n\n                            vertices.push(_vertex.x, _vertex.y, _vertex.z);\n                        }\n                    }\n                }\n            } // build geometry\n\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            return _this;\n        }\n\n        return WireframeGeometry;\n    }(BufferGeometry);\n\n    var Geometries = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        BoxGeometry: BoxGeometry,\n        BoxBufferGeometry: BoxBufferGeometry,\n        CircleGeometry: CircleGeometry,\n        CircleBufferGeometry: CircleBufferGeometry,\n        ConeGeometry: ConeGeometry,\n        ConeBufferGeometry: ConeBufferGeometry,\n        CylinderGeometry: CylinderGeometry,\n        CylinderBufferGeometry: CylinderBufferGeometry,\n        DodecahedronGeometry: DodecahedronGeometry,\n        DodecahedronBufferGeometry: DodecahedronBufferGeometry,\n        EdgesGeometry: EdgesGeometry,\n        ExtrudeGeometry: ExtrudeGeometry,\n        ExtrudeBufferGeometry: ExtrudeBufferGeometry,\n        IcosahedronGeometry: IcosahedronGeometry,\n        IcosahedronBufferGeometry: IcosahedronBufferGeometry,\n        LatheGeometry: LatheGeometry,\n        LatheBufferGeometry: LatheBufferGeometry,\n        OctahedronGeometry: OctahedronGeometry,\n        OctahedronBufferGeometry: OctahedronBufferGeometry,\n        ParametricGeometry: ParametricGeometry,\n        ParametricBufferGeometry: ParametricBufferGeometry,\n        PlaneGeometry: PlaneGeometry,\n        PlaneBufferGeometry: PlaneBufferGeometry,\n        PolyhedronGeometry: PolyhedronGeometry,\n        PolyhedronBufferGeometry: PolyhedronBufferGeometry,\n        RingGeometry: RingGeometry,\n        RingBufferGeometry: RingBufferGeometry,\n        ShapeGeometry: ShapeGeometry,\n        ShapeBufferGeometry: ShapeBufferGeometry,\n        SphereGeometry: SphereGeometry,\n        SphereBufferGeometry: SphereBufferGeometry,\n        TetrahedronGeometry: TetrahedronGeometry,\n        TetrahedronBufferGeometry: TetrahedronBufferGeometry,\n        TextGeometry: TextGeometry,\n        TextBufferGeometry: TextBufferGeometry,\n        TorusGeometry: TorusGeometry,\n        TorusBufferGeometry: TorusBufferGeometry,\n        TorusKnotGeometry: TorusKnotGeometry,\n        TorusKnotBufferGeometry: TorusKnotBufferGeometry,\n        TubeGeometry: TubeGeometry,\n        TubeBufferGeometry: TubeBufferGeometry,\n        WireframeGeometry: WireframeGeometry\n    });\n\n    /**\n     * parameters = {\n\t *\tcolor: <THREE.Color>\n\t * }\n     */\n\n    function ShadowMaterial(parameters) {\n        Material.call(this);\n        this.type = 'ShadowMaterial';\n        this.color = new Color(0x000000);\n        this.transparent = true;\n        this.setValues(parameters);\n    }\n\n    ShadowMaterial.prototype = Object.create(Material.prototype);\n    ShadowMaterial.prototype.constructor = ShadowMaterial;\n    ShadowMaterial.prototype.isShadowMaterial = true;\n\n    ShadowMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.color.copy(source.color);\n        return this;\n    };\n\n    function RawShaderMaterial(parameters) {\n        ShaderMaterial.call(this, parameters);\n        this.type = 'RawShaderMaterial';\n    }\n\n    RawShaderMaterial.prototype = Object.create(ShaderMaterial.prototype);\n    RawShaderMaterial.prototype.constructor = RawShaderMaterial;\n    RawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\troughness: <float>,\n\t *\tmetalness: <float>,\n\t *\topacity: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\temissive: <hex>,\n\t *\temissiveIntensity: <float>\n\t *\temissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\troughnessMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tmetalnessMap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n\t *\tenvMapIntensity: <float>\n\t *\n\t *\trefractionRatio: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>,\n\t *\tmorphNormals: <bool>\n\t * }\n     */\n\n    function MeshStandardMaterial(parameters) {\n        Material.call(this);\n        this.defines = {\n            'STANDARD': ''\n        };\n        this.type = 'MeshStandardMaterial';\n        this.color = new Color(0xffffff); // diffuse\n\n        this.roughness = 1.0;\n        this.metalness = 0.0;\n        this.map = null;\n        this.lightMap = null;\n        this.lightMapIntensity = 1.0;\n        this.aoMap = null;\n        this.aoMapIntensity = 1.0;\n        this.emissive = new Color(0x000000);\n        this.emissiveIntensity = 1.0;\n        this.emissiveMap = null;\n        this.bumpMap = null;\n        this.bumpScale = 1;\n        this.normalMap = null;\n        this.normalMapType = TangentSpaceNormalMap;\n        this.normalScale = new Vector2(1, 1);\n        this.displacementMap = null;\n        this.displacementScale = 1;\n        this.displacementBias = 0;\n        this.roughnessMap = null;\n        this.metalnessMap = null;\n        this.alphaMap = null;\n        this.envMap = null;\n        this.envMapIntensity = 1.0;\n        this.refractionRatio = 0.98;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.wireframeLinecap = 'round';\n        this.wireframeLinejoin = 'round';\n        this.skinning = false;\n        this.morphTargets = false;\n        this.morphNormals = false;\n        this.vertexTangents = false;\n        this.setValues(parameters);\n    }\n\n    MeshStandardMaterial.prototype = Object.create(Material.prototype);\n    MeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n    MeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n    MeshStandardMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.defines = {\n            'STANDARD': ''\n        };\n        this.color.copy(source.color);\n        this.roughness = source.roughness;\n        this.metalness = source.metalness;\n        this.map = source.map;\n        this.lightMap = source.lightMap;\n        this.lightMapIntensity = source.lightMapIntensity;\n        this.aoMap = source.aoMap;\n        this.aoMapIntensity = source.aoMapIntensity;\n        this.emissive.copy(source.emissive);\n        this.emissiveMap = source.emissiveMap;\n        this.emissiveIntensity = source.emissiveIntensity;\n        this.bumpMap = source.bumpMap;\n        this.bumpScale = source.bumpScale;\n        this.normalMap = source.normalMap;\n        this.normalMapType = source.normalMapType;\n        this.normalScale.copy(source.normalScale);\n        this.displacementMap = source.displacementMap;\n        this.displacementScale = source.displacementScale;\n        this.displacementBias = source.displacementBias;\n        this.roughnessMap = source.roughnessMap;\n        this.metalnessMap = source.metalnessMap;\n        this.alphaMap = source.alphaMap;\n        this.envMap = source.envMap;\n        this.envMapIntensity = source.envMapIntensity;\n        this.refractionRatio = source.refractionRatio;\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.wireframeLinecap = source.wireframeLinecap;\n        this.wireframeLinejoin = source.wireframeLinejoin;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        this.vertexTangents = source.vertexTangents;\n        return this;\n    };\n\n    /**\n     * parameters = {\n\t *\tclearcoat: <float>,\n\t *\tclearcoatMap: new THREE.Texture( <Image> ),\n\t *\tclearcoatRoughness: <float>,\n\t *\tclearcoatRoughnessMap: new THREE.Texture( <Image> ),\n\t *\tclearcoatNormalScale: <Vector2>,\n\t *\tclearcoatNormalMap: new THREE.Texture( <Image> ),\n\t *\n\t *\treflectivity: <float>,\n\t *\tior: <float>,\n\t *\n\t *\tsheen: <Color>,\n\t *\n\t *\ttransmission: <float>,\n\t *\ttransmissionMap: new THREE.Texture( <Image> )\n\t * }\n     */\n\n    function MeshPhysicalMaterial(parameters) {\n        MeshStandardMaterial.call(this);\n        this.defines = {\n            'STANDARD': '',\n            'PHYSICAL': ''\n        };\n        this.type = 'MeshPhysicalMaterial';\n        this.clearcoat = 0.0;\n        this.clearcoatMap = null;\n        this.clearcoatRoughness = 0.0;\n        this.clearcoatRoughnessMap = null;\n        this.clearcoatNormalScale = new Vector2(1, 1);\n        this.clearcoatNormalMap = null;\n        this.reflectivity = 0.5; // maps to F0 = 0.04\n\n        Object.defineProperty(this, 'ior', {\n            get: function get() {\n                return (1 + 0.4 * this.reflectivity) / (1 - 0.4 * this.reflectivity);\n            },\n            set: function set(ior) {\n                this.reflectivity = MathUtils.clamp(2.5 * (ior - 1) / (ior + 1), 0, 1);\n            }\n        });\n        this.sheen = null; // null will disable sheen bsdf\n\n        this.transmission = 0.0;\n        this.transmissionMap = null;\n        this.setValues(parameters);\n    }\n\n    MeshPhysicalMaterial.prototype = Object.create(MeshStandardMaterial.prototype);\n    MeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n    MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n    MeshPhysicalMaterial.prototype.copy = function (source) {\n        MeshStandardMaterial.prototype.copy.call(this, source);\n        this.defines = {\n            'STANDARD': '',\n            'PHYSICAL': ''\n        };\n        this.clearcoat = source.clearcoat;\n        this.clearcoatMap = source.clearcoatMap;\n        this.clearcoatRoughness = source.clearcoatRoughness;\n        this.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n        this.clearcoatNormalMap = source.clearcoatNormalMap;\n        this.clearcoatNormalScale.copy(source.clearcoatNormalScale);\n        this.reflectivity = source.reflectivity;\n\n        if (source.sheen) {\n            this.sheen = (this.sheen || new Color()).copy(source.sheen);\n        } else {\n            this.sheen = null;\n        }\n\n        this.transmission = source.transmission;\n        this.transmissionMap = source.transmissionMap;\n        return this;\n    };\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\tspecular: <hex>,\n\t *\tshininess: <float>,\n\t *\topacity: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\temissive: <hex>,\n\t *\temissiveIntensity: <float>\n\t *\temissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\tspecularMap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n\t *\tcombine: THREE.MultiplyOperation,\n\t *\treflectivity: <float>,\n\t *\trefractionRatio: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>,\n\t *\tmorphNormals: <bool>\n\t * }\n     */\n\n    function MeshPhongMaterial(parameters) {\n        Material.call(this);\n        this.type = 'MeshPhongMaterial';\n        this.color = new Color(0xffffff); // diffuse\n\n        this.specular = new Color(0x111111);\n        this.shininess = 30;\n        this.map = null;\n        this.lightMap = null;\n        this.lightMapIntensity = 1.0;\n        this.aoMap = null;\n        this.aoMapIntensity = 1.0;\n        this.emissive = new Color(0x000000);\n        this.emissiveIntensity = 1.0;\n        this.emissiveMap = null;\n        this.bumpMap = null;\n        this.bumpScale = 1;\n        this.normalMap = null;\n        this.normalMapType = TangentSpaceNormalMap;\n        this.normalScale = new Vector2(1, 1);\n        this.displacementMap = null;\n        this.displacementScale = 1;\n        this.displacementBias = 0;\n        this.specularMap = null;\n        this.alphaMap = null;\n        this.envMap = null;\n        this.combine = MultiplyOperation;\n        this.reflectivity = 1;\n        this.refractionRatio = 0.98;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.wireframeLinecap = 'round';\n        this.wireframeLinejoin = 'round';\n        this.skinning = false;\n        this.morphTargets = false;\n        this.morphNormals = false;\n        this.setValues(parameters);\n    }\n\n    MeshPhongMaterial.prototype = Object.create(Material.prototype);\n    MeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n    MeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n    MeshPhongMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.color.copy(source.color);\n        this.specular.copy(source.specular);\n        this.shininess = source.shininess;\n        this.map = source.map;\n        this.lightMap = source.lightMap;\n        this.lightMapIntensity = source.lightMapIntensity;\n        this.aoMap = source.aoMap;\n        this.aoMapIntensity = source.aoMapIntensity;\n        this.emissive.copy(source.emissive);\n        this.emissiveMap = source.emissiveMap;\n        this.emissiveIntensity = source.emissiveIntensity;\n        this.bumpMap = source.bumpMap;\n        this.bumpScale = source.bumpScale;\n        this.normalMap = source.normalMap;\n        this.normalMapType = source.normalMapType;\n        this.normalScale.copy(source.normalScale);\n        this.displacementMap = source.displacementMap;\n        this.displacementScale = source.displacementScale;\n        this.displacementBias = source.displacementBias;\n        this.specularMap = source.specularMap;\n        this.alphaMap = source.alphaMap;\n        this.envMap = source.envMap;\n        this.combine = source.combine;\n        this.reflectivity = source.reflectivity;\n        this.refractionRatio = source.refractionRatio;\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.wireframeLinecap = source.wireframeLinecap;\n        this.wireframeLinejoin = source.wireframeLinejoin;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        return this;\n    };\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\tgradientMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\temissive: <hex>,\n\t *\temissiveIntensity: <float>\n\t *\temissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>,\n\t *\tmorphNormals: <bool>\n\t * }\n     */\n\n    function MeshToonMaterial(parameters) {\n        Material.call(this);\n        this.defines = {\n            'TOON': ''\n        };\n        this.type = 'MeshToonMaterial';\n        this.color = new Color(0xffffff);\n        this.map = null;\n        this.gradientMap = null;\n        this.lightMap = null;\n        this.lightMapIntensity = 1.0;\n        this.aoMap = null;\n        this.aoMapIntensity = 1.0;\n        this.emissive = new Color(0x000000);\n        this.emissiveIntensity = 1.0;\n        this.emissiveMap = null;\n        this.bumpMap = null;\n        this.bumpScale = 1;\n        this.normalMap = null;\n        this.normalMapType = TangentSpaceNormalMap;\n        this.normalScale = new Vector2(1, 1);\n        this.displacementMap = null;\n        this.displacementScale = 1;\n        this.displacementBias = 0;\n        this.alphaMap = null;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.wireframeLinecap = 'round';\n        this.wireframeLinejoin = 'round';\n        this.skinning = false;\n        this.morphTargets = false;\n        this.morphNormals = false;\n        this.setValues(parameters);\n    }\n\n    MeshToonMaterial.prototype = Object.create(Material.prototype);\n    MeshToonMaterial.prototype.constructor = MeshToonMaterial;\n    MeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n    MeshToonMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.color.copy(source.color);\n        this.map = source.map;\n        this.gradientMap = source.gradientMap;\n        this.lightMap = source.lightMap;\n        this.lightMapIntensity = source.lightMapIntensity;\n        this.aoMap = source.aoMap;\n        this.aoMapIntensity = source.aoMapIntensity;\n        this.emissive.copy(source.emissive);\n        this.emissiveMap = source.emissiveMap;\n        this.emissiveIntensity = source.emissiveIntensity;\n        this.bumpMap = source.bumpMap;\n        this.bumpScale = source.bumpScale;\n        this.normalMap = source.normalMap;\n        this.normalMapType = source.normalMapType;\n        this.normalScale.copy(source.normalScale);\n        this.displacementMap = source.displacementMap;\n        this.displacementScale = source.displacementScale;\n        this.displacementBias = source.displacementBias;\n        this.alphaMap = source.alphaMap;\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.wireframeLinecap = source.wireframeLinecap;\n        this.wireframeLinejoin = source.wireframeLinejoin;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        return this;\n    };\n\n    /**\n     * parameters = {\n\t *\topacity: <float>,\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>,\n\t *\tmorphNormals: <bool>\n\t * }\n     */\n\n    function MeshNormalMaterial(parameters) {\n        Material.call(this);\n        this.type = 'MeshNormalMaterial';\n        this.bumpMap = null;\n        this.bumpScale = 1;\n        this.normalMap = null;\n        this.normalMapType = TangentSpaceNormalMap;\n        this.normalScale = new Vector2(1, 1);\n        this.displacementMap = null;\n        this.displacementScale = 1;\n        this.displacementBias = 0;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.fog = false;\n        this.skinning = false;\n        this.morphTargets = false;\n        this.morphNormals = false;\n        this.setValues(parameters);\n    }\n\n    MeshNormalMaterial.prototype = Object.create(Material.prototype);\n    MeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n    MeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n    MeshNormalMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.bumpMap = source.bumpMap;\n        this.bumpScale = source.bumpScale;\n        this.normalMap = source.normalMap;\n        this.normalMapType = source.normalMapType;\n        this.normalScale.copy(source.normalScale);\n        this.displacementMap = source.displacementMap;\n        this.displacementScale = source.displacementScale;\n        this.displacementBias = source.displacementBias;\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        return this;\n    };\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tlightMap: new THREE.Texture( <Image> ),\n\t *\tlightMapIntensity: <float>\n\t *\n\t *\taoMap: new THREE.Texture( <Image> ),\n\t *\taoMapIntensity: <float>\n\t *\n\t *\temissive: <hex>,\n\t *\temissiveIntensity: <float>\n\t *\temissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tspecularMap: new THREE.Texture( <Image> ),\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n\t *\tcombine: THREE.Multiply,\n\t *\treflectivity: <float>,\n\t *\trefractionRatio: <float>,\n\t *\n\t *\twireframe: <boolean>,\n\t *\twireframeLinewidth: <float>,\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>,\n\t *\tmorphNormals: <bool>\n\t * }\n     */\n\n    function MeshLambertMaterial(parameters) {\n        Material.call(this);\n        this.type = 'MeshLambertMaterial';\n        this.color = new Color(0xffffff); // diffuse\n\n        this.map = null;\n        this.lightMap = null;\n        this.lightMapIntensity = 1.0;\n        this.aoMap = null;\n        this.aoMapIntensity = 1.0;\n        this.emissive = new Color(0x000000);\n        this.emissiveIntensity = 1.0;\n        this.emissiveMap = null;\n        this.specularMap = null;\n        this.alphaMap = null;\n        this.envMap = null;\n        this.combine = MultiplyOperation;\n        this.reflectivity = 1;\n        this.refractionRatio = 0.98;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.wireframeLinecap = 'round';\n        this.wireframeLinejoin = 'round';\n        this.skinning = false;\n        this.morphTargets = false;\n        this.morphNormals = false;\n        this.setValues(parameters);\n    }\n\n    MeshLambertMaterial.prototype = Object.create(Material.prototype);\n    MeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n    MeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n    MeshLambertMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.color.copy(source.color);\n        this.map = source.map;\n        this.lightMap = source.lightMap;\n        this.lightMapIntensity = source.lightMapIntensity;\n        this.aoMap = source.aoMap;\n        this.aoMapIntensity = source.aoMapIntensity;\n        this.emissive.copy(source.emissive);\n        this.emissiveMap = source.emissiveMap;\n        this.emissiveIntensity = source.emissiveIntensity;\n        this.specularMap = source.specularMap;\n        this.alphaMap = source.alphaMap;\n        this.envMap = source.envMap;\n        this.combine = source.combine;\n        this.reflectivity = source.reflectivity;\n        this.refractionRatio = source.refractionRatio;\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.wireframeLinecap = source.wireframeLinecap;\n        this.wireframeLinejoin = source.wireframeLinejoin;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        return this;\n    };\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\n\t *\tmatcap: new THREE.Texture( <Image> ),\n\t *\n\t *\tmap: new THREE.Texture( <Image> ),\n\t *\n\t *\tbumpMap: new THREE.Texture( <Image> ),\n\t *\tbumpScale: <float>,\n\t *\n\t *\tnormalMap: new THREE.Texture( <Image> ),\n\t *\tnormalMapType: THREE.TangentSpaceNormalMap,\n\t *\tnormalScale: <Vector2>,\n\t *\n\t *\tdisplacementMap: new THREE.Texture( <Image> ),\n\t *\tdisplacementScale: <float>,\n\t *\tdisplacementBias: <float>,\n\t *\n\t *\talphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *\tskinning: <bool>,\n\t *\tmorphTargets: <bool>,\n\t *\tmorphNormals: <bool>\n\t * }\n     */\n\n    function MeshMatcapMaterial(parameters) {\n        Material.call(this);\n        this.defines = {\n            'MATCAP': ''\n        };\n        this.type = 'MeshMatcapMaterial';\n        this.color = new Color(0xffffff); // diffuse\n\n        this.matcap = null;\n        this.map = null;\n        this.bumpMap = null;\n        this.bumpScale = 1;\n        this.normalMap = null;\n        this.normalMapType = TangentSpaceNormalMap;\n        this.normalScale = new Vector2(1, 1);\n        this.displacementMap = null;\n        this.displacementScale = 1;\n        this.displacementBias = 0;\n        this.alphaMap = null;\n        this.skinning = false;\n        this.morphTargets = false;\n        this.morphNormals = false;\n        this.setValues(parameters);\n    }\n\n    MeshMatcapMaterial.prototype = Object.create(Material.prototype);\n    MeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n    MeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n    MeshMatcapMaterial.prototype.copy = function (source) {\n        Material.prototype.copy.call(this, source);\n        this.defines = {\n            'MATCAP': ''\n        };\n        this.color.copy(source.color);\n        this.matcap = source.matcap;\n        this.map = source.map;\n        this.bumpMap = source.bumpMap;\n        this.bumpScale = source.bumpScale;\n        this.normalMap = source.normalMap;\n        this.normalMapType = source.normalMapType;\n        this.normalScale.copy(source.normalScale);\n        this.displacementMap = source.displacementMap;\n        this.displacementScale = source.displacementScale;\n        this.displacementBias = source.displacementBias;\n        this.alphaMap = source.alphaMap;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        return this;\n    };\n\n    /**\n     * parameters = {\n\t *\tcolor: <hex>,\n\t *\topacity: <float>,\n\t *\n\t *\tlinewidth: <float>,\n\t *\n\t *\tscale: <float>,\n\t *\tdashSize: <float>,\n\t *\tgapSize: <float>\n\t * }\n     */\n\n    function LineDashedMaterial(parameters) {\n        LineBasicMaterial.call(this);\n        this.type = 'LineDashedMaterial';\n        this.scale = 1;\n        this.dashSize = 3;\n        this.gapSize = 1;\n        this.setValues(parameters);\n    }\n\n    LineDashedMaterial.prototype = Object.create(LineBasicMaterial.prototype);\n    LineDashedMaterial.prototype.constructor = LineDashedMaterial;\n    LineDashedMaterial.prototype.isLineDashedMaterial = true;\n\n    LineDashedMaterial.prototype.copy = function (source) {\n        LineBasicMaterial.prototype.copy.call(this, source);\n        this.scale = source.scale;\n        this.dashSize = source.dashSize;\n        this.gapSize = source.gapSize;\n        return this;\n    };\n\n    var Materials = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        ShadowMaterial: ShadowMaterial,\n        SpriteMaterial: SpriteMaterial,\n        RawShaderMaterial: RawShaderMaterial,\n        ShaderMaterial: ShaderMaterial,\n        PointsMaterial: PointsMaterial,\n        MeshPhysicalMaterial: MeshPhysicalMaterial,\n        MeshStandardMaterial: MeshStandardMaterial,\n        MeshPhongMaterial: MeshPhongMaterial,\n        MeshToonMaterial: MeshToonMaterial,\n        MeshNormalMaterial: MeshNormalMaterial,\n        MeshLambertMaterial: MeshLambertMaterial,\n        MeshDepthMaterial: MeshDepthMaterial,\n        MeshDistanceMaterial: MeshDistanceMaterial,\n        MeshBasicMaterial: MeshBasicMaterial,\n        MeshMatcapMaterial: MeshMatcapMaterial,\n        LineDashedMaterial: LineDashedMaterial,\n        LineBasicMaterial: LineBasicMaterial,\n        Material: Material\n    });\n\n    var AnimationUtils = {\n        // same as Array.prototype.slice, but also works on typed arrays\n        arraySlice: function arraySlice(array, from, to) {\n            if (AnimationUtils.isTypedArray(array)) {\n                // in ios9 array.subarray(from, undefined) will return empty array\n                // but array.subarray(from) or array.subarray(from, len) is correct\n                return new array.constructor(array.subarray(from, to !== undefined ? to : array.length));\n            }\n\n            return array.slice(from, to);\n        },\n        // converts an array to a specific type\n        convertArray: function convertArray(array, type, forceClone) {\n            if (!array || // let 'undefined' and 'null' pass\n                !forceClone && array.constructor === type) return array;\n\n            if (typeof type.BYTES_PER_ELEMENT === 'number') {\n                return new type(array); // create typed array\n            }\n\n            return Array.prototype.slice.call(array); // create Array\n        },\n        isTypedArray: function isTypedArray(object) {\n            return ArrayBuffer.isView(object) && !(object instanceof DataView);\n        },\n        // returns an array by which times and values can be sorted\n        getKeyframeOrder: function getKeyframeOrder(times) {\n            function compareTime(i, j) {\n                return times[i] - times[j];\n            }\n\n            var n = times.length;\n            var result = new Array(n);\n\n            for (var i = 0; i !== n; ++i) {\n                result[i] = i;\n            }\n\n            result.sort(compareTime);\n            return result;\n        },\n        // uses the array previously returned by 'getKeyframeOrder' to sort data\n        sortedArray: function sortedArray(values, stride, order) {\n            var nValues = values.length;\n            var result = new values.constructor(nValues);\n\n            for (var i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {\n                var srcOffset = order[i] * stride;\n\n                for (var j = 0; j !== stride; ++j) {\n                    result[dstOffset++] = values[srcOffset + j];\n                }\n            }\n\n            return result;\n        },\n        // function for parsing AOS keyframe formats\n        flattenJSON: function flattenJSON(jsonKeys, times, values, valuePropertyName) {\n            var i = 1,\n                key = jsonKeys[0];\n\n            while (key !== undefined && key[valuePropertyName] === undefined) {\n                key = jsonKeys[i++];\n            }\n\n            if (key === undefined) return; // no data\n\n            var value = key[valuePropertyName];\n            if (value === undefined) return; // no data\n\n            if (Array.isArray(value)) {\n                do {\n                    value = key[valuePropertyName];\n\n                    if (value !== undefined) {\n                        times.push(key.time);\n                        values.push.apply(values, value); // push all elements\n                    }\n\n                    key = jsonKeys[i++];\n                } while (key !== undefined);\n            } else if (value.toArray !== undefined) {\n                // ...assume THREE.Math-ish\n                do {\n                    value = key[valuePropertyName];\n\n                    if (value !== undefined) {\n                        times.push(key.time);\n                        value.toArray(values, values.length);\n                    }\n\n                    key = jsonKeys[i++];\n                } while (key !== undefined);\n            } else {\n                // otherwise push as-is\n                do {\n                    value = key[valuePropertyName];\n\n                    if (value !== undefined) {\n                        times.push(key.time);\n                        values.push(value);\n                    }\n\n                    key = jsonKeys[i++];\n                } while (key !== undefined);\n            }\n        },\n        subclip: function subclip(sourceClip, name, startFrame, endFrame, fps) {\n            fps = fps || 30;\n            var clip = sourceClip.clone();\n            clip.name = name;\n            var tracks = [];\n\n            for (var i = 0; i < clip.tracks.length; ++i) {\n                var track = clip.tracks[i];\n                var valueSize = track.getValueSize();\n                var times = [];\n                var values = [];\n\n                for (var j = 0; j < track.times.length; ++j) {\n                    var frame = track.times[j] * fps;\n                    if (frame < startFrame || frame >= endFrame) continue;\n                    times.push(track.times[j]);\n\n                    for (var k = 0; k < valueSize; ++k) {\n                        values.push(track.values[j * valueSize + k]);\n                    }\n                }\n\n                if (times.length === 0) continue;\n                track.times = AnimationUtils.convertArray(times, track.times.constructor);\n                track.values = AnimationUtils.convertArray(values, track.values.constructor);\n                tracks.push(track);\n            }\n\n            clip.tracks = tracks; // find minimum .times value across all tracks in the trimmed clip\n\n            var minStartTime = Infinity;\n\n            for (var _i = 0; _i < clip.tracks.length; ++_i) {\n                if (minStartTime > clip.tracks[_i].times[0]) {\n                    minStartTime = clip.tracks[_i].times[0];\n                }\n            } // shift all tracks such that clip begins at t=0\n\n\n            for (var _i2 = 0; _i2 < clip.tracks.length; ++_i2) {\n                clip.tracks[_i2].shift(-1 * minStartTime);\n            }\n\n            clip.resetDuration();\n            return clip;\n        },\n        makeClipAdditive: function makeClipAdditive(targetClip, referenceFrame, referenceClip, fps) {\n            if (referenceFrame === undefined) referenceFrame = 0;\n            if (referenceClip === undefined) referenceClip = targetClip;\n            if (fps === undefined || fps <= 0) fps = 30;\n            var numTracks = referenceClip.tracks.length;\n            var referenceTime = referenceFrame / fps; // Make each track's values relative to the values at the reference frame\n\n            var _loop = function _loop(i) {\n                var referenceTrack = referenceClip.tracks[i];\n                var referenceTrackType = referenceTrack.ValueTypeName; // Skip this track if it's non-numeric\n\n                if (referenceTrackType === 'bool' || referenceTrackType === 'string') return \"continue\"; // Find the track in the target clip whose name and type matches the reference track\n\n                var targetTrack = targetClip.tracks.find(function (track) {\n                    return track.name === referenceTrack.name && track.ValueTypeName === referenceTrackType;\n                });\n                if (targetTrack === undefined) return \"continue\";\n                var referenceOffset = 0;\n                var referenceValueSize = referenceTrack.getValueSize();\n\n                if (referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n                    referenceOffset = referenceValueSize / 3;\n                }\n\n                var targetOffset = 0;\n                var targetValueSize = targetTrack.getValueSize();\n\n                if (targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n                    targetOffset = targetValueSize / 3;\n                }\n\n                var lastIndex = referenceTrack.times.length - 1;\n                var referenceValue = void 0; // Find the value to subtract out of the track\n\n                if (referenceTime <= referenceTrack.times[0]) {\n                    // Reference frame is earlier than the first keyframe, so just use the first keyframe\n                    var startIndex = referenceOffset;\n                    var endIndex = referenceValueSize - referenceOffset;\n                    referenceValue = AnimationUtils.arraySlice(referenceTrack.values, startIndex, endIndex);\n                } else if (referenceTime >= referenceTrack.times[lastIndex]) {\n                    // Reference frame is after the last keyframe, so just use the last keyframe\n                    var _startIndex = lastIndex * referenceValueSize + referenceOffset;\n\n                    var _endIndex = _startIndex + referenceValueSize - referenceOffset;\n\n                    referenceValue = AnimationUtils.arraySlice(referenceTrack.values, _startIndex, _endIndex);\n                } else {\n                    // Interpolate to the reference value\n                    var interpolant = referenceTrack.createInterpolant();\n                    var _startIndex2 = referenceOffset;\n\n                    var _endIndex2 = referenceValueSize - referenceOffset;\n\n                    interpolant.evaluate(referenceTime);\n                    referenceValue = AnimationUtils.arraySlice(interpolant.resultBuffer, _startIndex2, _endIndex2);\n                } // Conjugate the quaternion\n\n\n                if (referenceTrackType === 'quaternion') {\n                    var referenceQuat = new Quaternion().fromArray(referenceValue).normalize().conjugate();\n                    referenceQuat.toArray(referenceValue);\n                } // Subtract the reference value from all of the track values\n\n\n                var numTimes = targetTrack.times.length;\n\n                for (var j = 0; j < numTimes; ++j) {\n                    var valueStart = j * targetValueSize + targetOffset;\n\n                    if (referenceTrackType === 'quaternion') {\n                        // Multiply the conjugate for quaternion track types\n                        Quaternion.multiplyQuaternionsFlat(targetTrack.values, valueStart, referenceValue, 0, targetTrack.values, valueStart);\n                    } else {\n                        var valueEnd = targetValueSize - targetOffset * 2; // Subtract each value for all other numeric track types\n\n                        for (var k = 0; k < valueEnd; ++k) {\n                            targetTrack.values[valueStart + k] -= referenceValue[k];\n                        }\n                    }\n                }\n            };\n\n            for (var i = 0; i < numTracks; ++i) {\n                var _ret = _loop(i);\n\n                if (_ret === \"continue\") continue;\n            }\n\n            targetClip.blendMode = AdditiveAnimationBlendMode;\n            return targetClip;\n        }\n    };\n\n    /**\n     * Abstract base class of interpolants over parametric samples.\n     *\n     * The parameter domain is one dimensional, typically the time or a path\n     * along a curve defined by the data.\n     *\n     * The sample values can have any dimensionality and derived classes may\n     * apply special interpretations to the data.\n     *\n     * This class provides the interval seek in a Template Method, deferring\n     * the actual interpolation to derived classes.\n     *\n     * Time complexity is O(1) for linear access crossing at most two points\n     * and O(log N) for random access, where N is the number of positions.\n     *\n     * References:\n     *\n     * \t\thttp://www.oodesign.com/template-method-pattern.html\n     *\n     */\n    function Interpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        this.parameterPositions = parameterPositions;\n        this._cachedIndex = 0;\n        this.resultBuffer = resultBuffer !== undefined ? resultBuffer : new sampleValues.constructor(sampleSize);\n        this.sampleValues = sampleValues;\n        this.valueSize = sampleSize;\n    }\n\n    Object.assign(Interpolant.prototype, {\n        evaluate: function evaluate(t) {\n            var pp = this.parameterPositions;\n            var i1 = this._cachedIndex,\n                t1 = pp[i1],\n                t0 = pp[i1 - 1];\n\n            validate_interval: {\n                seek: {\n                    var right;\n\n                    linear_scan: {\n                        //- See http://jsperf.com/comparison-to-undefined/3\n                        //- slower code:\n                        //-\n                        //- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n                        forward_scan: if (!(t < t1)) {\n                            for (var giveUpAt = i1 + 2;;) {\n                                if (t1 === undefined) {\n                                    if (t < t0) break forward_scan; // after end\n\n                                    i1 = pp.length;\n                                    this._cachedIndex = i1;\n                                    return this.afterEnd_(i1 - 1, t, t0);\n                                }\n\n                                if (i1 === giveUpAt) break; // this loop\n\n                                t0 = t1;\n                                t1 = pp[++i1];\n\n                                if (t < t1) {\n                                    // we have arrived at the sought interval\n                                    break seek;\n                                }\n                            } // prepare binary search on the right side of the index\n\n\n                            right = pp.length;\n                            break linear_scan;\n                        } //- slower code:\n                        //-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\n\n                        if (!(t >= t0)) {\n                            // looping?\n                            var t1global = pp[1];\n\n                            if (t < t1global) {\n                                i1 = 2; // + 1, using the scan for the details\n\n                                t0 = t1global;\n                            } // linear reverse scan\n\n\n                            for (var _giveUpAt = i1 - 2;;) {\n                                if (t0 === undefined) {\n                                    // before start\n                                    this._cachedIndex = 0;\n                                    return this.beforeStart_(0, t, t1);\n                                }\n\n                                if (i1 === _giveUpAt) break; // this loop\n\n                                t1 = t0;\n                                t0 = pp[--i1 - 1];\n\n                                if (t >= t0) {\n                                    // we have arrived at the sought interval\n                                    break seek;\n                                }\n                            } // prepare binary search on the left side of the index\n\n\n                            right = i1;\n                            i1 = 0;\n                            break linear_scan;\n                        } // the interval is valid\n\n\n                        break validate_interval;\n                    } // linear scan\n                    // binary search\n\n\n                    while (i1 < right) {\n                        var mid = i1 + right >>> 1;\n\n                        if (t < pp[mid]) {\n                            right = mid;\n                        } else {\n                            i1 = mid + 1;\n                        }\n                    }\n\n                    t1 = pp[i1];\n                    t0 = pp[i1 - 1]; // check boundary cases, again\n\n                    if (t0 === undefined) {\n                        this._cachedIndex = 0;\n                        return this.beforeStart_(0, t, t1);\n                    }\n\n                    if (t1 === undefined) {\n                        i1 = pp.length;\n                        this._cachedIndex = i1;\n                        return this.afterEnd_(i1 - 1, t0, t);\n                    }\n                } // seek\n\n\n                this._cachedIndex = i1;\n                this.intervalChanged_(i1, t0, t1);\n            } // validate_interval\n\n\n            return this.interpolate_(i1, t0, t, t1);\n        },\n        settings: null,\n        // optional, subclass-specific settings structure\n        // Note: The indirection allows central control of many interpolants.\n        // --- Protected interface\n        DefaultSettings_: {},\n        getSettings_: function getSettings_() {\n            return this.settings || this.DefaultSettings_;\n        },\n        copySampleValue_: function copySampleValue_(index) {\n            // copies a sample value to the result buffer\n            var result = this.resultBuffer,\n                values = this.sampleValues,\n                stride = this.valueSize,\n                offset = index * stride;\n\n            for (var i = 0; i !== stride; ++i) {\n                result[i] = values[offset + i];\n            }\n\n            return result;\n        },\n        // Template methods for derived classes:\n        interpolate_: function interpolate_()\n            /* i1, t0, t, t1 */\n        {\n            throw new Error('call to abstract method'); // implementations shall return this.resultBuffer\n        },\n        intervalChanged_: function intervalChanged_()\n            /* i1, t0, t1 */\n        {// empty\n        }\n    }); // DECLARE ALIAS AFTER assign prototype\n\n    Object.assign(Interpolant.prototype, {\n        //( 0, t, t0 ), returns this.resultBuffer\n        beforeStart_: Interpolant.prototype.copySampleValue_,\n        //( N-1, tN-1, t ), returns this.resultBuffer\n        afterEnd_: Interpolant.prototype.copySampleValue_\n    });\n\n    /**\n     * Fast and simple cubic spline interpolant.\n     *\n     * It was derived from a Hermitian construction setting the first derivative\n     * at each sample position to the linear slope between neighboring positions\n     * over their parameter interval.\n     */\n\n    function CubicInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n        this._weightPrev = -0;\n        this._offsetPrev = -0;\n        this._weightNext = -0;\n        this._offsetNext = -0;\n    }\n\n    CubicInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n        constructor: CubicInterpolant,\n        DefaultSettings_: {\n            endingStart: ZeroCurvatureEnding,\n            endingEnd: ZeroCurvatureEnding\n        },\n        intervalChanged_: function intervalChanged_(i1, t0, t1) {\n            var pp = this.parameterPositions;\n            var iPrev = i1 - 2,\n                iNext = i1 + 1,\n                tPrev = pp[iPrev],\n                tNext = pp[iNext];\n\n            if (tPrev === undefined) {\n                switch (this.getSettings_().endingStart) {\n                    case ZeroSlopeEnding:\n                        // f'(t0) = 0\n                        iPrev = i1;\n                        tPrev = 2 * t0 - t1;\n                        break;\n\n                    case WrapAroundEnding:\n                        // use the other end of the curve\n                        iPrev = pp.length - 2;\n                        tPrev = t0 + pp[iPrev] - pp[iPrev + 1];\n                        break;\n\n                    default:\n                        // ZeroCurvatureEnding\n                        // f''(t0) = 0 a.k.a. Natural Spline\n                        iPrev = i1;\n                        tPrev = t1;\n                }\n            }\n\n            if (tNext === undefined) {\n                switch (this.getSettings_().endingEnd) {\n                    case ZeroSlopeEnding:\n                        // f'(tN) = 0\n                        iNext = i1;\n                        tNext = 2 * t1 - t0;\n                        break;\n\n                    case WrapAroundEnding:\n                        // use the other end of the curve\n                        iNext = 1;\n                        tNext = t1 + pp[1] - pp[0];\n                        break;\n\n                    default:\n                        // ZeroCurvatureEnding\n                        // f''(tN) = 0, a.k.a. Natural Spline\n                        iNext = i1 - 1;\n                        tNext = t0;\n                }\n            }\n\n            var halfDt = (t1 - t0) * 0.5,\n                stride = this.valueSize;\n            this._weightPrev = halfDt / (t0 - tPrev);\n            this._weightNext = halfDt / (tNext - t1);\n            this._offsetPrev = iPrev * stride;\n            this._offsetNext = iNext * stride;\n        },\n        interpolate_: function interpolate_(i1, t0, t, t1) {\n            var result = this.resultBuffer,\n                values = this.sampleValues,\n                stride = this.valueSize,\n                o1 = i1 * stride,\n                o0 = o1 - stride,\n                oP = this._offsetPrev,\n                oN = this._offsetNext,\n                wP = this._weightPrev,\n                wN = this._weightNext,\n                p = (t - t0) / (t1 - t0),\n                pp = p * p,\n                ppp = pp * p; // evaluate polynomials\n\n            var sP = -wP * ppp + 2 * wP * pp - wP * p;\n            var s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;\n            var s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;\n            var sN = wN * ppp - wN * pp; // combine data linearly\n\n            for (var i = 0; i !== stride; ++i) {\n                result[i] = sP * values[oP + i] + s0 * values[o0 + i] + s1 * values[o1 + i] + sN * values[oN + i];\n            }\n\n            return result;\n        }\n    });\n\n    function LinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n    }\n\n    LinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n        constructor: LinearInterpolant,\n        interpolate_: function interpolate_(i1, t0, t, t1) {\n            var result = this.resultBuffer,\n                values = this.sampleValues,\n                stride = this.valueSize,\n                offset1 = i1 * stride,\n                offset0 = offset1 - stride,\n                weight1 = (t - t0) / (t1 - t0),\n                weight0 = 1 - weight1;\n\n            for (var i = 0; i !== stride; ++i) {\n                result[i] = values[offset0 + i] * weight0 + values[offset1 + i] * weight1;\n            }\n\n            return result;\n        }\n    });\n\n    /**\n     *\n     * Interpolant that evaluates to the sample value at the position preceeding\n     * the parameter.\n     */\n\n    function DiscreteInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n    }\n\n    DiscreteInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n        constructor: DiscreteInterpolant,\n        interpolate_: function interpolate_(i1\n                                            /*, t0, t, t1 */\n        ) {\n            return this.copySampleValue_(i1 - 1);\n        }\n    });\n\n    function KeyframeTrack(name, times, values, interpolation) {\n        if (name === undefined) throw new Error('THREE.KeyframeTrack: track name is undefined');\n        if (times === undefined || times.length === 0) throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + name);\n        this.name = name;\n        this.times = AnimationUtils.convertArray(times, this.TimeBufferType);\n        this.values = AnimationUtils.convertArray(values, this.ValueBufferType);\n        this.setInterpolation(interpolation || this.DefaultInterpolation);\n    } // Static methods\n\n\n    Object.assign(KeyframeTrack, {\n        // Serialization (in static context, because of constructor invocation\n        // and automatic invocation of .toJSON):\n        toJSON: function toJSON(track) {\n            var trackType = track.constructor;\n            var json; // derived classes can define a static toJSON method\n\n            if (trackType.toJSON !== undefined) {\n                json = trackType.toJSON(track);\n            } else {\n                // by default, we assume the data can be serialized as-is\n                json = {\n                    'name': track.name,\n                    'times': AnimationUtils.convertArray(track.times, Array),\n                    'values': AnimationUtils.convertArray(track.values, Array)\n                };\n                var interpolation = track.getInterpolation();\n\n                if (interpolation !== track.DefaultInterpolation) {\n                    json.interpolation = interpolation;\n                }\n            }\n\n            json.type = track.ValueTypeName; // mandatory\n\n            return json;\n        }\n    });\n    Object.assign(KeyframeTrack.prototype, {\n        constructor: KeyframeTrack,\n        TimeBufferType: Float32Array,\n        ValueBufferType: Float32Array,\n        DefaultInterpolation: InterpolateLinear,\n        InterpolantFactoryMethodDiscrete: function InterpolantFactoryMethodDiscrete(result) {\n            return new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);\n        },\n        InterpolantFactoryMethodLinear: function InterpolantFactoryMethodLinear(result) {\n            return new LinearInterpolant(this.times, this.values, this.getValueSize(), result);\n        },\n        InterpolantFactoryMethodSmooth: function InterpolantFactoryMethodSmooth(result) {\n            return new CubicInterpolant(this.times, this.values, this.getValueSize(), result);\n        },\n        setInterpolation: function setInterpolation(interpolation) {\n            var factoryMethod;\n\n            switch (interpolation) {\n                case InterpolateDiscrete:\n                    factoryMethod = this.InterpolantFactoryMethodDiscrete;\n                    break;\n\n                case InterpolateLinear:\n                    factoryMethod = this.InterpolantFactoryMethodLinear;\n                    break;\n\n                case InterpolateSmooth:\n                    factoryMethod = this.InterpolantFactoryMethodSmooth;\n                    break;\n            }\n\n            if (factoryMethod === undefined) {\n                var message = \"unsupported interpolation for \" + this.ValueTypeName + \" keyframe track named \" + this.name;\n\n                if (this.createInterpolant === undefined) {\n                    // fall back to default, unless the default itself is messed up\n                    if (interpolation !== this.DefaultInterpolation) {\n                        this.setInterpolation(this.DefaultInterpolation);\n                    } else {\n                        throw new Error(message); // fatal, in this case\n                    }\n                }\n\n                console.warn('THREE.KeyframeTrack:', message);\n                return this;\n            }\n\n            this.createInterpolant = factoryMethod;\n            return this;\n        },\n        getInterpolation: function getInterpolation() {\n            switch (this.createInterpolant) {\n                case this.InterpolantFactoryMethodDiscrete:\n                    return InterpolateDiscrete;\n\n                case this.InterpolantFactoryMethodLinear:\n                    return InterpolateLinear;\n\n                case this.InterpolantFactoryMethodSmooth:\n                    return InterpolateSmooth;\n            }\n        },\n        getValueSize: function getValueSize() {\n            return this.values.length / this.times.length;\n        },\n        // move all keyframes either forwards or backwards in time\n        shift: function shift(timeOffset) {\n            if (timeOffset !== 0.0) {\n                var times = this.times;\n\n                for (var i = 0, n = times.length; i !== n; ++i) {\n                    times[i] += timeOffset;\n                }\n            }\n\n            return this;\n        },\n        // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n        scale: function scale(timeScale) {\n            if (timeScale !== 1.0) {\n                var times = this.times;\n\n                for (var i = 0, n = times.length; i !== n; ++i) {\n                    times[i] *= timeScale;\n                }\n            }\n\n            return this;\n        },\n        // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n        // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n        trim: function trim(startTime, endTime) {\n            var times = this.times,\n                nKeys = times.length;\n            var from = 0,\n                to = nKeys - 1;\n\n            while (from !== nKeys && times[from] < startTime) {\n                ++from;\n            }\n\n            while (to !== -1 && times[to] > endTime) {\n                --to;\n            }\n\n            ++to; // inclusive -> exclusive bound\n\n            if (from !== 0 || to !== nKeys) {\n                // empty tracks are forbidden, so keep at least one keyframe\n                if (from >= to) {\n                    to = Math.max(to, 1);\n                    from = to - 1;\n                }\n\n                var stride = this.getValueSize();\n                this.times = AnimationUtils.arraySlice(times, from, to);\n                this.values = AnimationUtils.arraySlice(this.values, from * stride, to * stride);\n            }\n\n            return this;\n        },\n        // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n        validate: function validate() {\n            var valid = true;\n            var valueSize = this.getValueSize();\n\n            if (valueSize - Math.floor(valueSize) !== 0) {\n                console.error('THREE.KeyframeTrack: Invalid value size in track.', this);\n                valid = false;\n            }\n\n            var times = this.times,\n                values = this.values,\n                nKeys = times.length;\n\n            if (nKeys === 0) {\n                console.error('THREE.KeyframeTrack: Track is empty.', this);\n                valid = false;\n            }\n\n            var prevTime = null;\n\n            for (var i = 0; i !== nKeys; i++) {\n                var currTime = times[i];\n\n                if (typeof currTime === 'number' && isNaN(currTime)) {\n                    console.error('THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime);\n                    valid = false;\n                    break;\n                }\n\n                if (prevTime !== null && prevTime > currTime) {\n                    console.error('THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime);\n                    valid = false;\n                    break;\n                }\n\n                prevTime = currTime;\n            }\n\n            if (values !== undefined) {\n                if (AnimationUtils.isTypedArray(values)) {\n                    for (var _i = 0, n = values.length; _i !== n; ++_i) {\n                        var value = values[_i];\n\n                        if (isNaN(value)) {\n                            console.error('THREE.KeyframeTrack: Value is not a valid number.', this, _i, value);\n                            valid = false;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return valid;\n        },\n        // removes equivalent sequential keys as common in morph target sequences\n        // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n        optimize: function optimize() {\n            // times or values may be shared with other tracks, so overwriting is unsafe\n            var times = AnimationUtils.arraySlice(this.times),\n                values = AnimationUtils.arraySlice(this.values),\n                stride = this.getValueSize(),\n                smoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n                lastIndex = times.length - 1;\n            var writeIndex = 1;\n\n            for (var i = 1; i < lastIndex; ++i) {\n                var keep = false;\n                var time = times[i];\n                var timeNext = times[i + 1]; // remove adjacent keyframes scheduled at the same time\n\n                if (time !== timeNext && (i !== 1 || time !== time[0])) {\n                    if (!smoothInterpolation) {\n                        // remove unnecessary keyframes same as their neighbors\n                        var offset = i * stride,\n                            offsetP = offset - stride,\n                            offsetN = offset + stride;\n\n                        for (var j = 0; j !== stride; ++j) {\n                            var value = values[offset + j];\n\n                            if (value !== values[offsetP + j] || value !== values[offsetN + j]) {\n                                keep = true;\n                                break;\n                            }\n                        }\n                    } else {\n                        keep = true;\n                    }\n                } // in-place compaction\n\n\n                if (keep) {\n                    if (i !== writeIndex) {\n                        times[writeIndex] = times[i];\n                        var readOffset = i * stride,\n                            writeOffset = writeIndex * stride;\n\n                        for (var _j = 0; _j !== stride; ++_j) {\n                            values[writeOffset + _j] = values[readOffset + _j];\n                        }\n                    }\n\n                    ++writeIndex;\n                }\n            } // flush last keyframe (compaction looks ahead)\n\n\n            if (lastIndex > 0) {\n                times[writeIndex] = times[lastIndex];\n\n                for (var _readOffset = lastIndex * stride, _writeOffset = writeIndex * stride, _j2 = 0; _j2 !== stride; ++_j2) {\n                    values[_writeOffset + _j2] = values[_readOffset + _j2];\n                }\n\n                ++writeIndex;\n            }\n\n            if (writeIndex !== times.length) {\n                this.times = AnimationUtils.arraySlice(times, 0, writeIndex);\n                this.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n            } else {\n                this.times = times;\n                this.values = values;\n            }\n\n            return this;\n        },\n        clone: function clone() {\n            var times = AnimationUtils.arraySlice(this.times, 0);\n            var values = AnimationUtils.arraySlice(this.values, 0);\n            var TypedKeyframeTrack = this.constructor;\n            var track = new TypedKeyframeTrack(this.name, times, values); // Interpolant argument to constructor is not saved, so copy the factory method directly.\n\n            track.createInterpolant = this.createInterpolant;\n            return track;\n        }\n    });\n\n    /**\n     * A Track of Boolean keyframe values.\n     */\n\n    function BooleanKeyframeTrack(name, times, values) {\n        KeyframeTrack.call(this, name, times, values);\n    }\n\n    BooleanKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n        constructor: BooleanKeyframeTrack,\n        ValueTypeName: 'bool',\n        ValueBufferType: Array,\n        DefaultInterpolation: InterpolateDiscrete,\n        InterpolantFactoryMethodLinear: undefined,\n        InterpolantFactoryMethodSmooth: undefined // Note: Actually this track could have a optimized / compressed\n        // representation of a single value and a custom interpolant that\n        // computes \"firstValue ^ isOdd( index )\".\n\n    });\n\n    /**\n     * A Track of keyframe values that represent color.\n     */\n\n    function ColorKeyframeTrack(name, times, values, interpolation) {\n        KeyframeTrack.call(this, name, times, values, interpolation);\n    }\n\n    ColorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n        constructor: ColorKeyframeTrack,\n        ValueTypeName: 'color' // ValueBufferType is inherited\n        // DefaultInterpolation is inherited\n        // Note: Very basic implementation and nothing special yet.\n        // However, this is the place for color space parameterization.\n\n    });\n\n    /**\n     * A Track of numeric keyframe values.\n     */\n\n    function NumberKeyframeTrack(name, times, values, interpolation) {\n        KeyframeTrack.call(this, name, times, values, interpolation);\n    }\n\n    NumberKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n        constructor: NumberKeyframeTrack,\n        ValueTypeName: 'number' // ValueBufferType is inherited\n        // DefaultInterpolation is inherited\n\n    });\n\n    /**\n     * Spherical linear unit quaternion interpolant.\n     */\n\n    function QuaternionLinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n    }\n\n    QuaternionLinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n        constructor: QuaternionLinearInterpolant,\n        interpolate_: function interpolate_(i1, t0, t, t1) {\n            var result = this.resultBuffer,\n                values = this.sampleValues,\n                stride = this.valueSize,\n                alpha = (t - t0) / (t1 - t0);\n            var offset = i1 * stride;\n\n            for (var end = offset + stride; offset !== end; offset += 4) {\n                Quaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);\n            }\n\n            return result;\n        }\n    });\n\n    /**\n     * A Track of quaternion keyframe values.\n     */\n\n    function QuaternionKeyframeTrack(name, times, values, interpolation) {\n        KeyframeTrack.call(this, name, times, values, interpolation);\n    }\n\n    QuaternionKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n        constructor: QuaternionKeyframeTrack,\n        ValueTypeName: 'quaternion',\n        // ValueBufferType is inherited\n        DefaultInterpolation: InterpolateLinear,\n        InterpolantFactoryMethodLinear: function InterpolantFactoryMethodLinear(result) {\n            return new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);\n        },\n        InterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n    });\n\n    /**\n     * A Track that interpolates Strings\n     */\n\n    function StringKeyframeTrack(name, times, values, interpolation) {\n        KeyframeTrack.call(this, name, times, values, interpolation);\n    }\n\n    StringKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n        constructor: StringKeyframeTrack,\n        ValueTypeName: 'string',\n        ValueBufferType: Array,\n        DefaultInterpolation: InterpolateDiscrete,\n        InterpolantFactoryMethodLinear: undefined,\n        InterpolantFactoryMethodSmooth: undefined\n    });\n\n    /**\n     * A Track of vectored keyframe values.\n     */\n\n    function VectorKeyframeTrack(name, times, values, interpolation) {\n        KeyframeTrack.call(this, name, times, values, interpolation);\n    }\n\n    VectorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n        constructor: VectorKeyframeTrack,\n        ValueTypeName: 'vector' // ValueBufferType is inherited\n        // DefaultInterpolation is inherited\n\n    });\n\n    function AnimationClip(name, duration, tracks, blendMode) {\n        this.name = name;\n        this.tracks = tracks;\n        this.duration = duration !== undefined ? duration : -1;\n        this.blendMode = blendMode !== undefined ? blendMode : NormalAnimationBlendMode;\n        this.uuid = MathUtils.generateUUID(); // this means it should figure out its duration by scanning the tracks\n\n        if (this.duration < 0) {\n            this.resetDuration();\n        }\n    }\n\n    function getTrackTypeForValueTypeName(typeName) {\n        switch (typeName.toLowerCase()) {\n            case 'scalar':\n            case 'double':\n            case 'float':\n            case 'number':\n            case 'integer':\n                return NumberKeyframeTrack;\n\n            case 'vector':\n            case 'vector2':\n            case 'vector3':\n            case 'vector4':\n                return VectorKeyframeTrack;\n\n            case 'color':\n                return ColorKeyframeTrack;\n\n            case 'quaternion':\n                return QuaternionKeyframeTrack;\n\n            case 'bool':\n            case 'boolean':\n                return BooleanKeyframeTrack;\n\n            case 'string':\n                return StringKeyframeTrack;\n        }\n\n        throw new Error('THREE.KeyframeTrack: Unsupported typeName: ' + typeName);\n    }\n\n    function parseKeyframeTrack(json) {\n        if (json.type === undefined) {\n            throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');\n        }\n\n        var trackType = getTrackTypeForValueTypeName(json.type);\n\n        if (json.times === undefined) {\n            var times = [],\n                values = [];\n            AnimationUtils.flattenJSON(json.keys, times, values, 'value');\n            json.times = times;\n            json.values = values;\n        } // derived classes can define a static parse method\n\n\n        if (trackType.parse !== undefined) {\n            return trackType.parse(json);\n        } else {\n            // by default, we assume a constructor compatible with the base\n            return new trackType(json.name, json.times, json.values, json.interpolation);\n        }\n    }\n\n    Object.assign(AnimationClip, {\n        parse: function parse(json) {\n            var tracks = [],\n                jsonTracks = json.tracks,\n                frameTime = 1.0 / (json.fps || 1.0);\n\n            for (var i = 0, n = jsonTracks.length; i !== n; ++i) {\n                tracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));\n            }\n\n            return new AnimationClip(json.name, json.duration, tracks, json.blendMode);\n        },\n        toJSON: function toJSON(clip) {\n            var tracks = [],\n                clipTracks = clip.tracks;\n            var json = {\n                'name': clip.name,\n                'duration': clip.duration,\n                'tracks': tracks,\n                'uuid': clip.uuid,\n                'blendMode': clip.blendMode\n            };\n\n            for (var i = 0, n = clipTracks.length; i !== n; ++i) {\n                tracks.push(KeyframeTrack.toJSON(clipTracks[i]));\n            }\n\n            return json;\n        },\n        CreateFromMorphTargetSequence: function CreateFromMorphTargetSequence(name, morphTargetSequence, fps, noLoop) {\n            var numMorphTargets = morphTargetSequence.length;\n            var tracks = [];\n\n            for (var i = 0; i < numMorphTargets; i++) {\n                var times = [];\n                var values = [];\n                times.push((i + numMorphTargets - 1) % numMorphTargets, i, (i + 1) % numMorphTargets);\n                values.push(0, 1, 0);\n                var order = AnimationUtils.getKeyframeOrder(times);\n                times = AnimationUtils.sortedArray(times, 1, order);\n                values = AnimationUtils.sortedArray(values, 1, order); // if there is a key at the first frame, duplicate it as the\n                // last frame as well for perfect loop.\n\n                if (!noLoop && times[0] === 0) {\n                    times.push(numMorphTargets);\n                    values.push(values[0]);\n                }\n\n                tracks.push(new NumberKeyframeTrack('.morphTargetInfluences[' + morphTargetSequence[i].name + ']', times, values).scale(1.0 / fps));\n            }\n\n            return new AnimationClip(name, -1, tracks);\n        },\n        findByName: function findByName(objectOrClipArray, name) {\n            var clipArray = objectOrClipArray;\n\n            if (!Array.isArray(objectOrClipArray)) {\n                var o = objectOrClipArray;\n                clipArray = o.geometry && o.geometry.animations || o.animations;\n            }\n\n            for (var i = 0; i < clipArray.length; i++) {\n                if (clipArray[i].name === name) {\n                    return clipArray[i];\n                }\n            }\n\n            return null;\n        },\n        CreateClipsFromMorphTargetSequences: function CreateClipsFromMorphTargetSequences(morphTargets, fps, noLoop) {\n            var animationToMorphTargets = {}; // tested with https://regex101.com/ on trick sequences\n            // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\n            var pattern = /^([\\w-]*?)([\\d]+)$/; // sort morph target names into animation groups based\n            // patterns like Walk_001, Walk_002, Run_001, Run_002\n\n            for (var i = 0, il = morphTargets.length; i < il; i++) {\n                var morphTarget = morphTargets[i];\n                var parts = morphTarget.name.match(pattern);\n\n                if (parts && parts.length > 1) {\n                    var name = parts[1];\n                    var animationMorphTargets = animationToMorphTargets[name];\n\n                    if (!animationMorphTargets) {\n                        animationToMorphTargets[name] = animationMorphTargets = [];\n                    }\n\n                    animationMorphTargets.push(morphTarget);\n                }\n            }\n\n            var clips = [];\n\n            for (var _name in animationToMorphTargets) {\n                clips.push(AnimationClip.CreateFromMorphTargetSequence(_name, animationToMorphTargets[_name], fps, noLoop));\n            }\n\n            return clips;\n        },\n        // parse the animation.hierarchy format\n        parseAnimation: function parseAnimation(animation, bones) {\n            if (!animation) {\n                console.error('THREE.AnimationClip: No animation in JSONLoader data.');\n                return null;\n            }\n\n            var addNonemptyTrack = function addNonemptyTrack(trackType, trackName, animationKeys, propertyName, destTracks) {\n                // only return track if there are actually keys.\n                if (animationKeys.length !== 0) {\n                    var times = [];\n                    var values = [];\n                    AnimationUtils.flattenJSON(animationKeys, times, values, propertyName); // empty keys are filtered out, so check again\n\n                    if (times.length !== 0) {\n                        destTracks.push(new trackType(trackName, times, values));\n                    }\n                }\n            };\n\n            var tracks = [];\n            var clipName = animation.name || 'default';\n            var fps = animation.fps || 30;\n            var blendMode = animation.blendMode; // automatic length determination in AnimationClip.\n\n            var duration = animation.length || -1;\n            var hierarchyTracks = animation.hierarchy || [];\n\n            for (var h = 0; h < hierarchyTracks.length; h++) {\n                var animationKeys = hierarchyTracks[h].keys; // skip empty tracks\n\n                if (!animationKeys || animationKeys.length === 0) continue; // process morph targets\n\n                if (animationKeys[0].morphTargets) {\n                    // figure out all morph targets used in this track\n                    var morphTargetNames = {};\n                    var k = void 0;\n\n                    for (k = 0; k < animationKeys.length; k++) {\n                        if (animationKeys[k].morphTargets) {\n                            for (var m = 0; m < animationKeys[k].morphTargets.length; m++) {\n                                morphTargetNames[animationKeys[k].morphTargets[m]] = -1;\n                            }\n                        }\n                    } // create a track for each morph target with all zero\n                    // morphTargetInfluences except for the keys in which\n                    // the morphTarget is named.\n\n\n                    for (var morphTargetName in morphTargetNames) {\n                        var times = [];\n                        var values = [];\n\n                        for (var _m = 0; _m !== animationKeys[k].morphTargets.length; ++_m) {\n                            var animationKey = animationKeys[k];\n                            times.push(animationKey.time);\n                            values.push(animationKey.morphTarget === morphTargetName ? 1 : 0);\n                        }\n\n                        tracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));\n                    }\n\n                    duration = morphTargetNames.length * (fps || 1.0);\n                } else {\n                    // ...assume skeletal animation\n                    var boneName = '.bones[' + bones[h].name + ']';\n                    addNonemptyTrack(VectorKeyframeTrack, boneName + '.position', animationKeys, 'pos', tracks);\n                    addNonemptyTrack(QuaternionKeyframeTrack, boneName + '.quaternion', animationKeys, 'rot', tracks);\n                    addNonemptyTrack(VectorKeyframeTrack, boneName + '.scale', animationKeys, 'scl', tracks);\n                }\n            }\n\n            if (tracks.length === 0) {\n                return null;\n            }\n\n            var clip = new AnimationClip(clipName, duration, tracks, blendMode);\n            return clip;\n        }\n    });\n    Object.assign(AnimationClip.prototype, {\n        resetDuration: function resetDuration() {\n            var tracks = this.tracks;\n            var duration = 0;\n\n            for (var i = 0, n = tracks.length; i !== n; ++i) {\n                var track = this.tracks[i];\n                duration = Math.max(duration, track.times[track.times.length - 1]);\n            }\n\n            this.duration = duration;\n            return this;\n        },\n        trim: function trim() {\n            for (var i = 0; i < this.tracks.length; i++) {\n                this.tracks[i].trim(0, this.duration);\n            }\n\n            return this;\n        },\n        validate: function validate() {\n            var valid = true;\n\n            for (var i = 0; i < this.tracks.length; i++) {\n                valid = valid && this.tracks[i].validate();\n            }\n\n            return valid;\n        },\n        optimize: function optimize() {\n            for (var i = 0; i < this.tracks.length; i++) {\n                this.tracks[i].optimize();\n            }\n\n            return this;\n        },\n        clone: function clone() {\n            var tracks = [];\n\n            for (var i = 0; i < this.tracks.length; i++) {\n                tracks.push(this.tracks[i].clone());\n            }\n\n            return new AnimationClip(this.name, this.duration, tracks, this.blendMode);\n        }\n    });\n\n    var Cache = {\n        enabled: false,\n        files: {},\n        add: function add(key, file) {\n            if (this.enabled === false) return; // console.log( 'THREE.Cache', 'Adding key:', key );\n\n            this.files[key] = file;\n        },\n        get: function get(key) {\n            if (this.enabled === false) return; // console.log( 'THREE.Cache', 'Checking key:', key );\n\n            return this.files[key];\n        },\n        remove: function remove(key) {\n            delete this.files[key];\n        },\n        clear: function clear() {\n            this.files = {};\n        }\n    };\n\n    function LoadingManager(onLoad, onProgress, onError) {\n        var scope = this;\n        var isLoading = false;\n        var itemsLoaded = 0;\n        var itemsTotal = 0;\n        var urlModifier = undefined;\n        var handlers = []; // Refer to #5689 for the reason why we don't set .onStart\n        // in the constructor\n\n        this.onStart = undefined;\n        this.onLoad = onLoad;\n        this.onProgress = onProgress;\n        this.onError = onError;\n\n        this.itemStart = function (url) {\n            itemsTotal++;\n\n            if (isLoading === false) {\n                if (scope.onStart !== undefined) {\n                    scope.onStart(url, itemsLoaded, itemsTotal);\n                }\n            }\n\n            isLoading = true;\n        };\n\n        this.itemEnd = function (url) {\n            itemsLoaded++;\n\n            if (scope.onProgress !== undefined) {\n                scope.onProgress(url, itemsLoaded, itemsTotal);\n            }\n\n            if (itemsLoaded === itemsTotal) {\n                isLoading = false;\n\n                if (scope.onLoad !== undefined) {\n                    scope.onLoad();\n                }\n            }\n        };\n\n        this.itemError = function (url) {\n            if (scope.onError !== undefined) {\n                scope.onError(url);\n            }\n        };\n\n        this.resolveURL = function (url) {\n            if (urlModifier) {\n                return urlModifier(url);\n            }\n\n            return url;\n        };\n\n        this.setURLModifier = function (transform) {\n            urlModifier = transform;\n            return this;\n        };\n\n        this.addHandler = function (regex, loader) {\n            handlers.push(regex, loader);\n            return this;\n        };\n\n        this.removeHandler = function (regex) {\n            var index = handlers.indexOf(regex);\n\n            if (index !== -1) {\n                handlers.splice(index, 2);\n            }\n\n            return this;\n        };\n\n        this.getHandler = function (file) {\n            for (var i = 0, l = handlers.length; i < l; i += 2) {\n                var regex = handlers[i];\n                var loader = handlers[i + 1];\n                if (regex.global) regex.lastIndex = 0; // see #17920\n\n                if (regex.test(file)) {\n                    return loader;\n                }\n            }\n\n            return null;\n        };\n    }\n\n    var DefaultLoadingManager = new LoadingManager();\n\n    function Loader(manager) {\n        this.manager = manager !== undefined ? manager : DefaultLoadingManager;\n        this.crossOrigin = 'anonymous';\n        this.withCredentials = false;\n        this.path = '';\n        this.resourcePath = '';\n        this.requestHeader = {};\n    }\n\n    Object.assign(Loader.prototype, {\n        load: function load()\n            /* url, onLoad, onProgress, onError */\n        {},\n        loadAsync: function loadAsync(url, onProgress) {\n            var scope = this;\n            return new Promise(function (resolve, reject) {\n                scope.load(url, resolve, onProgress, reject);\n            });\n        },\n        parse: function parse()\n            /* data */\n        {},\n        setCrossOrigin: function setCrossOrigin(crossOrigin) {\n            this.crossOrigin = crossOrigin;\n            return this;\n        },\n        setWithCredentials: function setWithCredentials(value) {\n            this.withCredentials = value;\n            return this;\n        },\n        setPath: function setPath(path) {\n            this.path = path;\n            return this;\n        },\n        setResourcePath: function setResourcePath(resourcePath) {\n            this.resourcePath = resourcePath;\n            return this;\n        },\n        setRequestHeader: function setRequestHeader(requestHeader) {\n            this.requestHeader = requestHeader;\n            return this;\n        }\n    });\n\n    var loading = {};\n\n    function FileLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    FileLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: FileLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            if (url === undefined) url = '';\n            if (this.path !== undefined) url = this.path + url;\n            url = this.manager.resolveURL(url);\n            var scope = this;\n            var cached = Cache.get(url);\n\n            if (cached !== undefined) {\n                scope.manager.itemStart(url);\n                setTimeout(function () {\n                    if (onLoad) onLoad(cached);\n                    scope.manager.itemEnd(url);\n                }, 0);\n                return cached;\n            } // Check if request is duplicate\n\n\n            if (loading[url] !== undefined) {\n                loading[url].push({\n                    onLoad: onLoad,\n                    onProgress: onProgress,\n                    onError: onError\n                });\n                return;\n            } // Check for data: URI\n\n\n            var dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n            var dataUriRegexResult = url.match(dataUriRegex);\n            var request; // Safari can not handle Data URIs through XMLHttpRequest so process manually\n\n            if (dataUriRegexResult) {\n                var mimeType = dataUriRegexResult[1];\n                var isBase64 = !!dataUriRegexResult[2];\n                var data = dataUriRegexResult[3];\n                data = decodeURIComponent(data);\n                if (isBase64) data = atob(data);\n\n                try {\n                    var response;\n                    var responseType = (this.responseType || '').toLowerCase();\n\n                    switch (responseType) {\n                        case 'arraybuffer':\n                        case 'blob':\n                            var view = new Uint8Array(data.length);\n\n                            for (var i = 0; i < data.length; i++) {\n                                view[i] = data.charCodeAt(i);\n                            }\n\n                            if (responseType === 'blob') {\n                                response = new Blob([view.buffer], {\n                                    type: mimeType\n                                });\n                            } else {\n                                response = view.buffer;\n                            }\n\n                            break;\n\n                        case 'document':\n                            var parser = new DOMParser();\n                            response = parser.parseFromString(data, mimeType);\n                            break;\n\n                        case 'json':\n                            response = JSON.parse(data);\n                            break;\n\n                        default:\n                            // 'text' or other\n                            response = data;\n                            break;\n                    } // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\n\n                    setTimeout(function () {\n                        if (onLoad) onLoad(response);\n                        scope.manager.itemEnd(url);\n                    }, 0);\n                } catch (error) {\n                    // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n                    setTimeout(function () {\n                        if (onError) onError(error);\n                        scope.manager.itemError(url);\n                        scope.manager.itemEnd(url);\n                    }, 0);\n                }\n            } else {\n                // Initialise array for duplicate requests\n                loading[url] = [];\n                loading[url].push({\n                    onLoad: onLoad,\n                    onProgress: onProgress,\n                    onError: onError\n                });\n                request = new XMLHttpRequest();\n                request.open('GET', url, true);\n                request.addEventListener('load', function (event) {\n                    var response = this.response;\n                    var callbacks = loading[url];\n                    delete loading[url];\n\n                    if (this.status === 200 || this.status === 0) {\n                        // Some browsers return HTTP Status 0 when using non-http protocol\n                        // e.g. 'file://' or 'data://'. Handle as success.\n                        if (this.status === 0) console.warn('THREE.FileLoader: HTTP Status 0 received.'); // Add to cache only on HTTP success, so that we do not cache\n                        // error response bodies as proper responses to requests.\n\n                        Cache.add(url, response);\n\n                        for (var _i = 0, il = callbacks.length; _i < il; _i++) {\n                            var callback = callbacks[_i];\n                            if (callback.onLoad) callback.onLoad(response);\n                        }\n\n                        scope.manager.itemEnd(url);\n                    } else {\n                        for (var _i2 = 0, _il = callbacks.length; _i2 < _il; _i2++) {\n                            var _callback = callbacks[_i2];\n                            if (_callback.onError) _callback.onError(event);\n                        }\n\n                        scope.manager.itemError(url);\n                        scope.manager.itemEnd(url);\n                    }\n                }, false);\n                request.addEventListener('progress', function (event) {\n                    var callbacks = loading[url];\n\n                    for (var _i3 = 0, il = callbacks.length; _i3 < il; _i3++) {\n                        var callback = callbacks[_i3];\n                        if (callback.onProgress) callback.onProgress(event);\n                    }\n                }, false);\n                request.addEventListener('error', function (event) {\n                    var callbacks = loading[url];\n                    delete loading[url];\n\n                    for (var _i4 = 0, il = callbacks.length; _i4 < il; _i4++) {\n                        var callback = callbacks[_i4];\n                        if (callback.onError) callback.onError(event);\n                    }\n\n                    scope.manager.itemError(url);\n                    scope.manager.itemEnd(url);\n                }, false);\n                request.addEventListener('abort', function (event) {\n                    var callbacks = loading[url];\n                    delete loading[url];\n\n                    for (var _i5 = 0, il = callbacks.length; _i5 < il; _i5++) {\n                        var callback = callbacks[_i5];\n                        if (callback.onError) callback.onError(event);\n                    }\n\n                    scope.manager.itemError(url);\n                    scope.manager.itemEnd(url);\n                }, false);\n                if (this.responseType !== undefined) request.responseType = this.responseType;\n                if (this.withCredentials !== undefined) request.withCredentials = this.withCredentials;\n                if (request.overrideMimeType) request.overrideMimeType(this.mimeType !== undefined ? this.mimeType : 'text/plain');\n\n                for (var header in this.requestHeader) {\n                    request.setRequestHeader(header, this.requestHeader[header]);\n                }\n\n                request.send(null);\n            }\n\n            scope.manager.itemStart(url);\n            return request;\n        },\n        setResponseType: function setResponseType(value) {\n            this.responseType = value;\n            return this;\n        },\n        setMimeType: function setMimeType(value) {\n            this.mimeType = value;\n            return this;\n        }\n    });\n\n    function AnimationLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    AnimationLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: AnimationLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(scope.manager);\n            loader.setPath(scope.path);\n            loader.setRequestHeader(scope.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function (text) {\n                try {\n                    onLoad(scope.parse(JSON.parse(text)));\n                } catch (e) {\n                    if (onError) {\n                        onError(e);\n                    } else {\n                        console.error(e);\n                    }\n\n                    scope.manager.itemError(url);\n                }\n            }, onProgress, onError);\n        },\n        parse: function parse(json) {\n            var animations = [];\n\n            for (var i = 0; i < json.length; i++) {\n                var clip = AnimationClip.parse(json[i]);\n                animations.push(clip);\n            }\n\n            return animations;\n        }\n    });\n\n    /**\n     * Abstract Base class to block based textures loader (dds, pvr, ...)\n     *\n     * Sub classes have to implement the parse() method which will be used in load().\n     */\n\n    function CompressedTextureLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    CompressedTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: CompressedTextureLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var images = [];\n            var texture = new CompressedTexture();\n            texture.image = images;\n            var loader = new FileLoader(this.manager);\n            loader.setPath(this.path);\n            loader.setResponseType('arraybuffer');\n            loader.setRequestHeader(this.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            var loaded = 0;\n\n            function loadTexture(i) {\n                loader.load(url[i], function (buffer) {\n                    var texDatas = scope.parse(buffer, true);\n                    images[i] = {\n                        width: texDatas.width,\n                        height: texDatas.height,\n                        format: texDatas.format,\n                        mipmaps: texDatas.mipmaps\n                    };\n                    loaded += 1;\n\n                    if (loaded === 6) {\n                        if (texDatas.mipmapCount === 1) texture.minFilter = LinearFilter;\n                        texture.format = texDatas.format;\n                        texture.needsUpdate = true;\n                        if (onLoad) onLoad(texture);\n                    }\n                }, onProgress, onError);\n            }\n\n            if (Array.isArray(url)) {\n                for (var i = 0, il = url.length; i < il; ++i) {\n                    loadTexture(i);\n                }\n            } else {\n                // compressed cubemap texture stored in a single DDS file\n                loader.load(url, function (buffer) {\n                    var texDatas = scope.parse(buffer, true);\n\n                    if (texDatas.isCubemap) {\n                        var faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n                        for (var f = 0; f < faces; f++) {\n                            images[f] = {\n                                mipmaps: []\n                            };\n\n                            for (var _i = 0; _i < texDatas.mipmapCount; _i++) {\n                                images[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + _i]);\n                                images[f].format = texDatas.format;\n                                images[f].width = texDatas.width;\n                                images[f].height = texDatas.height;\n                            }\n                        }\n                    } else {\n                        texture.image.width = texDatas.width;\n                        texture.image.height = texDatas.height;\n                        texture.mipmaps = texDatas.mipmaps;\n                    }\n\n                    if (texDatas.mipmapCount === 1) {\n                        texture.minFilter = LinearFilter;\n                    }\n\n                    texture.format = texDatas.format;\n                    texture.needsUpdate = true;\n                    if (onLoad) onLoad(texture);\n                }, onProgress, onError);\n            }\n\n            return texture;\n        }\n    });\n\n    function ImageLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    ImageLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: ImageLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            if (this.path !== undefined) url = this.path + url;\n            url = this.manager.resolveURL(url);\n            var scope = this;\n            var cached = Cache.get(url);\n\n            if (cached !== undefined) {\n                scope.manager.itemStart(url);\n                setTimeout(function () {\n                    if (onLoad) onLoad(cached);\n                    scope.manager.itemEnd(url);\n                }, 0);\n                return cached;\n            }\n\n            var image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n\n            function onImageLoad() {\n                image.removeEventListener('load', onImageLoad, false);\n                image.removeEventListener('error', onImageError, false);\n                Cache.add(url, this);\n                if (onLoad) onLoad(this);\n                scope.manager.itemEnd(url);\n            }\n\n            function onImageError(event) {\n                image.removeEventListener('load', onImageLoad, false);\n                image.removeEventListener('error', onImageError, false);\n                if (onError) onError(event);\n                scope.manager.itemError(url);\n                scope.manager.itemEnd(url);\n            }\n\n            image.addEventListener('load', onImageLoad, false);\n            image.addEventListener('error', onImageError, false);\n\n            if (url.substr(0, 5) !== 'data:') {\n                if (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;\n            }\n\n            scope.manager.itemStart(url);\n            image.src = url;\n            return image;\n        }\n    });\n\n    function CubeTextureLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    CubeTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: CubeTextureLoader,\n        load: function load(urls, onLoad, onProgress, onError) {\n            var texture = new CubeTexture();\n            var loader = new ImageLoader(this.manager);\n            loader.setCrossOrigin(this.crossOrigin);\n            loader.setPath(this.path);\n            var loaded = 0;\n\n            function loadTexture(i) {\n                loader.load(urls[i], function (image) {\n                    texture.images[i] = image;\n                    loaded++;\n\n                    if (loaded === 6) {\n                        texture.needsUpdate = true;\n                        if (onLoad) onLoad(texture);\n                    }\n                }, undefined, onError);\n            }\n\n            for (var i = 0; i < urls.length; ++i) {\n                loadTexture(i);\n            }\n\n            return texture;\n        }\n    });\n\n    /**\n     * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n     *\n     * Sub classes have to implement the parse() method which will be used in load().\n     */\n\n    function DataTextureLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    DataTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: DataTextureLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var texture = new DataTexture();\n            var loader = new FileLoader(this.manager);\n            loader.setResponseType('arraybuffer');\n            loader.setRequestHeader(this.requestHeader);\n            loader.setPath(this.path);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function (buffer) {\n                var texData = scope.parse(buffer);\n                if (!texData) return;\n\n                if (texData.image !== undefined) {\n                    texture.image = texData.image;\n                } else if (texData.data !== undefined) {\n                    texture.image.width = texData.width;\n                    texture.image.height = texData.height;\n                    texture.image.data = texData.data;\n                }\n\n                texture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n                texture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n                texture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n                texture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n                texture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n                if (texData.format !== undefined) {\n                    texture.format = texData.format;\n                }\n\n                if (texData.type !== undefined) {\n                    texture.type = texData.type;\n                }\n\n                if (texData.mipmaps !== undefined) {\n                    texture.mipmaps = texData.mipmaps;\n                    texture.minFilter = LinearMipmapLinearFilter; // presumably...\n                }\n\n                if (texData.mipmapCount === 1) {\n                    texture.minFilter = LinearFilter;\n                }\n\n                texture.needsUpdate = true;\n                if (onLoad) onLoad(texture, texData);\n            }, onProgress, onError);\n            return texture;\n        }\n    });\n\n    function TextureLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    TextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: TextureLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var texture = new Texture();\n            var loader = new ImageLoader(this.manager);\n            loader.setCrossOrigin(this.crossOrigin);\n            loader.setPath(this.path);\n            loader.load(url, function (image) {\n                texture.image = image; // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\n                var isJPEG = url.search(/\\.jpe?g($|\\?)/i) > 0 || url.search(/^data\\:image\\/jpeg/) === 0;\n                texture.format = isJPEG ? RGBFormat : RGBAFormat;\n                texture.needsUpdate = true;\n\n                if (onLoad !== undefined) {\n                    onLoad(texture);\n                }\n            }, onProgress, onError);\n            return texture;\n        }\n    });\n\n    /**\n     * Extensible curve object.\n     *\n     * Some common of curve methods:\n     * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n     * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n     * .getPoints(), .getSpacedPoints()\n     * .getLength()\n     * .updateArcLengths()\n     *\n     * This following curves inherit from THREE.Curve:\n     *\n     * -- 2D curves --\n     * THREE.ArcCurve\n     * THREE.CubicBezierCurve\n     * THREE.EllipseCurve\n     * THREE.LineCurve\n     * THREE.QuadraticBezierCurve\n     * THREE.SplineCurve\n     *\n     * -- 3D curves --\n     * THREE.CatmullRomCurve3\n     * THREE.CubicBezierCurve3\n     * THREE.LineCurve3\n     * THREE.QuadraticBezierCurve3\n     *\n     * A series of curves can be represented as a THREE.CurvePath.\n     *\n     **/\n\n    function Curve() {\n        this.type = 'Curve';\n        this.arcLengthDivisions = 200;\n    }\n\n    Object.assign(Curve.prototype, {\n        // Virtual base class method to overwrite and implement in subclasses\n        //\t- t [0 .. 1]\n        getPoint: function getPoint()\n            /* t, optionalTarget */\n        {\n            console.warn('THREE.Curve: .getPoint() not implemented.');\n            return null;\n        },\n        // Get point at relative position in curve according to arc length\n        // - u [0 .. 1]\n        getPointAt: function getPointAt(u, optionalTarget) {\n            var t = this.getUtoTmapping(u);\n            return this.getPoint(t, optionalTarget);\n        },\n        // Get sequence of points using getPoint( t )\n        getPoints: function getPoints(divisions) {\n            if (divisions === undefined) divisions = 5;\n            var points = [];\n\n            for (var d = 0; d <= divisions; d++) {\n                points.push(this.getPoint(d / divisions));\n            }\n\n            return points;\n        },\n        // Get sequence of points using getPointAt( u )\n        getSpacedPoints: function getSpacedPoints(divisions) {\n            if (divisions === undefined) divisions = 5;\n            var points = [];\n\n            for (var d = 0; d <= divisions; d++) {\n                points.push(this.getPointAt(d / divisions));\n            }\n\n            return points;\n        },\n        // Get total curve arc length\n        getLength: function getLength() {\n            var lengths = this.getLengths();\n            return lengths[lengths.length - 1];\n        },\n        // Get list of cumulative segment lengths\n        getLengths: function getLengths(divisions) {\n            if (divisions === undefined) divisions = this.arcLengthDivisions;\n\n            if (this.cacheArcLengths && this.cacheArcLengths.length === divisions + 1 && !this.needsUpdate) {\n                return this.cacheArcLengths;\n            }\n\n            this.needsUpdate = false;\n            var cache = [];\n            var current,\n                last = this.getPoint(0);\n            var sum = 0;\n            cache.push(0);\n\n            for (var p = 1; p <= divisions; p++) {\n                current = this.getPoint(p / divisions);\n                sum += current.distanceTo(last);\n                cache.push(sum);\n                last = current;\n            }\n\n            this.cacheArcLengths = cache;\n            return cache; // { sums: cache, sum: sum }; Sum is in the last element.\n        },\n        updateArcLengths: function updateArcLengths() {\n            this.needsUpdate = true;\n            this.getLengths();\n        },\n        // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n        getUtoTmapping: function getUtoTmapping(u, distance) {\n            var arcLengths = this.getLengths();\n            var i = 0;\n            var il = arcLengths.length;\n            var targetArcLength; // The targeted u distance value to get\n\n            if (distance) {\n                targetArcLength = distance;\n            } else {\n                targetArcLength = u * arcLengths[il - 1];\n            } // binary search for the index with largest value smaller than target u distance\n\n\n            var low = 0,\n                high = il - 1,\n                comparison;\n\n            while (low <= high) {\n                i = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n                comparison = arcLengths[i] - targetArcLength;\n\n                if (comparison < 0) {\n                    low = i + 1;\n                } else if (comparison > 0) {\n                    high = i - 1;\n                } else {\n                    high = i;\n                    break; // DONE\n                }\n            }\n\n            i = high;\n\n            if (arcLengths[i] === targetArcLength) {\n                return i / (il - 1);\n            } // we could get finer grain at lengths, or use simple interpolation between two points\n\n\n            var lengthBefore = arcLengths[i];\n            var lengthAfter = arcLengths[i + 1];\n            var segmentLength = lengthAfter - lengthBefore; // determine where we are between the 'before' and 'after' points\n\n            var segmentFraction = (targetArcLength - lengthBefore) / segmentLength; // add that fractional amount to t\n\n            var t = (i + segmentFraction) / (il - 1);\n            return t;\n        },\n        // Returns a unit vector tangent at t\n        // In case any sub curve does not implement its tangent derivation,\n        // 2 points a small delta apart will be used to find its gradient\n        // which seems to give a reasonable approximation\n        getTangent: function getTangent(t, optionalTarget) {\n            var delta = 0.0001;\n            var t1 = t - delta;\n            var t2 = t + delta; // Capping in case of danger\n\n            if (t1 < 0) t1 = 0;\n            if (t2 > 1) t2 = 1;\n            var pt1 = this.getPoint(t1);\n            var pt2 = this.getPoint(t2);\n            var tangent = optionalTarget || (pt1.isVector2 ? new Vector2() : new Vector3());\n            tangent.copy(pt2).sub(pt1).normalize();\n            return tangent;\n        },\n        getTangentAt: function getTangentAt(u, optionalTarget) {\n            var t = this.getUtoTmapping(u);\n            return this.getTangent(t, optionalTarget);\n        },\n        computeFrenetFrames: function computeFrenetFrames(segments, closed) {\n            // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n            var normal = new Vector3();\n            var tangents = [];\n            var normals = [];\n            var binormals = [];\n            var vec = new Vector3();\n            var mat = new Matrix4(); // compute the tangent vectors for each segment on the curve\n\n            for (var i = 0; i <= segments; i++) {\n                var u = i / segments;\n                tangents[i] = this.getTangentAt(u, new Vector3());\n                tangents[i].normalize();\n            } // select an initial normal vector perpendicular to the first tangent vector,\n            // and in the direction of the minimum tangent xyz component\n\n\n            normals[0] = new Vector3();\n            binormals[0] = new Vector3();\n            var min = Number.MAX_VALUE;\n            var tx = Math.abs(tangents[0].x);\n            var ty = Math.abs(tangents[0].y);\n            var tz = Math.abs(tangents[0].z);\n\n            if (tx <= min) {\n                min = tx;\n                normal.set(1, 0, 0);\n            }\n\n            if (ty <= min) {\n                min = ty;\n                normal.set(0, 1, 0);\n            }\n\n            if (tz <= min) {\n                normal.set(0, 0, 1);\n            }\n\n            vec.crossVectors(tangents[0], normal).normalize();\n            normals[0].crossVectors(tangents[0], vec);\n            binormals[0].crossVectors(tangents[0], normals[0]); // compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n            for (var _i = 1; _i <= segments; _i++) {\n                normals[_i] = normals[_i - 1].clone();\n                binormals[_i] = binormals[_i - 1].clone();\n                vec.crossVectors(tangents[_i - 1], tangents[_i]);\n\n                if (vec.length() > Number.EPSILON) {\n                    vec.normalize();\n                    var theta = Math.acos(MathUtils.clamp(tangents[_i - 1].dot(tangents[_i]), -1, 1)); // clamp for floating pt errors\n\n                    normals[_i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n                }\n\n                binormals[_i].crossVectors(tangents[_i], normals[_i]);\n            } // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\n            if (closed === true) {\n                var _theta = Math.acos(MathUtils.clamp(normals[0].dot(normals[segments]), -1, 1));\n\n                _theta /= segments;\n\n                if (tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0) {\n                    _theta = -_theta;\n                }\n\n                for (var _i2 = 1; _i2 <= segments; _i2++) {\n                    // twist a little...\n                    normals[_i2].applyMatrix4(mat.makeRotationAxis(tangents[_i2], _theta * _i2));\n\n                    binormals[_i2].crossVectors(tangents[_i2], normals[_i2]);\n                }\n            }\n\n            return {\n                tangents: tangents,\n                normals: normals,\n                binormals: binormals\n            };\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        copy: function copy(source) {\n            this.arcLengthDivisions = source.arcLengthDivisions;\n            return this;\n        },\n        toJSON: function toJSON() {\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Curve',\n                    generator: 'Curve.toJSON'\n                }\n            };\n            data.arcLengthDivisions = this.arcLengthDivisions;\n            data.type = this.type;\n            return data;\n        },\n        fromJSON: function fromJSON(json) {\n            this.arcLengthDivisions = json.arcLengthDivisions;\n            return this;\n        }\n    });\n\n    function EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n        Curve.call(this);\n        this.type = 'EllipseCurve';\n        this.aX = aX || 0;\n        this.aY = aY || 0;\n        this.xRadius = xRadius || 1;\n        this.yRadius = yRadius || 1;\n        this.aStartAngle = aStartAngle || 0;\n        this.aEndAngle = aEndAngle || 2 * Math.PI;\n        this.aClockwise = aClockwise || false;\n        this.aRotation = aRotation || 0;\n    }\n\n    EllipseCurve.prototype = Object.create(Curve.prototype);\n    EllipseCurve.prototype.constructor = EllipseCurve;\n    EllipseCurve.prototype.isEllipseCurve = true;\n\n    EllipseCurve.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector2();\n        var twoPi = Math.PI * 2;\n        var deltaAngle = this.aEndAngle - this.aStartAngle;\n        var samePoints = Math.abs(deltaAngle) < Number.EPSILON; // ensures that deltaAngle is 0 .. 2 PI\n\n        while (deltaAngle < 0) {\n            deltaAngle += twoPi;\n        }\n\n        while (deltaAngle > twoPi) {\n            deltaAngle -= twoPi;\n        }\n\n        if (deltaAngle < Number.EPSILON) {\n            if (samePoints) {\n                deltaAngle = 0;\n            } else {\n                deltaAngle = twoPi;\n            }\n        }\n\n        if (this.aClockwise === true && !samePoints) {\n            if (deltaAngle === twoPi) {\n                deltaAngle = -twoPi;\n            } else {\n                deltaAngle = deltaAngle - twoPi;\n            }\n        }\n\n        var angle = this.aStartAngle + t * deltaAngle;\n        var x = this.aX + this.xRadius * Math.cos(angle);\n        var y = this.aY + this.yRadius * Math.sin(angle);\n\n        if (this.aRotation !== 0) {\n            var cos = Math.cos(this.aRotation);\n            var sin = Math.sin(this.aRotation);\n            var tx = x - this.aX;\n            var ty = y - this.aY; // Rotate the point about the center of the ellipse.\n\n            x = tx * cos - ty * sin + this.aX;\n            y = tx * sin + ty * cos + this.aY;\n        }\n\n        return point.set(x, y);\n    };\n\n    EllipseCurve.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.aX = source.aX;\n        this.aY = source.aY;\n        this.xRadius = source.xRadius;\n        this.yRadius = source.yRadius;\n        this.aStartAngle = source.aStartAngle;\n        this.aEndAngle = source.aEndAngle;\n        this.aClockwise = source.aClockwise;\n        this.aRotation = source.aRotation;\n        return this;\n    };\n\n    EllipseCurve.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.aX = this.aX;\n        data.aY = this.aY;\n        data.xRadius = this.xRadius;\n        data.yRadius = this.yRadius;\n        data.aStartAngle = this.aStartAngle;\n        data.aEndAngle = this.aEndAngle;\n        data.aClockwise = this.aClockwise;\n        data.aRotation = this.aRotation;\n        return data;\n    };\n\n    EllipseCurve.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.aX = json.aX;\n        this.aY = json.aY;\n        this.xRadius = json.xRadius;\n        this.yRadius = json.yRadius;\n        this.aStartAngle = json.aStartAngle;\n        this.aEndAngle = json.aEndAngle;\n        this.aClockwise = json.aClockwise;\n        this.aRotation = json.aRotation;\n        return this;\n    };\n\n    function ArcCurve(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n        EllipseCurve.call(this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n        this.type = 'ArcCurve';\n    }\n\n    ArcCurve.prototype = Object.create(EllipseCurve.prototype);\n    ArcCurve.prototype.constructor = ArcCurve;\n    ArcCurve.prototype.isArcCurve = true;\n\n    /**\n     * Centripetal CatmullRom Curve - which is useful for avoiding\n     * cusps and self-intersections in non-uniform catmull rom curves.\n     * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n     *\n     * curve.type accepts centripetal(default), chordal and catmullrom\n     * curve.tension is used for catmullrom which defaults to 0.5\n     */\n\n    /*\n     Based on an optimized c++ solution in\n     - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n     - http://ideone.com/NoEbVM\n\n     This CubicPoly class could be used for reusing some variables and calculations,\n     but for three.js curve use, it could be possible inlined and flatten into a single function call\n     which can be placed in CurveUtils.\n     */\n\n    function CubicPoly() {\n        var c0 = 0,\n            c1 = 0,\n            c2 = 0,\n            c3 = 0;\n        /*\n         * Compute coefficients for a cubic polynomial\n         *\t p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n         * such that\n         *\t p(0) = x0, p(1) = x1\n         *\tand\n         *\t p'(0) = t0, p'(1) = t1.\n         */\n\n        function init(x0, x1, t0, t1) {\n            c0 = x0;\n            c1 = t0;\n            c2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;\n            c3 = 2 * x0 - 2 * x1 + t0 + t1;\n        }\n\n        return {\n            initCatmullRom: function initCatmullRom(x0, x1, x2, x3, tension) {\n                init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n            },\n            initNonuniformCatmullRom: function initNonuniformCatmullRom(x0, x1, x2, x3, dt0, dt1, dt2) {\n                // compute tangents when parameterized in [t1,t2]\n                var t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n                var t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2; // rescale tangents for parametrization in [0,1]\n\n                t1 *= dt1;\n                t2 *= dt1;\n                init(x1, x2, t1, t2);\n            },\n            calc: function calc(t) {\n                var t2 = t * t;\n                var t3 = t2 * t;\n                return c0 + c1 * t + c2 * t2 + c3 * t3;\n            }\n        };\n    } //\n\n\n    var tmp = new Vector3();\n    var px = new CubicPoly(),\n        py = new CubicPoly(),\n        pz = new CubicPoly();\n\n    function CatmullRomCurve3(points, closed, curveType, tension) {\n        Curve.call(this);\n        this.type = 'CatmullRomCurve3';\n        this.points = points || [];\n        this.closed = closed || false;\n        this.curveType = curveType || 'centripetal';\n        this.tension = tension !== undefined ? tension : 0.5;\n    }\n\n    CatmullRomCurve3.prototype = Object.create(Curve.prototype);\n    CatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n    CatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n    CatmullRomCurve3.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector3();\n        var points = this.points;\n        var l = points.length;\n        var p = (l - (this.closed ? 0 : 1)) * t;\n        var intPoint = Math.floor(p);\n        var weight = p - intPoint;\n\n        if (this.closed) {\n            intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;\n        } else if (weight === 0 && intPoint === l - 1) {\n            intPoint = l - 2;\n            weight = 1;\n        }\n\n        var p0, p3; // 4 points (p1 & p2 defined below)\n\n        if (this.closed || intPoint > 0) {\n            p0 = points[(intPoint - 1) % l];\n        } else {\n            // extrapolate first point\n            tmp.subVectors(points[0], points[1]).add(points[0]);\n            p0 = tmp;\n        }\n\n        var p1 = points[intPoint % l];\n        var p2 = points[(intPoint + 1) % l];\n\n        if (this.closed || intPoint + 2 < l) {\n            p3 = points[(intPoint + 2) % l];\n        } else {\n            // extrapolate last point\n            tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n            p3 = tmp;\n        }\n\n        if (this.curveType === 'centripetal' || this.curveType === 'chordal') {\n            // init Centripetal / Chordal Catmull-Rom\n            var pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n            var dt0 = Math.pow(p0.distanceToSquared(p1), pow);\n            var dt1 = Math.pow(p1.distanceToSquared(p2), pow);\n            var dt2 = Math.pow(p2.distanceToSquared(p3), pow); // safety check for repeated points\n\n            if (dt1 < 1e-4) dt1 = 1.0;\n            if (dt0 < 1e-4) dt0 = dt1;\n            if (dt2 < 1e-4) dt2 = dt1;\n            px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n            py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n            pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n        } else if (this.curveType === 'catmullrom') {\n            px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);\n            py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);\n            pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);\n        }\n\n        point.set(px.calc(weight), py.calc(weight), pz.calc(weight));\n        return point;\n    };\n\n    CatmullRomCurve3.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.points = [];\n\n        for (var i = 0, l = source.points.length; i < l; i++) {\n            var point = source.points[i];\n            this.points.push(point.clone());\n        }\n\n        this.closed = source.closed;\n        this.curveType = source.curveType;\n        this.tension = source.tension;\n        return this;\n    };\n\n    CatmullRomCurve3.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.points = [];\n\n        for (var i = 0, l = this.points.length; i < l; i++) {\n            var point = this.points[i];\n            data.points.push(point.toArray());\n        }\n\n        data.closed = this.closed;\n        data.curveType = this.curveType;\n        data.tension = this.tension;\n        return data;\n    };\n\n    CatmullRomCurve3.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.points = [];\n\n        for (var i = 0, l = json.points.length; i < l; i++) {\n            var point = json.points[i];\n            this.points.push(new Vector3().fromArray(point));\n        }\n\n        this.closed = json.closed;\n        this.curveType = json.curveType;\n        this.tension = json.tension;\n        return this;\n    };\n\n    /**\n     * Bezier Curves formulas obtained from\n     * http://en.wikipedia.org/wiki/Bézier_curve\n     */\n    function CatmullRom(t, p0, p1, p2, p3) {\n        var v0 = (p2 - p0) * 0.5;\n        var v1 = (p3 - p1) * 0.5;\n        var t2 = t * t;\n        var t3 = t * t2;\n        return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n    } //\n\n\n    function QuadraticBezierP0(t, p) {\n        var k = 1 - t;\n        return k * k * p;\n    }\n\n    function QuadraticBezierP1(t, p) {\n        return 2 * (1 - t) * t * p;\n    }\n\n    function QuadraticBezierP2(t, p) {\n        return t * t * p;\n    }\n\n    function QuadraticBezier(t, p0, p1, p2) {\n        return QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1) + QuadraticBezierP2(t, p2);\n    } //\n\n\n    function CubicBezierP0(t, p) {\n        var k = 1 - t;\n        return k * k * k * p;\n    }\n\n    function CubicBezierP1(t, p) {\n        var k = 1 - t;\n        return 3 * k * k * t * p;\n    }\n\n    function CubicBezierP2(t, p) {\n        return 3 * (1 - t) * t * t * p;\n    }\n\n    function CubicBezierP3(t, p) {\n        return t * t * t * p;\n    }\n\n    function CubicBezier(t, p0, p1, p2, p3) {\n        return CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2) + CubicBezierP3(t, p3);\n    }\n\n    function CubicBezierCurve(v0, v1, v2, v3) {\n        Curve.call(this);\n        this.type = 'CubicBezierCurve';\n        this.v0 = v0 || new Vector2();\n        this.v1 = v1 || new Vector2();\n        this.v2 = v2 || new Vector2();\n        this.v3 = v3 || new Vector2();\n    }\n\n    CubicBezierCurve.prototype = Object.create(Curve.prototype);\n    CubicBezierCurve.prototype.constructor = CubicBezierCurve;\n    CubicBezierCurve.prototype.isCubicBezierCurve = true;\n\n    CubicBezierCurve.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector2();\n        var v0 = this.v0,\n            v1 = this.v1,\n            v2 = this.v2,\n            v3 = this.v3;\n        point.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y));\n        return point;\n    };\n\n    CubicBezierCurve.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.v0.copy(source.v0);\n        this.v1.copy(source.v1);\n        this.v2.copy(source.v2);\n        this.v3.copy(source.v3);\n        return this;\n    };\n\n    CubicBezierCurve.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.v0 = this.v0.toArray();\n        data.v1 = this.v1.toArray();\n        data.v2 = this.v2.toArray();\n        data.v3 = this.v3.toArray();\n        return data;\n    };\n\n    CubicBezierCurve.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.v0.fromArray(json.v0);\n        this.v1.fromArray(json.v1);\n        this.v2.fromArray(json.v2);\n        this.v3.fromArray(json.v3);\n        return this;\n    };\n\n    function CubicBezierCurve3(v0, v1, v2, v3) {\n        Curve.call(this);\n        this.type = 'CubicBezierCurve3';\n        this.v0 = v0 || new Vector3();\n        this.v1 = v1 || new Vector3();\n        this.v2 = v2 || new Vector3();\n        this.v3 = v3 || new Vector3();\n    }\n\n    CubicBezierCurve3.prototype = Object.create(Curve.prototype);\n    CubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n    CubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\n    CubicBezierCurve3.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector3();\n        var v0 = this.v0,\n            v1 = this.v1,\n            v2 = this.v2,\n            v3 = this.v3;\n        point.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y), CubicBezier(t, v0.z, v1.z, v2.z, v3.z));\n        return point;\n    };\n\n    CubicBezierCurve3.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.v0.copy(source.v0);\n        this.v1.copy(source.v1);\n        this.v2.copy(source.v2);\n        this.v3.copy(source.v3);\n        return this;\n    };\n\n    CubicBezierCurve3.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.v0 = this.v0.toArray();\n        data.v1 = this.v1.toArray();\n        data.v2 = this.v2.toArray();\n        data.v3 = this.v3.toArray();\n        return data;\n    };\n\n    CubicBezierCurve3.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.v0.fromArray(json.v0);\n        this.v1.fromArray(json.v1);\n        this.v2.fromArray(json.v2);\n        this.v3.fromArray(json.v3);\n        return this;\n    };\n\n    function LineCurve(v1, v2) {\n        Curve.call(this);\n        this.type = 'LineCurve';\n        this.v1 = v1 || new Vector2();\n        this.v2 = v2 || new Vector2();\n    }\n\n    LineCurve.prototype = Object.create(Curve.prototype);\n    LineCurve.prototype.constructor = LineCurve;\n    LineCurve.prototype.isLineCurve = true;\n\n    LineCurve.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector2();\n\n        if (t === 1) {\n            point.copy(this.v2);\n        } else {\n            point.copy(this.v2).sub(this.v1);\n            point.multiplyScalar(t).add(this.v1);\n        }\n\n        return point;\n    }; // Line curve is linear, so we can overwrite default getPointAt\n\n\n    LineCurve.prototype.getPointAt = function (u, optionalTarget) {\n        return this.getPoint(u, optionalTarget);\n    };\n\n    LineCurve.prototype.getTangent = function (t, optionalTarget) {\n        var tangent = optionalTarget || new Vector2();\n        tangent.copy(this.v2).sub(this.v1).normalize();\n        return tangent;\n    };\n\n    LineCurve.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.v1.copy(source.v1);\n        this.v2.copy(source.v2);\n        return this;\n    };\n\n    LineCurve.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.v1 = this.v1.toArray();\n        data.v2 = this.v2.toArray();\n        return data;\n    };\n\n    LineCurve.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.v1.fromArray(json.v1);\n        this.v2.fromArray(json.v2);\n        return this;\n    };\n\n    function LineCurve3(v1, v2) {\n        Curve.call(this);\n        this.type = 'LineCurve3';\n        this.v1 = v1 || new Vector3();\n        this.v2 = v2 || new Vector3();\n    }\n\n    LineCurve3.prototype = Object.create(Curve.prototype);\n    LineCurve3.prototype.constructor = LineCurve3;\n    LineCurve3.prototype.isLineCurve3 = true;\n\n    LineCurve3.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector3();\n\n        if (t === 1) {\n            point.copy(this.v2);\n        } else {\n            point.copy(this.v2).sub(this.v1);\n            point.multiplyScalar(t).add(this.v1);\n        }\n\n        return point;\n    }; // Line curve is linear, so we can overwrite default getPointAt\n\n\n    LineCurve3.prototype.getPointAt = function (u, optionalTarget) {\n        return this.getPoint(u, optionalTarget);\n    };\n\n    LineCurve3.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.v1.copy(source.v1);\n        this.v2.copy(source.v2);\n        return this;\n    };\n\n    LineCurve3.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.v1 = this.v1.toArray();\n        data.v2 = this.v2.toArray();\n        return data;\n    };\n\n    LineCurve3.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.v1.fromArray(json.v1);\n        this.v2.fromArray(json.v2);\n        return this;\n    };\n\n    function QuadraticBezierCurve(v0, v1, v2) {\n        Curve.call(this);\n        this.type = 'QuadraticBezierCurve';\n        this.v0 = v0 || new Vector2();\n        this.v1 = v1 || new Vector2();\n        this.v2 = v2 || new Vector2();\n    }\n\n    QuadraticBezierCurve.prototype = Object.create(Curve.prototype);\n    QuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n    QuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\n    QuadraticBezierCurve.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector2();\n        var v0 = this.v0,\n            v1 = this.v1,\n            v2 = this.v2;\n        point.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y));\n        return point;\n    };\n\n    QuadraticBezierCurve.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.v0.copy(source.v0);\n        this.v1.copy(source.v1);\n        this.v2.copy(source.v2);\n        return this;\n    };\n\n    QuadraticBezierCurve.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.v0 = this.v0.toArray();\n        data.v1 = this.v1.toArray();\n        data.v2 = this.v2.toArray();\n        return data;\n    };\n\n    QuadraticBezierCurve.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.v0.fromArray(json.v0);\n        this.v1.fromArray(json.v1);\n        this.v2.fromArray(json.v2);\n        return this;\n    };\n\n    function QuadraticBezierCurve3(v0, v1, v2) {\n        Curve.call(this);\n        this.type = 'QuadraticBezierCurve3';\n        this.v0 = v0 || new Vector3();\n        this.v1 = v1 || new Vector3();\n        this.v2 = v2 || new Vector3();\n    }\n\n    QuadraticBezierCurve3.prototype = Object.create(Curve.prototype);\n    QuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n    QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\n    QuadraticBezierCurve3.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector3();\n        var v0 = this.v0,\n            v1 = this.v1,\n            v2 = this.v2;\n        point.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y), QuadraticBezier(t, v0.z, v1.z, v2.z));\n        return point;\n    };\n\n    QuadraticBezierCurve3.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.v0.copy(source.v0);\n        this.v1.copy(source.v1);\n        this.v2.copy(source.v2);\n        return this;\n    };\n\n    QuadraticBezierCurve3.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.v0 = this.v0.toArray();\n        data.v1 = this.v1.toArray();\n        data.v2 = this.v2.toArray();\n        return data;\n    };\n\n    QuadraticBezierCurve3.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.v0.fromArray(json.v0);\n        this.v1.fromArray(json.v1);\n        this.v2.fromArray(json.v2);\n        return this;\n    };\n\n    function SplineCurve(points) {\n        Curve.call(this);\n        this.type = 'SplineCurve';\n        this.points = points || [];\n    }\n\n    SplineCurve.prototype = Object.create(Curve.prototype);\n    SplineCurve.prototype.constructor = SplineCurve;\n    SplineCurve.prototype.isSplineCurve = true;\n\n    SplineCurve.prototype.getPoint = function (t, optionalTarget) {\n        var point = optionalTarget || new Vector2();\n        var points = this.points;\n        var p = (points.length - 1) * t;\n        var intPoint = Math.floor(p);\n        var weight = p - intPoint;\n        var p0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n        var p1 = points[intPoint];\n        var p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n        var p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n        point.set(CatmullRom(weight, p0.x, p1.x, p2.x, p3.x), CatmullRom(weight, p0.y, p1.y, p2.y, p3.y));\n        return point;\n    };\n\n    SplineCurve.prototype.copy = function (source) {\n        Curve.prototype.copy.call(this, source);\n        this.points = [];\n\n        for (var i = 0, l = source.points.length; i < l; i++) {\n            var point = source.points[i];\n            this.points.push(point.clone());\n        }\n\n        return this;\n    };\n\n    SplineCurve.prototype.toJSON = function () {\n        var data = Curve.prototype.toJSON.call(this);\n        data.points = [];\n\n        for (var i = 0, l = this.points.length; i < l; i++) {\n            var point = this.points[i];\n            data.points.push(point.toArray());\n        }\n\n        return data;\n    };\n\n    SplineCurve.prototype.fromJSON = function (json) {\n        Curve.prototype.fromJSON.call(this, json);\n        this.points = [];\n\n        for (var i = 0, l = json.points.length; i < l; i++) {\n            var point = json.points[i];\n            this.points.push(new Vector2().fromArray(point));\n        }\n\n        return this;\n    };\n\n    var Curves = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        ArcCurve: ArcCurve,\n        CatmullRomCurve3: CatmullRomCurve3,\n        CubicBezierCurve: CubicBezierCurve,\n        CubicBezierCurve3: CubicBezierCurve3,\n        EllipseCurve: EllipseCurve,\n        LineCurve: LineCurve,\n        LineCurve3: LineCurve3,\n        QuadraticBezierCurve: QuadraticBezierCurve,\n        QuadraticBezierCurve3: QuadraticBezierCurve3,\n        SplineCurve: SplineCurve\n    });\n\n    /**************************************************************\n     *\tCurved Path - a curve path is simply a array of connected\n     *\tcurves, but retains the api of a curve\n     **************************************************************/\n\n    function CurvePath() {\n        Curve.call(this);\n        this.type = 'CurvePath';\n        this.curves = [];\n        this.autoClose = false; // Automatically closes the path\n    }\n\n    CurvePath.prototype = Object.assign(Object.create(Curve.prototype), {\n        constructor: CurvePath,\n        add: function add(curve) {\n            this.curves.push(curve);\n        },\n        closePath: function closePath() {\n            // Add a line curve if start and end of lines are not connected\n            var startPoint = this.curves[0].getPoint(0);\n            var endPoint = this.curves[this.curves.length - 1].getPoint(1);\n\n            if (!startPoint.equals(endPoint)) {\n                this.curves.push(new LineCurve(endPoint, startPoint));\n            }\n        },\n        // To get accurate point with reference to\n        // entire path distance at time t,\n        // following has to be done:\n        // 1. Length of each sub path have to be known\n        // 2. Locate and identify type of curve\n        // 3. Get t for the curve\n        // 4. Return curve.getPointAt(t')\n        getPoint: function getPoint(t) {\n            var d = t * this.getLength();\n            var curveLengths = this.getCurveLengths();\n            var i = 0; // To think about boundaries points.\n\n            while (i < curveLengths.length) {\n                if (curveLengths[i] >= d) {\n                    var diff = curveLengths[i] - d;\n                    var curve = this.curves[i];\n                    var segmentLength = curve.getLength();\n                    var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n                    return curve.getPointAt(u);\n                }\n\n                i++;\n            }\n\n            return null; // loop where sum != 0, sum > d , sum+1 <d\n        },\n        // We cannot use the default THREE.Curve getPoint() with getLength() because in\n        // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n        // getPoint() depends on getLength\n        getLength: function getLength() {\n            var lens = this.getCurveLengths();\n            return lens[lens.length - 1];\n        },\n        // cacheLengths must be recalculated.\n        updateArcLengths: function updateArcLengths() {\n            this.needsUpdate = true;\n            this.cacheLengths = null;\n            this.getCurveLengths();\n        },\n        // Compute lengths and cache them\n        // We cannot overwrite getLengths() because UtoT mapping uses it.\n        getCurveLengths: function getCurveLengths() {\n            // We use cache values if curves and cache array are same length\n            if (this.cacheLengths && this.cacheLengths.length === this.curves.length) {\n                return this.cacheLengths;\n            } // Get length of sub-curve\n            // Push sums into cached array\n\n\n            var lengths = [];\n            var sums = 0;\n\n            for (var i = 0, l = this.curves.length; i < l; i++) {\n                sums += this.curves[i].getLength();\n                lengths.push(sums);\n            }\n\n            this.cacheLengths = lengths;\n            return lengths;\n        },\n        getSpacedPoints: function getSpacedPoints(divisions) {\n            if (divisions === undefined) divisions = 40;\n            var points = [];\n\n            for (var i = 0; i <= divisions; i++) {\n                points.push(this.getPoint(i / divisions));\n            }\n\n            if (this.autoClose) {\n                points.push(points[0]);\n            }\n\n            return points;\n        },\n        getPoints: function getPoints(divisions) {\n            divisions = divisions || 12;\n            var points = [];\n            var last;\n\n            for (var i = 0, curves = this.curves; i < curves.length; i++) {\n                var curve = curves[i];\n                var resolution = curve && curve.isEllipseCurve ? divisions * 2 : curve && (curve.isLineCurve || curve.isLineCurve3) ? 1 : curve && curve.isSplineCurve ? divisions * curve.points.length : divisions;\n                var pts = curve.getPoints(resolution);\n\n                for (var j = 0; j < pts.length; j++) {\n                    var point = pts[j];\n                    if (last && last.equals(point)) continue; // ensures no consecutive points are duplicates\n\n                    points.push(point);\n                    last = point;\n                }\n            }\n\n            if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {\n                points.push(points[0]);\n            }\n\n            return points;\n        },\n        copy: function copy(source) {\n            Curve.prototype.copy.call(this, source);\n            this.curves = [];\n\n            for (var i = 0, l = source.curves.length; i < l; i++) {\n                var curve = source.curves[i];\n                this.curves.push(curve.clone());\n            }\n\n            this.autoClose = source.autoClose;\n            return this;\n        },\n        toJSON: function toJSON() {\n            var data = Curve.prototype.toJSON.call(this);\n            data.autoClose = this.autoClose;\n            data.curves = [];\n\n            for (var i = 0, l = this.curves.length; i < l; i++) {\n                var curve = this.curves[i];\n                data.curves.push(curve.toJSON());\n            }\n\n            return data;\n        },\n        fromJSON: function fromJSON(json) {\n            Curve.prototype.fromJSON.call(this, json);\n            this.autoClose = json.autoClose;\n            this.curves = [];\n\n            for (var i = 0, l = json.curves.length; i < l; i++) {\n                var curve = json.curves[i];\n                this.curves.push(new Curves[curve.type]().fromJSON(curve));\n            }\n\n            return this;\n        }\n    });\n\n    function Path(points) {\n        CurvePath.call(this);\n        this.type = 'Path';\n        this.currentPoint = new Vector2();\n\n        if (points) {\n            this.setFromPoints(points);\n        }\n    }\n\n    Path.prototype = Object.assign(Object.create(CurvePath.prototype), {\n        constructor: Path,\n        setFromPoints: function setFromPoints(points) {\n            this.moveTo(points[0].x, points[0].y);\n\n            for (var i = 1, l = points.length; i < l; i++) {\n                this.lineTo(points[i].x, points[i].y);\n            }\n\n            return this;\n        },\n        moveTo: function moveTo(x, y) {\n            this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n\n            return this;\n        },\n        lineTo: function lineTo(x, y) {\n            var curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n            this.curves.push(curve);\n            this.currentPoint.set(x, y);\n            return this;\n        },\n        quadraticCurveTo: function quadraticCurveTo(aCPx, aCPy, aX, aY) {\n            var curve = new QuadraticBezierCurve(this.currentPoint.clone(), new Vector2(aCPx, aCPy), new Vector2(aX, aY));\n            this.curves.push(curve);\n            this.currentPoint.set(aX, aY);\n            return this;\n        },\n        bezierCurveTo: function bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n            var curve = new CubicBezierCurve(this.currentPoint.clone(), new Vector2(aCP1x, aCP1y), new Vector2(aCP2x, aCP2y), new Vector2(aX, aY));\n            this.curves.push(curve);\n            this.currentPoint.set(aX, aY);\n            return this;\n        },\n        splineThru: function splineThru(pts\n                                        /*Array of Vector*/\n        ) {\n            var npts = [this.currentPoint.clone()].concat(pts);\n            var curve = new SplineCurve(npts);\n            this.curves.push(curve);\n            this.currentPoint.copy(pts[pts.length - 1]);\n            return this;\n        },\n        arc: function arc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n            var x0 = this.currentPoint.x;\n            var y0 = this.currentPoint.y;\n            this.absarc(aX + x0, aY + y0, aRadius, aStartAngle, aEndAngle, aClockwise);\n            return this;\n        },\n        absarc: function absarc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n            this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n            return this;\n        },\n        ellipse: function ellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n            var x0 = this.currentPoint.x;\n            var y0 = this.currentPoint.y;\n            this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n            return this;\n        },\n        absellipse: function absellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n            var curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n            if (this.curves.length > 0) {\n                // if a previous curve is present, attempt to join\n                var firstPoint = curve.getPoint(0);\n\n                if (!firstPoint.equals(this.currentPoint)) {\n                    this.lineTo(firstPoint.x, firstPoint.y);\n                }\n            }\n\n            this.curves.push(curve);\n            var lastPoint = curve.getPoint(1);\n            this.currentPoint.copy(lastPoint);\n            return this;\n        },\n        copy: function copy(source) {\n            CurvePath.prototype.copy.call(this, source);\n            this.currentPoint.copy(source.currentPoint);\n            return this;\n        },\n        toJSON: function toJSON() {\n            var data = CurvePath.prototype.toJSON.call(this);\n            data.currentPoint = this.currentPoint.toArray();\n            return data;\n        },\n        fromJSON: function fromJSON(json) {\n            CurvePath.prototype.fromJSON.call(this, json);\n            this.currentPoint.fromArray(json.currentPoint);\n            return this;\n        }\n    });\n\n    function Shape(points) {\n        Path.call(this, points);\n        this.uuid = MathUtils.generateUUID();\n        this.type = 'Shape';\n        this.holes = [];\n    }\n\n    Shape.prototype = Object.assign(Object.create(Path.prototype), {\n        constructor: Shape,\n        getPointsHoles: function getPointsHoles(divisions) {\n            var holesPts = [];\n\n            for (var i = 0, l = this.holes.length; i < l; i++) {\n                holesPts[i] = this.holes[i].getPoints(divisions);\n            }\n\n            return holesPts;\n        },\n        // get points of shape and holes (keypoints based on segments parameter)\n        extractPoints: function extractPoints(divisions) {\n            return {\n                shape: this.getPoints(divisions),\n                holes: this.getPointsHoles(divisions)\n            };\n        },\n        copy: function copy(source) {\n            Path.prototype.copy.call(this, source);\n            this.holes = [];\n\n            for (var i = 0, l = source.holes.length; i < l; i++) {\n                var hole = source.holes[i];\n                this.holes.push(hole.clone());\n            }\n\n            return this;\n        },\n        toJSON: function toJSON() {\n            var data = Path.prototype.toJSON.call(this);\n            data.uuid = this.uuid;\n            data.holes = [];\n\n            for (var i = 0, l = this.holes.length; i < l; i++) {\n                var hole = this.holes[i];\n                data.holes.push(hole.toJSON());\n            }\n\n            return data;\n        },\n        fromJSON: function fromJSON(json) {\n            Path.prototype.fromJSON.call(this, json);\n            this.uuid = json.uuid;\n            this.holes = [];\n\n            for (var i = 0, l = json.holes.length; i < l; i++) {\n                var hole = json.holes[i];\n                this.holes.push(new Path().fromJSON(hole));\n            }\n\n            return this;\n        }\n    });\n\n    function Light(color, intensity) {\n        Object3D.call(this);\n        this.type = 'Light';\n        this.color = new Color(color);\n        this.intensity = intensity !== undefined ? intensity : 1;\n    }\n\n    Light.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Light,\n        isLight: true,\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source);\n            this.color.copy(source.color);\n            this.intensity = source.intensity;\n            return this;\n        },\n        toJSON: function toJSON(meta) {\n            var data = Object3D.prototype.toJSON.call(this, meta);\n            data.object.color = this.color.getHex();\n            data.object.intensity = this.intensity;\n            if (this.groundColor !== undefined) data.object.groundColor = this.groundColor.getHex();\n            if (this.distance !== undefined) data.object.distance = this.distance;\n            if (this.angle !== undefined) data.object.angle = this.angle;\n            if (this.decay !== undefined) data.object.decay = this.decay;\n            if (this.penumbra !== undefined) data.object.penumbra = this.penumbra;\n            if (this.shadow !== undefined) data.object.shadow = this.shadow.toJSON();\n            return data;\n        }\n    });\n\n    function HemisphereLight(skyColor, groundColor, intensity) {\n        Light.call(this, skyColor, intensity);\n        this.type = 'HemisphereLight';\n        this.position.copy(Object3D.DefaultUp);\n        this.updateMatrix();\n        this.groundColor = new Color(groundColor);\n    }\n\n    HemisphereLight.prototype = Object.assign(Object.create(Light.prototype), {\n        constructor: HemisphereLight,\n        isHemisphereLight: true,\n        copy: function copy(source) {\n            Light.prototype.copy.call(this, source);\n            this.groundColor.copy(source.groundColor);\n            return this;\n        }\n    });\n\n    function LightShadow(camera) {\n        this.camera = camera;\n        this.bias = 0;\n        this.normalBias = 0;\n        this.radius = 1;\n        this.mapSize = new Vector2(512, 512);\n        this.map = null;\n        this.mapPass = null;\n        this.matrix = new Matrix4();\n        this.autoUpdate = true;\n        this.needsUpdate = false;\n        this._frustum = new Frustum();\n        this._frameExtents = new Vector2(1, 1);\n        this._viewportCount = 1;\n        this._viewports = [new Vector4(0, 0, 1, 1)];\n    }\n\n    Object.assign(LightShadow.prototype, {\n        _projScreenMatrix: new Matrix4(),\n        _lightPositionWorld: new Vector3(),\n        _lookTarget: new Vector3(),\n        getViewportCount: function getViewportCount() {\n            return this._viewportCount;\n        },\n        getFrustum: function getFrustum() {\n            return this._frustum;\n        },\n        updateMatrices: function updateMatrices(light) {\n            var shadowCamera = this.camera,\n                shadowMatrix = this.matrix,\n                projScreenMatrix = this._projScreenMatrix,\n                lookTarget = this._lookTarget,\n                lightPositionWorld = this._lightPositionWorld;\n            lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n            shadowCamera.position.copy(lightPositionWorld);\n            lookTarget.setFromMatrixPosition(light.target.matrixWorld);\n            shadowCamera.lookAt(lookTarget);\n            shadowCamera.updateMatrixWorld();\n            projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);\n\n            this._frustum.setFromProjectionMatrix(projScreenMatrix);\n\n            shadowMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n            shadowMatrix.multiply(shadowCamera.projectionMatrix);\n            shadowMatrix.multiply(shadowCamera.matrixWorldInverse);\n        },\n        getViewport: function getViewport(viewportIndex) {\n            return this._viewports[viewportIndex];\n        },\n        getFrameExtents: function getFrameExtents() {\n            return this._frameExtents;\n        },\n        copy: function copy(source) {\n            this.camera = source.camera.clone();\n            this.bias = source.bias;\n            this.radius = source.radius;\n            this.mapSize.copy(source.mapSize);\n            return this;\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        toJSON: function toJSON() {\n            var object = {};\n            if (this.bias !== 0) object.bias = this.bias;\n            if (this.normalBias !== 0) object.normalBias = this.normalBias;\n            if (this.radius !== 1) object.radius = this.radius;\n            if (this.mapSize.x !== 512 || this.mapSize.y !== 512) object.mapSize = this.mapSize.toArray();\n            object.camera = this.camera.toJSON(false).object;\n            delete object.camera.matrix;\n            return object;\n        }\n    });\n\n    function SpotLightShadow() {\n        LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500));\n        this.focus = 1;\n    }\n\n    SpotLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n        constructor: SpotLightShadow,\n        isSpotLightShadow: true,\n        updateMatrices: function updateMatrices(light) {\n            var camera = this.camera;\n            var fov = MathUtils.RAD2DEG * 2 * light.angle * this.focus;\n            var aspect = this.mapSize.width / this.mapSize.height;\n            var far = light.distance || camera.far;\n\n            if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n                camera.fov = fov;\n                camera.aspect = aspect;\n                camera.far = far;\n                camera.updateProjectionMatrix();\n            }\n\n            LightShadow.prototype.updateMatrices.call(this, light);\n        }\n    });\n\n    function SpotLight(color, intensity, distance, angle, penumbra, decay) {\n        Light.call(this, color, intensity);\n        this.type = 'SpotLight';\n        this.position.copy(Object3D.DefaultUp);\n        this.updateMatrix();\n        this.target = new Object3D();\n        Object.defineProperty(this, 'power', {\n            get: function get() {\n                // intensity = power per solid angle.\n                // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n                return this.intensity * Math.PI;\n            },\n            set: function set(power) {\n                // intensity = power per solid angle.\n                // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n                this.intensity = power / Math.PI;\n            }\n        });\n        this.distance = distance !== undefined ? distance : 0;\n        this.angle = angle !== undefined ? angle : Math.PI / 3;\n        this.penumbra = penumbra !== undefined ? penumbra : 0;\n        this.decay = decay !== undefined ? decay : 1; // for physically correct lights, should be 2.\n\n        this.shadow = new SpotLightShadow();\n    }\n\n    SpotLight.prototype = Object.assign(Object.create(Light.prototype), {\n        constructor: SpotLight,\n        isSpotLight: true,\n        copy: function copy(source) {\n            Light.prototype.copy.call(this, source);\n            this.distance = source.distance;\n            this.angle = source.angle;\n            this.penumbra = source.penumbra;\n            this.decay = source.decay;\n            this.target = source.target.clone();\n            this.shadow = source.shadow.clone();\n            return this;\n        }\n    });\n\n    function PointLightShadow() {\n        LightShadow.call(this, new PerspectiveCamera(90, 1, 0.5, 500));\n        this._frameExtents = new Vector2(4, 2);\n        this._viewportCount = 6;\n        this._viewports = [// These viewports map a cube-map onto a 2D texture with the\n            // following orientation:\n            //\n            //\txzXZ\n            //\t y Y\n            //\n            // X - Positive x direction\n            // x - Negative x direction\n            // Y - Positive y direction\n            // y - Negative y direction\n            // Z - Positive z direction\n            // z - Negative z direction\n            // positive X\n            new Vector4(2, 1, 1, 1), // negative X\n            new Vector4(0, 1, 1, 1), // positive Z\n            new Vector4(3, 1, 1, 1), // negative Z\n            new Vector4(1, 1, 1, 1), // positive Y\n            new Vector4(3, 0, 1, 1), // negative Y\n            new Vector4(1, 0, 1, 1)];\n        this._cubeDirections = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)];\n        this._cubeUps = [new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];\n    }\n\n    PointLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n        constructor: PointLightShadow,\n        isPointLightShadow: true,\n        updateMatrices: function updateMatrices(light, viewportIndex) {\n            if (viewportIndex === undefined) viewportIndex = 0;\n            var camera = this.camera,\n                shadowMatrix = this.matrix,\n                lightPositionWorld = this._lightPositionWorld,\n                lookTarget = this._lookTarget,\n                projScreenMatrix = this._projScreenMatrix;\n            lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n            camera.position.copy(lightPositionWorld);\n            lookTarget.copy(camera.position);\n            lookTarget.add(this._cubeDirections[viewportIndex]);\n            camera.up.copy(this._cubeUps[viewportIndex]);\n            camera.lookAt(lookTarget);\n            camera.updateMatrixWorld();\n            shadowMatrix.makeTranslation(-lightPositionWorld.x, -lightPositionWorld.y, -lightPositionWorld.z);\n            projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n            this._frustum.setFromProjectionMatrix(projScreenMatrix);\n        }\n    });\n\n    function PointLight(color, intensity, distance, decay) {\n        Light.call(this, color, intensity);\n        this.type = 'PointLight';\n        Object.defineProperty(this, 'power', {\n            get: function get() {\n                // intensity = power per solid angle.\n                // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n                return this.intensity * 4 * Math.PI;\n            },\n            set: function set(power) {\n                // intensity = power per solid angle.\n                // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n                this.intensity = power / (4 * Math.PI);\n            }\n        });\n        this.distance = distance !== undefined ? distance : 0;\n        this.decay = decay !== undefined ? decay : 1; // for physically correct lights, should be 2.\n\n        this.shadow = new PointLightShadow();\n    }\n\n    PointLight.prototype = Object.assign(Object.create(Light.prototype), {\n        constructor: PointLight,\n        isPointLight: true,\n        copy: function copy(source) {\n            Light.prototype.copy.call(this, source);\n            this.distance = source.distance;\n            this.decay = source.decay;\n            this.shadow = source.shadow.clone();\n            return this;\n        }\n    });\n\n    function OrthographicCamera(left, right, top, bottom, near, far) {\n        Camera.call(this);\n        this.type = 'OrthographicCamera';\n        this.zoom = 1;\n        this.view = null;\n        this.left = left !== undefined ? left : -1;\n        this.right = right !== undefined ? right : 1;\n        this.top = top !== undefined ? top : 1;\n        this.bottom = bottom !== undefined ? bottom : -1;\n        this.near = near !== undefined ? near : 0.1;\n        this.far = far !== undefined ? far : 2000;\n        this.updateProjectionMatrix();\n    }\n\n    OrthographicCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n        constructor: OrthographicCamera,\n        isOrthographicCamera: true,\n        copy: function copy(source, recursive) {\n            Camera.prototype.copy.call(this, source, recursive);\n            this.left = source.left;\n            this.right = source.right;\n            this.top = source.top;\n            this.bottom = source.bottom;\n            this.near = source.near;\n            this.far = source.far;\n            this.zoom = source.zoom;\n            this.view = source.view === null ? null : Object.assign({}, source.view);\n            return this;\n        },\n        setViewOffset: function setViewOffset(fullWidth, fullHeight, x, y, width, height) {\n            if (this.view === null) {\n                this.view = {\n                    enabled: true,\n                    fullWidth: 1,\n                    fullHeight: 1,\n                    offsetX: 0,\n                    offsetY: 0,\n                    width: 1,\n                    height: 1\n                };\n            }\n\n            this.view.enabled = true;\n            this.view.fullWidth = fullWidth;\n            this.view.fullHeight = fullHeight;\n            this.view.offsetX = x;\n            this.view.offsetY = y;\n            this.view.width = width;\n            this.view.height = height;\n            this.updateProjectionMatrix();\n        },\n        clearViewOffset: function clearViewOffset() {\n            if (this.view !== null) {\n                this.view.enabled = false;\n            }\n\n            this.updateProjectionMatrix();\n        },\n        updateProjectionMatrix: function updateProjectionMatrix() {\n            var dx = (this.right - this.left) / (2 * this.zoom);\n            var dy = (this.top - this.bottom) / (2 * this.zoom);\n            var cx = (this.right + this.left) / 2;\n            var cy = (this.top + this.bottom) / 2;\n            var left = cx - dx;\n            var right = cx + dx;\n            var top = cy + dy;\n            var bottom = cy - dy;\n\n            if (this.view !== null && this.view.enabled) {\n                var scaleW = (this.right - this.left) / this.view.fullWidth / this.zoom;\n                var scaleH = (this.top - this.bottom) / this.view.fullHeight / this.zoom;\n                left += scaleW * this.view.offsetX;\n                right = left + scaleW * this.view.width;\n                top -= scaleH * this.view.offsetY;\n                bottom = top - scaleH * this.view.height;\n            }\n\n            this.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);\n            this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n        },\n        toJSON: function toJSON(meta) {\n            var data = Object3D.prototype.toJSON.call(this, meta);\n            data.object.zoom = this.zoom;\n            data.object.left = this.left;\n            data.object.right = this.right;\n            data.object.top = this.top;\n            data.object.bottom = this.bottom;\n            data.object.near = this.near;\n            data.object.far = this.far;\n            if (this.view !== null) data.object.view = Object.assign({}, this.view);\n            return data;\n        }\n    });\n\n    function DirectionalLightShadow() {\n        LightShadow.call(this, new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));\n    }\n\n    DirectionalLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n        constructor: DirectionalLightShadow,\n        isDirectionalLightShadow: true,\n        updateMatrices: function updateMatrices(light) {\n            LightShadow.prototype.updateMatrices.call(this, light);\n        }\n    });\n\n    function DirectionalLight(color, intensity) {\n        Light.call(this, color, intensity);\n        this.type = 'DirectionalLight';\n        this.position.copy(Object3D.DefaultUp);\n        this.updateMatrix();\n        this.target = new Object3D();\n        this.shadow = new DirectionalLightShadow();\n    }\n\n    DirectionalLight.prototype = Object.assign(Object.create(Light.prototype), {\n        constructor: DirectionalLight,\n        isDirectionalLight: true,\n        copy: function copy(source) {\n            Light.prototype.copy.call(this, source);\n            this.target = source.target.clone();\n            this.shadow = source.shadow.clone();\n            return this;\n        }\n    });\n\n    function AmbientLight(color, intensity) {\n        Light.call(this, color, intensity);\n        this.type = 'AmbientLight';\n    }\n\n    AmbientLight.prototype = Object.assign(Object.create(Light.prototype), {\n        constructor: AmbientLight,\n        isAmbientLight: true\n    });\n\n    function RectAreaLight(color, intensity, width, height) {\n        Light.call(this, color, intensity);\n        this.type = 'RectAreaLight';\n        this.width = width !== undefined ? width : 10;\n        this.height = height !== undefined ? height : 10;\n    }\n\n    RectAreaLight.prototype = Object.assign(Object.create(Light.prototype), {\n        constructor: RectAreaLight,\n        isRectAreaLight: true,\n        copy: function copy(source) {\n            Light.prototype.copy.call(this, source);\n            this.width = source.width;\n            this.height = source.height;\n            return this;\n        },\n        toJSON: function toJSON(meta) {\n            var data = Light.prototype.toJSON.call(this, meta);\n            data.object.width = this.width;\n            data.object.height = this.height;\n            return data;\n        }\n    });\n\n    /**\n     * Primary reference:\n     *\t https://graphics.stanford.edu/papers/envmap/envmap.pdf\n     *\n     * Secondary reference:\n     *\t https://www.ppsloan.org/publications/StupidSH36.pdf\n     */\n    // 3-band SH defined by 9 coefficients\n\n    var SphericalHarmonics3 = /*#__PURE__*/function () {\n        function SphericalHarmonics3() {\n            Object.defineProperty(this, 'isSphericalHarmonics3', {\n                value: true\n            });\n            this.coefficients = [];\n\n            for (var i = 0; i < 9; i++) {\n                this.coefficients.push(new Vector3());\n            }\n        }\n\n        var _proto = SphericalHarmonics3.prototype;\n\n        _proto.set = function set(coefficients) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].copy(coefficients[i]);\n            }\n\n            return this;\n        };\n\n        _proto.zero = function zero() {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].set(0, 0, 0);\n            }\n\n            return this;\n        } // get the radiance in the direction of the normal\n        // target is a Vector3\n        ;\n\n        _proto.getAt = function getAt(normal, target) {\n            // normal is assumed to be unit length\n            var x = normal.x,\n                y = normal.y,\n                z = normal.z;\n            var coeff = this.coefficients; // band 0\n\n            target.copy(coeff[0]).multiplyScalar(0.282095); // band 1\n\n            target.addScaledVector(coeff[1], 0.488603 * y);\n            target.addScaledVector(coeff[2], 0.488603 * z);\n            target.addScaledVector(coeff[3], 0.488603 * x); // band 2\n\n            target.addScaledVector(coeff[4], 1.092548 * (x * y));\n            target.addScaledVector(coeff[5], 1.092548 * (y * z));\n            target.addScaledVector(coeff[6], 0.315392 * (3.0 * z * z - 1.0));\n            target.addScaledVector(coeff[7], 1.092548 * (x * z));\n            target.addScaledVector(coeff[8], 0.546274 * (x * x - y * y));\n            return target;\n        } // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n        // target is a Vector3\n        // https://graphics.stanford.edu/papers/envmap/envmap.pdf\n        ;\n\n        _proto.getIrradianceAt = function getIrradianceAt(normal, target) {\n            // normal is assumed to be unit length\n            var x = normal.x,\n                y = normal.y,\n                z = normal.z;\n            var coeff = this.coefficients; // band 0\n\n            target.copy(coeff[0]).multiplyScalar(0.886227); // π * 0.282095\n            // band 1\n\n            target.addScaledVector(coeff[1], 2.0 * 0.511664 * y); // ( 2 * π / 3 ) * 0.488603\n\n            target.addScaledVector(coeff[2], 2.0 * 0.511664 * z);\n            target.addScaledVector(coeff[3], 2.0 * 0.511664 * x); // band 2\n\n            target.addScaledVector(coeff[4], 2.0 * 0.429043 * x * y); // ( π / 4 ) * 1.092548\n\n            target.addScaledVector(coeff[5], 2.0 * 0.429043 * y * z);\n            target.addScaledVector(coeff[6], 0.743125 * z * z - 0.247708); // ( π / 4 ) * 0.315392 * 3\n\n            target.addScaledVector(coeff[7], 2.0 * 0.429043 * x * z);\n            target.addScaledVector(coeff[8], 0.429043 * (x * x - y * y)); // ( π / 4 ) * 0.546274\n\n            return target;\n        };\n\n        _proto.add = function add(sh) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].add(sh.coefficients[i]);\n            }\n\n            return this;\n        };\n\n        _proto.addScaledSH = function addScaledSH(sh, s) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].addScaledVector(sh.coefficients[i], s);\n            }\n\n            return this;\n        };\n\n        _proto.scale = function scale(s) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].multiplyScalar(s);\n            }\n\n            return this;\n        };\n\n        _proto.lerp = function lerp(sh, alpha) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].lerp(sh.coefficients[i], alpha);\n            }\n\n            return this;\n        };\n\n        _proto.equals = function equals(sh) {\n            for (var i = 0; i < 9; i++) {\n                if (!this.coefficients[i].equals(sh.coefficients[i])) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        _proto.copy = function copy(sh) {\n            return this.set(sh.coefficients);\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === undefined) offset = 0;\n            var coefficients = this.coefficients;\n\n            for (var i = 0; i < 9; i++) {\n                coefficients[i].fromArray(array, offset + i * 3);\n            }\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === undefined) array = [];\n            if (offset === undefined) offset = 0;\n            var coefficients = this.coefficients;\n\n            for (var i = 0; i < 9; i++) {\n                coefficients[i].toArray(array, offset + i * 3);\n            }\n\n            return array;\n        } // evaluate the basis functions\n        // shBasis is an Array[ 9 ]\n        ;\n\n        SphericalHarmonics3.getBasisAt = function getBasisAt(normal, shBasis) {\n            // normal is assumed to be unit length\n            var x = normal.x,\n                y = normal.y,\n                z = normal.z; // band 0\n\n            shBasis[0] = 0.282095; // band 1\n\n            shBasis[1] = 0.488603 * y;\n            shBasis[2] = 0.488603 * z;\n            shBasis[3] = 0.488603 * x; // band 2\n\n            shBasis[4] = 1.092548 * x * y;\n            shBasis[5] = 1.092548 * y * z;\n            shBasis[6] = 0.315392 * (3 * z * z - 1);\n            shBasis[7] = 1.092548 * x * z;\n            shBasis[8] = 0.546274 * (x * x - y * y);\n        };\n\n        return SphericalHarmonics3;\n    }();\n\n    function LightProbe(sh, intensity) {\n        Light.call(this, undefined, intensity);\n        this.type = 'LightProbe';\n        this.sh = sh !== undefined ? sh : new SphericalHarmonics3();\n    }\n\n    LightProbe.prototype = Object.assign(Object.create(Light.prototype), {\n        constructor: LightProbe,\n        isLightProbe: true,\n        copy: function copy(source) {\n            Light.prototype.copy.call(this, source);\n            this.sh.copy(source.sh);\n            return this;\n        },\n        fromJSON: function fromJSON(json) {\n            this.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\n            this.sh.fromArray(json.sh);\n            return this;\n        },\n        toJSON: function toJSON(meta) {\n            var data = Light.prototype.toJSON.call(this, meta);\n            data.object.sh = this.sh.toArray();\n            return data;\n        }\n    });\n\n    function MaterialLoader(manager) {\n        Loader.call(this, manager);\n        this.textures = {};\n    }\n\n    MaterialLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: MaterialLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(scope.manager);\n            loader.setPath(scope.path);\n            loader.setRequestHeader(scope.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function (text) {\n                try {\n                    onLoad(scope.parse(JSON.parse(text)));\n                } catch (e) {\n                    if (onError) {\n                        onError(e);\n                    } else {\n                        console.error(e);\n                    }\n\n                    scope.manager.itemError(url);\n                }\n            }, onProgress, onError);\n        },\n        parse: function parse(json) {\n            var textures = this.textures;\n\n            function getTexture(name) {\n                if (textures[name] === undefined) {\n                    console.warn('THREE.MaterialLoader: Undefined texture', name);\n                }\n\n                return textures[name];\n            }\n\n            var material = new Materials[json.type]();\n            if (json.uuid !== undefined) material.uuid = json.uuid;\n            if (json.name !== undefined) material.name = json.name;\n            if (json.color !== undefined) material.color.setHex(json.color);\n            if (json.roughness !== undefined) material.roughness = json.roughness;\n            if (json.metalness !== undefined) material.metalness = json.metalness;\n            if (json.sheen !== undefined) material.sheen = new Color().setHex(json.sheen);\n            if (json.emissive !== undefined) material.emissive.setHex(json.emissive);\n            if (json.specular !== undefined) material.specular.setHex(json.specular);\n            if (json.shininess !== undefined) material.shininess = json.shininess;\n            if (json.clearcoat !== undefined) material.clearcoat = json.clearcoat;\n            if (json.clearcoatRoughness !== undefined) material.clearcoatRoughness = json.clearcoatRoughness;\n            if (json.fog !== undefined) material.fog = json.fog;\n            if (json.flatShading !== undefined) material.flatShading = json.flatShading;\n            if (json.blending !== undefined) material.blending = json.blending;\n            if (json.combine !== undefined) material.combine = json.combine;\n            if (json.side !== undefined) material.side = json.side;\n            if (json.opacity !== undefined) material.opacity = json.opacity;\n            if (json.transparent !== undefined) material.transparent = json.transparent;\n            if (json.alphaTest !== undefined) material.alphaTest = json.alphaTest;\n            if (json.depthTest !== undefined) material.depthTest = json.depthTest;\n            if (json.depthWrite !== undefined) material.depthWrite = json.depthWrite;\n            if (json.colorWrite !== undefined) material.colorWrite = json.colorWrite;\n            if (json.stencilWrite !== undefined) material.stencilWrite = json.stencilWrite;\n            if (json.stencilWriteMask !== undefined) material.stencilWriteMask = json.stencilWriteMask;\n            if (json.stencilFunc !== undefined) material.stencilFunc = json.stencilFunc;\n            if (json.stencilRef !== undefined) material.stencilRef = json.stencilRef;\n            if (json.stencilFuncMask !== undefined) material.stencilFuncMask = json.stencilFuncMask;\n            if (json.stencilFail !== undefined) material.stencilFail = json.stencilFail;\n            if (json.stencilZFail !== undefined) material.stencilZFail = json.stencilZFail;\n            if (json.stencilZPass !== undefined) material.stencilZPass = json.stencilZPass;\n            if (json.wireframe !== undefined) material.wireframe = json.wireframe;\n            if (json.wireframeLinewidth !== undefined) material.wireframeLinewidth = json.wireframeLinewidth;\n            if (json.wireframeLinecap !== undefined) material.wireframeLinecap = json.wireframeLinecap;\n            if (json.wireframeLinejoin !== undefined) material.wireframeLinejoin = json.wireframeLinejoin;\n            if (json.rotation !== undefined) material.rotation = json.rotation;\n            if (json.linewidth !== 1) material.linewidth = json.linewidth;\n            if (json.dashSize !== undefined) material.dashSize = json.dashSize;\n            if (json.gapSize !== undefined) material.gapSize = json.gapSize;\n            if (json.scale !== undefined) material.scale = json.scale;\n            if (json.polygonOffset !== undefined) material.polygonOffset = json.polygonOffset;\n            if (json.polygonOffsetFactor !== undefined) material.polygonOffsetFactor = json.polygonOffsetFactor;\n            if (json.polygonOffsetUnits !== undefined) material.polygonOffsetUnits = json.polygonOffsetUnits;\n            if (json.skinning !== undefined) material.skinning = json.skinning;\n            if (json.morphTargets !== undefined) material.morphTargets = json.morphTargets;\n            if (json.morphNormals !== undefined) material.morphNormals = json.morphNormals;\n            if (json.dithering !== undefined) material.dithering = json.dithering;\n            if (json.vertexTangents !== undefined) material.vertexTangents = json.vertexTangents;\n            if (json.visible !== undefined) material.visible = json.visible;\n            if (json.toneMapped !== undefined) material.toneMapped = json.toneMapped;\n            if (json.userData !== undefined) material.userData = json.userData;\n\n            if (json.vertexColors !== undefined) {\n                if (typeof json.vertexColors === 'number') {\n                    material.vertexColors = json.vertexColors > 0 ? true : false;\n                } else {\n                    material.vertexColors = json.vertexColors;\n                }\n            } // Shader Material\n\n\n            if (json.uniforms !== undefined) {\n                for (var name in json.uniforms) {\n                    var uniform = json.uniforms[name];\n                    material.uniforms[name] = {};\n\n                    switch (uniform.type) {\n                        case 't':\n                            material.uniforms[name].value = getTexture(uniform.value);\n                            break;\n\n                        case 'c':\n                            material.uniforms[name].value = new Color().setHex(uniform.value);\n                            break;\n\n                        case 'v2':\n                            material.uniforms[name].value = new Vector2().fromArray(uniform.value);\n                            break;\n\n                        case 'v3':\n                            material.uniforms[name].value = new Vector3().fromArray(uniform.value);\n                            break;\n\n                        case 'v4':\n                            material.uniforms[name].value = new Vector4().fromArray(uniform.value);\n                            break;\n\n                        case 'm3':\n                            material.uniforms[name].value = new Matrix3().fromArray(uniform.value);\n                            break;\n\n                        case 'm4':\n                            material.uniforms[name].value = new Matrix4().fromArray(uniform.value);\n                            break;\n\n                        default:\n                            material.uniforms[name].value = uniform.value;\n                    }\n                }\n            }\n\n            if (json.defines !== undefined) material.defines = json.defines;\n            if (json.vertexShader !== undefined) material.vertexShader = json.vertexShader;\n            if (json.fragmentShader !== undefined) material.fragmentShader = json.fragmentShader;\n\n            if (json.extensions !== undefined) {\n                for (var key in json.extensions) {\n                    material.extensions[key] = json.extensions[key];\n                }\n            } // Deprecated\n\n\n            if (json.shading !== undefined) material.flatShading = json.shading === 1; // THREE.FlatShading\n            // for PointsMaterial\n\n            if (json.size !== undefined) material.size = json.size;\n            if (json.sizeAttenuation !== undefined) material.sizeAttenuation = json.sizeAttenuation; // maps\n\n            if (json.map !== undefined) material.map = getTexture(json.map);\n            if (json.matcap !== undefined) material.matcap = getTexture(json.matcap);\n            if (json.alphaMap !== undefined) material.alphaMap = getTexture(json.alphaMap);\n            if (json.bumpMap !== undefined) material.bumpMap = getTexture(json.bumpMap);\n            if (json.bumpScale !== undefined) material.bumpScale = json.bumpScale;\n            if (json.normalMap !== undefined) material.normalMap = getTexture(json.normalMap);\n            if (json.normalMapType !== undefined) material.normalMapType = json.normalMapType;\n\n            if (json.normalScale !== undefined) {\n                var normalScale = json.normalScale;\n\n                if (Array.isArray(normalScale) === false) {\n                    // Blender exporter used to export a scalar. See #7459\n                    normalScale = [normalScale, normalScale];\n                }\n\n                material.normalScale = new Vector2().fromArray(normalScale);\n            }\n\n            if (json.displacementMap !== undefined) material.displacementMap = getTexture(json.displacementMap);\n            if (json.displacementScale !== undefined) material.displacementScale = json.displacementScale;\n            if (json.displacementBias !== undefined) material.displacementBias = json.displacementBias;\n            if (json.roughnessMap !== undefined) material.roughnessMap = getTexture(json.roughnessMap);\n            if (json.metalnessMap !== undefined) material.metalnessMap = getTexture(json.metalnessMap);\n            if (json.emissiveMap !== undefined) material.emissiveMap = getTexture(json.emissiveMap);\n            if (json.emissiveIntensity !== undefined) material.emissiveIntensity = json.emissiveIntensity;\n            if (json.specularMap !== undefined) material.specularMap = getTexture(json.specularMap);\n            if (json.envMap !== undefined) material.envMap = getTexture(json.envMap);\n            if (json.envMapIntensity !== undefined) material.envMapIntensity = json.envMapIntensity;\n            if (json.reflectivity !== undefined) material.reflectivity = json.reflectivity;\n            if (json.refractionRatio !== undefined) material.refractionRatio = json.refractionRatio;\n            if (json.lightMap !== undefined) material.lightMap = getTexture(json.lightMap);\n            if (json.lightMapIntensity !== undefined) material.lightMapIntensity = json.lightMapIntensity;\n            if (json.aoMap !== undefined) material.aoMap = getTexture(json.aoMap);\n            if (json.aoMapIntensity !== undefined) material.aoMapIntensity = json.aoMapIntensity;\n            if (json.gradientMap !== undefined) material.gradientMap = getTexture(json.gradientMap);\n            if (json.clearcoatMap !== undefined) material.clearcoatMap = getTexture(json.clearcoatMap);\n            if (json.clearcoatRoughnessMap !== undefined) material.clearcoatRoughnessMap = getTexture(json.clearcoatRoughnessMap);\n            if (json.clearcoatNormalMap !== undefined) material.clearcoatNormalMap = getTexture(json.clearcoatNormalMap);\n            if (json.clearcoatNormalScale !== undefined) material.clearcoatNormalScale = new Vector2().fromArray(json.clearcoatNormalScale);\n            if (json.transmission !== undefined) material.transmission = json.transmission;\n            if (json.transmissionMap !== undefined) material.transmissionMap = getTexture(json.transmissionMap);\n            return material;\n        },\n        setTextures: function setTextures(value) {\n            this.textures = value;\n            return this;\n        }\n    });\n\n    var LoaderUtils = {\n        decodeText: function decodeText(array) {\n            if (typeof TextDecoder !== 'undefined') {\n                return new TextDecoder().decode(array);\n            } // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n            // throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\n            var s = '';\n\n            for (var i = 0, il = array.length; i < il; i++) {\n                // Implicitly assumes little-endian.\n                s += String.fromCharCode(array[i]);\n            }\n\n            try {\n                // merges multi-byte utf-8 characters.\n                return decodeURIComponent(escape(s));\n            } catch (e) {\n                // see #16358\n                return s;\n            }\n        },\n        extractUrlBase: function extractUrlBase(url) {\n            var index = url.lastIndexOf('/');\n            if (index === -1) return './';\n            return url.substr(0, index + 1);\n        }\n    };\n\n    function InstancedBufferGeometry() {\n        BufferGeometry.call(this);\n        this.type = 'InstancedBufferGeometry';\n        this.instanceCount = Infinity;\n    }\n\n    InstancedBufferGeometry.prototype = Object.assign(Object.create(BufferGeometry.prototype), {\n        constructor: InstancedBufferGeometry,\n        isInstancedBufferGeometry: true,\n        copy: function copy(source) {\n            BufferGeometry.prototype.copy.call(this, source);\n            this.instanceCount = source.instanceCount;\n            return this;\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        toJSON: function toJSON() {\n            var data = BufferGeometry.prototype.toJSON.call(this);\n            data.instanceCount = this.instanceCount;\n            data.isInstancedBufferGeometry = true;\n            return data;\n        }\n    });\n\n    function InstancedBufferAttribute(array, itemSize, normalized, meshPerAttribute) {\n        if (typeof normalized === 'number') {\n            meshPerAttribute = normalized;\n            normalized = false;\n            console.error('THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.');\n        }\n\n        BufferAttribute.call(this, array, itemSize, normalized);\n        this.meshPerAttribute = meshPerAttribute || 1;\n    }\n\n    InstancedBufferAttribute.prototype = Object.assign(Object.create(BufferAttribute.prototype), {\n        constructor: InstancedBufferAttribute,\n        isInstancedBufferAttribute: true,\n        copy: function copy(source) {\n            BufferAttribute.prototype.copy.call(this, source);\n            this.meshPerAttribute = source.meshPerAttribute;\n            return this;\n        },\n        toJSON: function toJSON() {\n            var data = BufferAttribute.prototype.toJSON.call(this);\n            data.meshPerAttribute = this.meshPerAttribute;\n            data.isInstancedBufferAttribute = true;\n            return data;\n        }\n    });\n\n    function BufferGeometryLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    BufferGeometryLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: BufferGeometryLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(scope.manager);\n            loader.setPath(scope.path);\n            loader.setRequestHeader(scope.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function (text) {\n                try {\n                    onLoad(scope.parse(JSON.parse(text)));\n                } catch (e) {\n                    if (onError) {\n                        onError(e);\n                    } else {\n                        console.error(e);\n                    }\n\n                    scope.manager.itemError(url);\n                }\n            }, onProgress, onError);\n        },\n        parse: function parse(json) {\n            var interleavedBufferMap = {};\n            var arrayBufferMap = {};\n\n            function getInterleavedBuffer(json, uuid) {\n                if (interleavedBufferMap[uuid] !== undefined) return interleavedBufferMap[uuid];\n                var interleavedBuffers = json.interleavedBuffers;\n                var interleavedBuffer = interleavedBuffers[uuid];\n                var buffer = getArrayBuffer(json, interleavedBuffer.buffer);\n                var array = new TYPED_ARRAYS[interleavedBuffer.type](buffer);\n                var ib = new InterleavedBuffer(array, interleavedBuffer.stride);\n                ib.uuid = interleavedBuffer.uuid;\n                interleavedBufferMap[uuid] = ib;\n                return ib;\n            }\n\n            function getArrayBuffer(json, uuid) {\n                if (arrayBufferMap[uuid] !== undefined) return arrayBufferMap[uuid];\n                var arrayBuffers = json.arrayBuffers;\n                var arrayBuffer = arrayBuffers[uuid];\n                var ab = new Uint32Array(arrayBuffer).buffer;\n                arrayBufferMap[uuid] = ab;\n                return ab;\n            }\n\n            var geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n            var index = json.data.index;\n\n            if (index !== undefined) {\n                var typedArray = new TYPED_ARRAYS[index.type](index.array);\n                geometry.setIndex(new BufferAttribute(typedArray, 1));\n            }\n\n            var attributes = json.data.attributes;\n\n            for (var key in attributes) {\n                var attribute = attributes[key];\n                var bufferAttribute = void 0;\n\n                if (attribute.isInterleavedBufferAttribute) {\n                    var interleavedBuffer = getInterleavedBuffer(json.data, attribute.data);\n                    bufferAttribute = new InterleavedBufferAttribute(interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized);\n                } else {\n                    var _typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);\n\n                    var bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n                    bufferAttribute = new bufferAttributeConstr(_typedArray, attribute.itemSize, attribute.normalized);\n                }\n\n                if (attribute.name !== undefined) bufferAttribute.name = attribute.name;\n                geometry.setAttribute(key, bufferAttribute);\n            }\n\n            var morphAttributes = json.data.morphAttributes;\n\n            if (morphAttributes) {\n                for (var _key in morphAttributes) {\n                    var attributeArray = morphAttributes[_key];\n                    var array = [];\n\n                    for (var i = 0, il = attributeArray.length; i < il; i++) {\n                        var _attribute = attributeArray[i];\n\n                        var _bufferAttribute = void 0;\n\n                        if (_attribute.isInterleavedBufferAttribute) {\n                            var _interleavedBuffer = getInterleavedBuffer(json.data, _attribute.data);\n\n                            _bufferAttribute = new InterleavedBufferAttribute(_interleavedBuffer, _attribute.itemSize, _attribute.offset, _attribute.normalized);\n                        } else {\n                            var _typedArray2 = new TYPED_ARRAYS[_attribute.type](_attribute.array);\n\n                            _bufferAttribute = new BufferAttribute(_typedArray2, _attribute.itemSize, _attribute.normalized);\n                        }\n\n                        if (_attribute.name !== undefined) _bufferAttribute.name = _attribute.name;\n                        array.push(_bufferAttribute);\n                    }\n\n                    geometry.morphAttributes[_key] = array;\n                }\n            }\n\n            var morphTargetsRelative = json.data.morphTargetsRelative;\n\n            if (morphTargetsRelative) {\n                geometry.morphTargetsRelative = true;\n            }\n\n            var groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n            if (groups !== undefined) {\n                for (var _i = 0, n = groups.length; _i !== n; ++_i) {\n                    var group = groups[_i];\n                    geometry.addGroup(group.start, group.count, group.materialIndex);\n                }\n            }\n\n            var boundingSphere = json.data.boundingSphere;\n\n            if (boundingSphere !== undefined) {\n                var center = new Vector3();\n\n                if (boundingSphere.center !== undefined) {\n                    center.fromArray(boundingSphere.center);\n                }\n\n                geometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n            }\n\n            if (json.name) geometry.name = json.name;\n            if (json.userData) geometry.userData = json.userData;\n            return geometry;\n        }\n    });\n    var TYPED_ARRAYS = {\n        Int8Array: Int8Array,\n        Uint8Array: Uint8Array,\n        // Workaround for IE11 pre KB2929437. See #11440\n        Uint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n        Int16Array: Int16Array,\n        Uint16Array: Uint16Array,\n        Int32Array: Int32Array,\n        Uint32Array: Uint32Array,\n        Float32Array: Float32Array,\n        Float64Array: Float64Array\n    };\n\n    var ObjectLoader = /*#__PURE__*/function (_Loader) {\n        _inheritsLoose(ObjectLoader, _Loader);\n\n        function ObjectLoader(manager) {\n            return _Loader.call(this, manager) || this;\n        }\n\n        var _proto = ObjectLoader.prototype;\n\n        _proto.load = function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var path = this.path === '' ? LoaderUtils.extractUrlBase(url) : this.path;\n            this.resourcePath = this.resourcePath || path;\n            var loader = new FileLoader(this.manager);\n            loader.setPath(this.path);\n            loader.setRequestHeader(this.requestHeader);\n            loader.setWithCredentials(this.withCredentials);\n            loader.load(url, function (text) {\n                var json = null;\n\n                try {\n                    json = JSON.parse(text);\n                } catch (error) {\n                    if (onError !== undefined) onError(error);\n                    console.error('THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message);\n                    return;\n                }\n\n                var metadata = json.metadata;\n\n                if (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n                    console.error('THREE.ObjectLoader: Can\\'t load ' + url);\n                    return;\n                }\n\n                scope.parse(json, onLoad);\n            }, onProgress, onError);\n        };\n\n        _proto.parse = function parse(json, onLoad) {\n            var shapes = this.parseShape(json.shapes);\n            var geometries = this.parseGeometries(json.geometries, shapes);\n            var images = this.parseImages(json.images, function () {\n                if (onLoad !== undefined) onLoad(object);\n            });\n            var textures = this.parseTextures(json.textures, images);\n            var materials = this.parseMaterials(json.materials, textures);\n            var object = this.parseObject(json.object, geometries, materials);\n\n            if (json.animations) {\n                object.animations = this.parseAnimations(json.animations);\n            }\n\n            if (json.images === undefined || json.images.length === 0) {\n                if (onLoad !== undefined) onLoad(object);\n            }\n\n            return object;\n        };\n\n        _proto.parseShape = function parseShape(json) {\n            var shapes = {};\n\n            if (json !== undefined) {\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var shape = new Shape().fromJSON(json[i]);\n                    shapes[shape.uuid] = shape;\n                }\n            }\n\n            return shapes;\n        };\n\n        _proto.parseGeometries = function parseGeometries(json, shapes) {\n            var geometries = {};\n            var geometryShapes;\n\n            if (json !== undefined) {\n                var bufferGeometryLoader = new BufferGeometryLoader();\n\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var geometry = void 0;\n                    var data = json[i];\n\n                    switch (data.type) {\n                        case 'PlaneGeometry':\n                        case 'PlaneBufferGeometry':\n                            geometry = new Geometries[data.type](data.width, data.height, data.widthSegments, data.heightSegments);\n                            break;\n\n                        case 'BoxGeometry':\n                        case 'BoxBufferGeometry':\n                        case 'CubeGeometry':\n                            // backwards compatible\n                            geometry = new Geometries[data.type](data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments);\n                            break;\n\n                        case 'CircleGeometry':\n                        case 'CircleBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.segments, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'CylinderGeometry':\n                        case 'CylinderBufferGeometry':\n                            geometry = new Geometries[data.type](data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'ConeGeometry':\n                        case 'ConeBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'SphereGeometry':\n                        case 'SphereBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'DodecahedronGeometry':\n                        case 'DodecahedronBufferGeometry':\n                        case 'IcosahedronGeometry':\n                        case 'IcosahedronBufferGeometry':\n                        case 'OctahedronGeometry':\n                        case 'OctahedronBufferGeometry':\n                        case 'TetrahedronGeometry':\n                        case 'TetrahedronBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.detail);\n                            break;\n\n                        case 'RingGeometry':\n                        case 'RingBufferGeometry':\n                            geometry = new Geometries[data.type](data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'TorusGeometry':\n                        case 'TorusBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc);\n                            break;\n\n                        case 'TorusKnotGeometry':\n                        case 'TorusKnotBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q);\n                            break;\n\n                        case 'TubeGeometry':\n                        case 'TubeBufferGeometry':\n                            // This only works for built-in curves (e.g. CatmullRomCurve3).\n                            // User defined curves or instances of CurvePath will not be deserialized.\n                            geometry = new Geometries[data.type](new Curves[data.path.type]().fromJSON(data.path), data.tubularSegments, data.radius, data.radialSegments, data.closed);\n                            break;\n\n                        case 'LatheGeometry':\n                        case 'LatheBufferGeometry':\n                            geometry = new Geometries[data.type](data.points, data.segments, data.phiStart, data.phiLength);\n                            break;\n\n                        case 'PolyhedronGeometry':\n                        case 'PolyhedronBufferGeometry':\n                            geometry = new Geometries[data.type](data.vertices, data.indices, data.radius, data.details);\n                            break;\n\n                        case 'ShapeGeometry':\n                        case 'ShapeBufferGeometry':\n                            geometryShapes = [];\n\n                            for (var j = 0, jl = data.shapes.length; j < jl; j++) {\n                                var shape = shapes[data.shapes[j]];\n                                geometryShapes.push(shape);\n                            }\n\n                            geometry = new Geometries[data.type](geometryShapes, data.curveSegments);\n                            break;\n\n                        case 'ExtrudeGeometry':\n                        case 'ExtrudeBufferGeometry':\n                            geometryShapes = [];\n\n                            for (var _j = 0, _jl = data.shapes.length; _j < _jl; _j++) {\n                                var _shape = shapes[data.shapes[_j]];\n                                geometryShapes.push(_shape);\n                            }\n\n                            var extrudePath = data.options.extrudePath;\n\n                            if (extrudePath !== undefined) {\n                                data.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);\n                            }\n\n                            geometry = new Geometries[data.type](geometryShapes, data.options);\n                            break;\n\n                        case 'BufferGeometry':\n                        case 'InstancedBufferGeometry':\n                            geometry = bufferGeometryLoader.parse(data);\n                            break;\n\n                        case 'Geometry':\n                            console.error('THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.');\n                            break;\n\n                        default:\n                            console.warn('THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"');\n                            continue;\n                    }\n\n                    geometry.uuid = data.uuid;\n                    if (data.name !== undefined) geometry.name = data.name;\n                    if (geometry.isBufferGeometry === true && data.userData !== undefined) geometry.userData = data.userData;\n                    geometries[data.uuid] = geometry;\n                }\n            }\n\n            return geometries;\n        };\n\n        _proto.parseMaterials = function parseMaterials(json, textures) {\n            var cache = {}; // MultiMaterial\n\n            var materials = {};\n\n            if (json !== undefined) {\n                var loader = new MaterialLoader();\n                loader.setTextures(textures);\n\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var data = json[i];\n\n                    if (data.type === 'MultiMaterial') {\n                        // Deprecated\n                        var array = [];\n\n                        for (var j = 0; j < data.materials.length; j++) {\n                            var material = data.materials[j];\n\n                            if (cache[material.uuid] === undefined) {\n                                cache[material.uuid] = loader.parse(material);\n                            }\n\n                            array.push(cache[material.uuid]);\n                        }\n\n                        materials[data.uuid] = array;\n                    } else {\n                        if (cache[data.uuid] === undefined) {\n                            cache[data.uuid] = loader.parse(data);\n                        }\n\n                        materials[data.uuid] = cache[data.uuid];\n                    }\n                }\n            }\n\n            return materials;\n        };\n\n        _proto.parseAnimations = function parseAnimations(json) {\n            var animations = [];\n\n            for (var i = 0; i < json.length; i++) {\n                var data = json[i];\n                var clip = AnimationClip.parse(data);\n                if (data.uuid !== undefined) clip.uuid = data.uuid;\n                animations.push(clip);\n            }\n\n            return animations;\n        };\n\n        _proto.parseImages = function parseImages(json, onLoad) {\n            var scope = this;\n            var images = {};\n            var loader;\n\n            function loadImage(url) {\n                scope.manager.itemStart(url);\n                return loader.load(url, function () {\n                    scope.manager.itemEnd(url);\n                }, undefined, function () {\n                    scope.manager.itemError(url);\n                    scope.manager.itemEnd(url);\n                });\n            }\n\n            if (json !== undefined && json.length > 0) {\n                var manager = new LoadingManager(onLoad);\n                loader = new ImageLoader(manager);\n                loader.setCrossOrigin(this.crossOrigin);\n\n                for (var i = 0, il = json.length; i < il; i++) {\n                    var image = json[i];\n                    var url = image.url;\n\n                    if (Array.isArray(url)) {\n                        // load array of images e.g CubeTexture\n                        images[image.uuid] = [];\n\n                        for (var j = 0, jl = url.length; j < jl; j++) {\n                            var currentUrl = url[j];\n                            var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(currentUrl) ? currentUrl : scope.resourcePath + currentUrl;\n                            images[image.uuid].push(loadImage(path));\n                        }\n                    } else {\n                        // load single image\n                        var _path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(image.url) ? image.url : scope.resourcePath + image.url;\n\n                        images[image.uuid] = loadImage(_path);\n                    }\n                }\n            }\n\n            return images;\n        };\n\n        _proto.parseTextures = function parseTextures(json, images) {\n            function parseConstant(value, type) {\n                if (typeof value === 'number') return value;\n                console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n                return type[value];\n            }\n\n            var textures = {};\n\n            if (json !== undefined) {\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var data = json[i];\n\n                    if (data.image === undefined) {\n                        console.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n                    }\n\n                    if (images[data.image] === undefined) {\n                        console.warn('THREE.ObjectLoader: Undefined image', data.image);\n                    }\n\n                    var texture = void 0;\n\n                    if (Array.isArray(images[data.image])) {\n                        texture = new CubeTexture(images[data.image]);\n                    } else {\n                        texture = new Texture(images[data.image]);\n                    }\n\n                    texture.needsUpdate = true;\n                    texture.uuid = data.uuid;\n                    if (data.name !== undefined) texture.name = data.name;\n                    if (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);\n                    if (data.offset !== undefined) texture.offset.fromArray(data.offset);\n                    if (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);\n                    if (data.center !== undefined) texture.center.fromArray(data.center);\n                    if (data.rotation !== undefined) texture.rotation = data.rotation;\n\n                    if (data.wrap !== undefined) {\n                        texture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);\n                        texture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);\n                    }\n\n                    if (data.format !== undefined) texture.format = data.format;\n                    if (data.type !== undefined) texture.type = data.type;\n                    if (data.encoding !== undefined) texture.encoding = data.encoding;\n                    if (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);\n                    if (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);\n                    if (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;\n                    if (data.flipY !== undefined) texture.flipY = data.flipY;\n                    if (data.premultiplyAlpha !== undefined) texture.premultiplyAlpha = data.premultiplyAlpha;\n                    if (data.unpackAlignment !== undefined) texture.unpackAlignment = data.unpackAlignment;\n                    textures[data.uuid] = texture;\n                }\n            }\n\n            return textures;\n        };\n\n        _proto.parseObject = function parseObject(data, geometries, materials) {\n            var object;\n\n            function getGeometry(name) {\n                if (geometries[name] === undefined) {\n                    console.warn('THREE.ObjectLoader: Undefined geometry', name);\n                }\n\n                return geometries[name];\n            }\n\n            function getMaterial(name) {\n                if (name === undefined) return undefined;\n\n                if (Array.isArray(name)) {\n                    var array = [];\n\n                    for (var i = 0, l = name.length; i < l; i++) {\n                        var uuid = name[i];\n\n                        if (materials[uuid] === undefined) {\n                            console.warn('THREE.ObjectLoader: Undefined material', uuid);\n                        }\n\n                        array.push(materials[uuid]);\n                    }\n\n                    return array;\n                }\n\n                if (materials[name] === undefined) {\n                    console.warn('THREE.ObjectLoader: Undefined material', name);\n                }\n\n                return materials[name];\n            }\n\n            var geometry, material;\n\n            switch (data.type) {\n                case 'Scene':\n                    object = new Scene();\n\n                    if (data.background !== undefined) {\n                        if (Number.isInteger(data.background)) {\n                            object.background = new Color(data.background);\n                        }\n                    }\n\n                    if (data.fog !== undefined) {\n                        if (data.fog.type === 'Fog') {\n                            object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n                        } else if (data.fog.type === 'FogExp2') {\n                            object.fog = new FogExp2(data.fog.color, data.fog.density);\n                        }\n                    }\n\n                    break;\n\n                case 'PerspectiveCamera':\n                    object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n                    if (data.focus !== undefined) object.focus = data.focus;\n                    if (data.zoom !== undefined) object.zoom = data.zoom;\n                    if (data.filmGauge !== undefined) object.filmGauge = data.filmGauge;\n                    if (data.filmOffset !== undefined) object.filmOffset = data.filmOffset;\n                    if (data.view !== undefined) object.view = Object.assign({}, data.view);\n                    break;\n\n                case 'OrthographicCamera':\n                    object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n                    if (data.zoom !== undefined) object.zoom = data.zoom;\n                    if (data.view !== undefined) object.view = Object.assign({}, data.view);\n                    break;\n\n                case 'AmbientLight':\n                    object = new AmbientLight(data.color, data.intensity);\n                    break;\n\n                case 'DirectionalLight':\n                    object = new DirectionalLight(data.color, data.intensity);\n                    break;\n\n                case 'PointLight':\n                    object = new PointLight(data.color, data.intensity, data.distance, data.decay);\n                    break;\n\n                case 'RectAreaLight':\n                    object = new RectAreaLight(data.color, data.intensity, data.width, data.height);\n                    break;\n\n                case 'SpotLight':\n                    object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n                    break;\n\n                case 'HemisphereLight':\n                    object = new HemisphereLight(data.color, data.groundColor, data.intensity);\n                    break;\n\n                case 'LightProbe':\n                    object = new LightProbe().fromJSON(data);\n                    break;\n\n                case 'SkinnedMesh':\n                    console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');\n\n                case 'Mesh':\n                    geometry = getGeometry(data.geometry);\n                    material = getMaterial(data.material);\n                    object = new Mesh(geometry, material);\n                    break;\n\n                case 'InstancedMesh':\n                    geometry = getGeometry(data.geometry);\n                    material = getMaterial(data.material);\n                    var count = data.count;\n                    var instanceMatrix = data.instanceMatrix;\n                    object = new InstancedMesh(geometry, material, count);\n                    object.instanceMatrix = new BufferAttribute(new Float32Array(instanceMatrix.array), 16);\n                    break;\n\n                case 'LOD':\n                    object = new LOD();\n                    break;\n\n                case 'Line':\n                    object = new Line(getGeometry(data.geometry), getMaterial(data.material), data.mode);\n                    break;\n\n                case 'LineLoop':\n                    object = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));\n                    break;\n\n                case 'LineSegments':\n                    object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n                    break;\n\n                case 'PointCloud':\n                case 'Points':\n                    object = new Points(getGeometry(data.geometry), getMaterial(data.material));\n                    break;\n\n                case 'Sprite':\n                    object = new Sprite(getMaterial(data.material));\n                    break;\n\n                case 'Group':\n                    object = new Group();\n                    break;\n\n                default:\n                    object = new Object3D();\n            }\n\n            object.uuid = data.uuid;\n            if (data.name !== undefined) object.name = data.name;\n\n            if (data.matrix !== undefined) {\n                object.matrix.fromArray(data.matrix);\n                if (data.matrixAutoUpdate !== undefined) object.matrixAutoUpdate = data.matrixAutoUpdate;\n                if (object.matrixAutoUpdate) object.matrix.decompose(object.position, object.quaternion, object.scale);\n            } else {\n                if (data.position !== undefined) object.position.fromArray(data.position);\n                if (data.rotation !== undefined) object.rotation.fromArray(data.rotation);\n                if (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);\n                if (data.scale !== undefined) object.scale.fromArray(data.scale);\n            }\n\n            if (data.castShadow !== undefined) object.castShadow = data.castShadow;\n            if (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;\n\n            if (data.shadow) {\n                if (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;\n                if (data.shadow.normalBias !== undefined) object.shadow.normalBias = data.shadow.normalBias;\n                if (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;\n                if (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);\n                if (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);\n            }\n\n            if (data.visible !== undefined) object.visible = data.visible;\n            if (data.frustumCulled !== undefined) object.frustumCulled = data.frustumCulled;\n            if (data.renderOrder !== undefined) object.renderOrder = data.renderOrder;\n            if (data.userData !== undefined) object.userData = data.userData;\n            if (data.layers !== undefined) object.layers.mask = data.layers;\n\n            if (data.children !== undefined) {\n                var children = data.children;\n\n                for (var i = 0; i < children.length; i++) {\n                    object.add(this.parseObject(children[i], geometries, materials));\n                }\n            }\n\n            if (data.type === 'LOD') {\n                if (data.autoUpdate !== undefined) object.autoUpdate = data.autoUpdate;\n                var levels = data.levels;\n\n                for (var l = 0; l < levels.length; l++) {\n                    var level = levels[l];\n                    var child = object.getObjectByProperty('uuid', level.object);\n\n                    if (child !== undefined) {\n                        object.addLevel(child, level.distance);\n                    }\n                }\n            }\n\n            return object;\n        }\n        /* DEPRECATED */\n        ;\n\n        _proto.setTexturePath = function setTexturePath(value) {\n            console.warn('THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().');\n            return this.setResourcePath(value);\n        };\n\n        return ObjectLoader;\n    }(Loader);\n\n    var TEXTURE_MAPPING = {\n        UVMapping: UVMapping,\n        CubeReflectionMapping: CubeReflectionMapping,\n        CubeRefractionMapping: CubeRefractionMapping,\n        EquirectangularReflectionMapping: EquirectangularReflectionMapping,\n        EquirectangularRefractionMapping: EquirectangularRefractionMapping,\n        CubeUVReflectionMapping: CubeUVReflectionMapping,\n        CubeUVRefractionMapping: CubeUVRefractionMapping\n    };\n    var TEXTURE_WRAPPING = {\n        RepeatWrapping: RepeatWrapping,\n        ClampToEdgeWrapping: ClampToEdgeWrapping,\n        MirroredRepeatWrapping: MirroredRepeatWrapping\n    };\n    var TEXTURE_FILTER = {\n        NearestFilter: NearestFilter,\n        NearestMipmapNearestFilter: NearestMipmapNearestFilter,\n        NearestMipmapLinearFilter: NearestMipmapLinearFilter,\n        LinearFilter: LinearFilter,\n        LinearMipmapNearestFilter: LinearMipmapNearestFilter,\n        LinearMipmapLinearFilter: LinearMipmapLinearFilter\n    };\n\n    function ImageBitmapLoader(manager) {\n        if (typeof createImageBitmap === 'undefined') {\n            console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');\n        }\n\n        if (typeof fetch === 'undefined') {\n            console.warn('THREE.ImageBitmapLoader: fetch() not supported.');\n        }\n\n        Loader.call(this, manager);\n        this.options = {\n            premultiplyAlpha: 'none'\n        };\n    }\n\n    ImageBitmapLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: ImageBitmapLoader,\n        isImageBitmapLoader: true,\n        setOptions: function setOptions(options) {\n            this.options = options;\n            return this;\n        },\n        load: function load(url, onLoad, onProgress, onError) {\n            if (url === undefined) url = '';\n            if (this.path !== undefined) url = this.path + url;\n            url = this.manager.resolveURL(url);\n            var scope = this;\n            var cached = Cache.get(url);\n\n            if (cached !== undefined) {\n                scope.manager.itemStart(url);\n                setTimeout(function () {\n                    if (onLoad) onLoad(cached);\n                    scope.manager.itemEnd(url);\n                }, 0);\n                return cached;\n            }\n\n            var fetchOptions = {};\n            fetchOptions.credentials = this.crossOrigin === 'anonymous' ? 'same-origin' : 'include';\n            fetch(url, fetchOptions).then(function (res) {\n                return res.blob();\n            }).then(function (blob) {\n                return createImageBitmap(blob, scope.options);\n            }).then(function (imageBitmap) {\n                Cache.add(url, imageBitmap);\n                if (onLoad) onLoad(imageBitmap);\n                scope.manager.itemEnd(url);\n            }).catch(function (e) {\n                if (onError) onError(e);\n                scope.manager.itemError(url);\n                scope.manager.itemEnd(url);\n            });\n            scope.manager.itemStart(url);\n        }\n    });\n\n    function ShapePath() {\n        this.type = 'ShapePath';\n        this.color = new Color();\n        this.subPaths = [];\n        this.currentPath = null;\n    }\n\n    Object.assign(ShapePath.prototype, {\n        moveTo: function moveTo(x, y) {\n            this.currentPath = new Path();\n            this.subPaths.push(this.currentPath);\n            this.currentPath.moveTo(x, y);\n            return this;\n        },\n        lineTo: function lineTo(x, y) {\n            this.currentPath.lineTo(x, y);\n            return this;\n        },\n        quadraticCurveTo: function quadraticCurveTo(aCPx, aCPy, aX, aY) {\n            this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n            return this;\n        },\n        bezierCurveTo: function bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n            this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n            return this;\n        },\n        splineThru: function splineThru(pts) {\n            this.currentPath.splineThru(pts);\n            return this;\n        },\n        toShapes: function toShapes(isCCW, noHoles) {\n            function toShapesNoHoles(inSubpaths) {\n                var shapes = [];\n\n                for (var i = 0, l = inSubpaths.length; i < l; i++) {\n                    var _tmpPath = inSubpaths[i];\n\n                    var _tmpShape = new Shape();\n\n                    _tmpShape.curves = _tmpPath.curves;\n                    shapes.push(_tmpShape);\n                }\n\n                return shapes;\n            }\n\n            function isPointInsidePolygon(inPt, inPolygon) {\n                var polyLen = inPolygon.length; // inPt on polygon contour => immediate success\t\tor\n                // toggling of inside/outside at every single! intersection point of an edge\n                //\twith the horizontal line through inPt, left of inPt\n                //\tnot counting lowerY endpoints of edges and whole edges on that line\n\n                var inside = false;\n\n                for (var p = polyLen - 1, q = 0; q < polyLen; p = q++) {\n                    var edgeLowPt = inPolygon[p];\n                    var edgeHighPt = inPolygon[q];\n                    var edgeDx = edgeHighPt.x - edgeLowPt.x;\n                    var edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n                    if (Math.abs(edgeDy) > Number.EPSILON) {\n                        // not parallel\n                        if (edgeDy < 0) {\n                            edgeLowPt = inPolygon[q];\n                            edgeDx = -edgeDx;\n                            edgeHighPt = inPolygon[p];\n                            edgeDy = -edgeDy;\n                        }\n\n                        if (inPt.y < edgeLowPt.y || inPt.y > edgeHighPt.y) continue;\n\n                        if (inPt.y === edgeLowPt.y) {\n                            if (inPt.x === edgeLowPt.x) return true; // inPt is on contour ?\n                            // continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n                        } else {\n                            var perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);\n                            if (perpEdge === 0) return true; // inPt is on contour ?\n\n                            if (perpEdge < 0) continue;\n                            inside = !inside; // true intersection left of inPt\n                        }\n                    } else {\n                        // parallel or collinear\n                        if (inPt.y !== edgeLowPt.y) continue; // parallel\n                        // edge lies on the same horizontal line as inPt\n\n                        if (edgeHighPt.x <= inPt.x && inPt.x <= edgeLowPt.x || edgeLowPt.x <= inPt.x && inPt.x <= edgeHighPt.x) return true; // inPt: Point on contour !\n                        // continue;\n                    }\n                }\n\n                return inside;\n            }\n\n            var isClockWise = ShapeUtils.isClockWise;\n            var subPaths = this.subPaths;\n            if (subPaths.length === 0) return [];\n            if (noHoles === true) return toShapesNoHoles(subPaths);\n            var solid, tmpPath, tmpShape;\n            var shapes = [];\n\n            if (subPaths.length === 1) {\n                tmpPath = subPaths[0];\n                tmpShape = new Shape();\n                tmpShape.curves = tmpPath.curves;\n                shapes.push(tmpShape);\n                return shapes;\n            }\n\n            var holesFirst = !isClockWise(subPaths[0].getPoints());\n            holesFirst = isCCW ? !holesFirst : holesFirst; // console.log(\"Holes first\", holesFirst);\n\n            var betterShapeHoles = [];\n            var newShapes = [];\n            var newShapeHoles = [];\n            var mainIdx = 0;\n            var tmpPoints;\n            newShapes[mainIdx] = undefined;\n            newShapeHoles[mainIdx] = [];\n\n            for (var i = 0, l = subPaths.length; i < l; i++) {\n                tmpPath = subPaths[i];\n                tmpPoints = tmpPath.getPoints();\n                solid = isClockWise(tmpPoints);\n                solid = isCCW ? !solid : solid;\n\n                if (solid) {\n                    if (!holesFirst && newShapes[mainIdx]) mainIdx++;\n                    newShapes[mainIdx] = {\n                        s: new Shape(),\n                        p: tmpPoints\n                    };\n                    newShapes[mainIdx].s.curves = tmpPath.curves;\n                    if (holesFirst) mainIdx++;\n                    newShapeHoles[mainIdx] = []; //console.log('cw', i);\n                } else {\n                    newShapeHoles[mainIdx].push({\n                        h: tmpPath,\n                        p: tmpPoints[0]\n                    }); //console.log('ccw', i);\n                }\n            } // only Holes? -> probably all Shapes with wrong orientation\n\n\n            if (!newShapes[0]) return toShapesNoHoles(subPaths);\n\n            if (newShapes.length > 1) {\n                var ambiguous = false;\n                var toChange = [];\n\n                for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n                    betterShapeHoles[sIdx] = [];\n                }\n\n                for (var _sIdx = 0, _sLen = newShapes.length; _sIdx < _sLen; _sIdx++) {\n                    var sho = newShapeHoles[_sIdx];\n\n                    for (var hIdx = 0; hIdx < sho.length; hIdx++) {\n                        var ho = sho[hIdx];\n                        var hole_unassigned = true;\n\n                        for (var s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {\n                            if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n                                if (_sIdx !== s2Idx) toChange.push({\n                                    froms: _sIdx,\n                                    tos: s2Idx,\n                                    hole: hIdx\n                                });\n\n                                if (hole_unassigned) {\n                                    hole_unassigned = false;\n                                    betterShapeHoles[s2Idx].push(ho);\n                                } else {\n                                    ambiguous = true;\n                                }\n                            }\n                        }\n\n                        if (hole_unassigned) {\n                            betterShapeHoles[_sIdx].push(ho);\n                        }\n                    }\n                } // console.log(\"ambiguous: \", ambiguous);\n\n\n                if (toChange.length > 0) {\n                    // console.log(\"to change: \", toChange);\n                    if (!ambiguous) newShapeHoles = betterShapeHoles;\n                }\n            }\n\n            var tmpHoles;\n\n            for (var _i = 0, il = newShapes.length; _i < il; _i++) {\n                tmpShape = newShapes[_i].s;\n                shapes.push(tmpShape);\n                tmpHoles = newShapeHoles[_i];\n\n                for (var j = 0, jl = tmpHoles.length; j < jl; j++) {\n                    tmpShape.holes.push(tmpHoles[j].h);\n                }\n            } //console.log(\"shape\", shapes);\n\n\n            return shapes;\n        }\n    });\n\n    function Font(data) {\n        this.type = 'Font';\n        this.data = data;\n    }\n\n    Object.assign(Font.prototype, {\n        isFont: true,\n        generateShapes: function generateShapes(text, size) {\n            if (size === undefined) size = 100;\n            var shapes = [];\n            var paths = createPaths(text, size, this.data);\n\n            for (var p = 0, pl = paths.length; p < pl; p++) {\n                Array.prototype.push.apply(shapes, paths[p].toShapes());\n            }\n\n            return shapes;\n        }\n    });\n\n    function createPaths(text, size, data) {\n        var chars = Array.from ? Array.from(text) : String(text).split(''); // workaround for IE11, see #13988\n\n        var scale = size / data.resolution;\n        var line_height = (data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness) * scale;\n        var paths = [];\n        var offsetX = 0,\n            offsetY = 0;\n\n        for (var i = 0; i < chars.length; i++) {\n            var char = chars[i];\n\n            if (char === '\\n') {\n                offsetX = 0;\n                offsetY -= line_height;\n            } else {\n                var ret = createPath(char, scale, offsetX, offsetY, data);\n                offsetX += ret.offsetX;\n                paths.push(ret.path);\n            }\n        }\n\n        return paths;\n    }\n\n    function createPath(char, scale, offsetX, offsetY, data) {\n        var glyph = data.glyphs[char] || data.glyphs['?'];\n\n        if (!glyph) {\n            console.error('THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.');\n            return;\n        }\n\n        var path = new ShapePath();\n        var x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n        if (glyph.o) {\n            var outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));\n\n            for (var i = 0, l = outline.length; i < l;) {\n                var action = outline[i++];\n\n                switch (action) {\n                    case 'm':\n                        // moveTo\n                        x = outline[i++] * scale + offsetX;\n                        y = outline[i++] * scale + offsetY;\n                        path.moveTo(x, y);\n                        break;\n\n                    case 'l':\n                        // lineTo\n                        x = outline[i++] * scale + offsetX;\n                        y = outline[i++] * scale + offsetY;\n                        path.lineTo(x, y);\n                        break;\n\n                    case 'q':\n                        // quadraticCurveTo\n                        cpx = outline[i++] * scale + offsetX;\n                        cpy = outline[i++] * scale + offsetY;\n                        cpx1 = outline[i++] * scale + offsetX;\n                        cpy1 = outline[i++] * scale + offsetY;\n                        path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n                        break;\n\n                    case 'b':\n                        // bezierCurveTo\n                        cpx = outline[i++] * scale + offsetX;\n                        cpy = outline[i++] * scale + offsetY;\n                        cpx1 = outline[i++] * scale + offsetX;\n                        cpy1 = outline[i++] * scale + offsetY;\n                        cpx2 = outline[i++] * scale + offsetX;\n                        cpy2 = outline[i++] * scale + offsetY;\n                        path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\n                        break;\n                }\n            }\n        }\n\n        return {\n            offsetX: glyph.ha * scale,\n            path: path\n        };\n    }\n\n    function FontLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    FontLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: FontLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(this.manager);\n            loader.setPath(this.path);\n            loader.setRequestHeader(this.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function (text) {\n                var json;\n\n                try {\n                    json = JSON.parse(text);\n                } catch (e) {\n                    console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');\n                    json = JSON.parse(text.substring(65, text.length - 2));\n                }\n\n                var font = scope.parse(json);\n                if (onLoad) onLoad(font);\n            }, onProgress, onError);\n        },\n        parse: function parse(json) {\n            return new Font(json);\n        }\n    });\n\n    var _context;\n\n    var AudioContext = {\n        getContext: function getContext() {\n            if (_context === undefined) {\n                _context = new (window.AudioContext || window.webkitAudioContext)();\n            }\n\n            return _context;\n        },\n        setContext: function setContext(value) {\n            _context = value;\n        }\n    };\n\n    function AudioLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    AudioLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: AudioLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(scope.manager);\n            loader.setResponseType('arraybuffer');\n            loader.setPath(scope.path);\n            loader.setRequestHeader(scope.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function (buffer) {\n                try {\n                    // Create a copy of the buffer. The `decodeAudioData` method\n                    // detaches the buffer when complete, preventing reuse.\n                    var bufferCopy = buffer.slice(0);\n                    var context = AudioContext.getContext();\n                    context.decodeAudioData(bufferCopy, function (audioBuffer) {\n                        onLoad(audioBuffer);\n                    });\n                } catch (e) {\n                    if (onError) {\n                        onError(e);\n                    } else {\n                        console.error(e);\n                    }\n\n                    scope.manager.itemError(url);\n                }\n            }, onProgress, onError);\n        }\n    });\n\n    function HemisphereLightProbe(skyColor, groundColor, intensity) {\n        LightProbe.call(this, undefined, intensity);\n        var color1 = new Color().set(skyColor);\n        var color2 = new Color().set(groundColor);\n        var sky = new Vector3(color1.r, color1.g, color1.b);\n        var ground = new Vector3(color2.r, color2.g, color2.b); // without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\n        var c0 = Math.sqrt(Math.PI);\n        var c1 = c0 * Math.sqrt(0.75);\n        this.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);\n        this.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);\n    }\n\n    HemisphereLightProbe.prototype = Object.assign(Object.create(LightProbe.prototype), {\n        constructor: HemisphereLightProbe,\n        isHemisphereLightProbe: true,\n        copy: function copy(source) {\n            // modifying colors not currently supported\n            LightProbe.prototype.copy.call(this, source);\n            return this;\n        },\n        toJSON: function toJSON(meta) {\n            var data = LightProbe.prototype.toJSON.call(this, meta); // data.sh = this.sh.toArray(); // todo\n\n            return data;\n        }\n    });\n\n    function AmbientLightProbe(color, intensity) {\n        LightProbe.call(this, undefined, intensity);\n        var color1 = new Color().set(color); // without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\n        this.sh.coefficients[0].set(color1.r, color1.g, color1.b).multiplyScalar(2 * Math.sqrt(Math.PI));\n    }\n\n    AmbientLightProbe.prototype = Object.assign(Object.create(LightProbe.prototype), {\n        constructor: AmbientLightProbe,\n        isAmbientLightProbe: true,\n        copy: function copy(source) {\n            // modifying color not currently supported\n            LightProbe.prototype.copy.call(this, source);\n            return this;\n        },\n        toJSON: function toJSON(meta) {\n            var data = LightProbe.prototype.toJSON.call(this, meta); // data.sh = this.sh.toArray(); // todo\n\n            return data;\n        }\n    });\n\n    var _eyeRight = new Matrix4();\n\n    var _eyeLeft = new Matrix4();\n\n    function StereoCamera() {\n        this.type = 'StereoCamera';\n        this.aspect = 1;\n        this.eyeSep = 0.064;\n        this.cameraL = new PerspectiveCamera();\n        this.cameraL.layers.enable(1);\n        this.cameraL.matrixAutoUpdate = false;\n        this.cameraR = new PerspectiveCamera();\n        this.cameraR.layers.enable(2);\n        this.cameraR.matrixAutoUpdate = false;\n        this._cache = {\n            focus: null,\n            fov: null,\n            aspect: null,\n            near: null,\n            far: null,\n            zoom: null,\n            eyeSep: null\n        };\n    }\n\n    Object.assign(StereoCamera.prototype, {\n        update: function update(camera) {\n            var cache = this._cache;\n            var needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov || cache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near || cache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n            if (needsUpdate) {\n                cache.focus = camera.focus;\n                cache.fov = camera.fov;\n                cache.aspect = camera.aspect * this.aspect;\n                cache.near = camera.near;\n                cache.far = camera.far;\n                cache.zoom = camera.zoom;\n                cache.eyeSep = this.eyeSep; // Off-axis stereoscopic effect based on\n                // http://paulbourke.net/stereographics/stereorender/\n\n                var projectionMatrix = camera.projectionMatrix.clone();\n                var eyeSepHalf = cache.eyeSep / 2;\n                var eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n                var ymax = cache.near * Math.tan(MathUtils.DEG2RAD * cache.fov * 0.5) / cache.zoom;\n                var xmin, xmax; // translate xOffset\n\n                _eyeLeft.elements[12] = -eyeSepHalf;\n                _eyeRight.elements[12] = eyeSepHalf; // for left eye\n\n                xmin = -ymax * cache.aspect + eyeSepOnProjection;\n                xmax = ymax * cache.aspect + eyeSepOnProjection;\n                projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n                projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n                this.cameraL.projectionMatrix.copy(projectionMatrix); // for right eye\n\n                xmin = -ymax * cache.aspect - eyeSepOnProjection;\n                xmax = ymax * cache.aspect - eyeSepOnProjection;\n                projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n                projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n                this.cameraR.projectionMatrix.copy(projectionMatrix);\n            }\n\n            this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(_eyeLeft);\n            this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(_eyeRight);\n        }\n    });\n\n    var Clock = /*#__PURE__*/function () {\n        function Clock(autoStart) {\n            this.autoStart = autoStart !== undefined ? autoStart : true;\n            this.startTime = 0;\n            this.oldTime = 0;\n            this.elapsedTime = 0;\n            this.running = false;\n        }\n\n        var _proto = Clock.prototype;\n\n        _proto.start = function start() {\n            this.startTime = (typeof performance === 'undefined' ? Date : performance).now(); // see #10732\n\n            this.oldTime = this.startTime;\n            this.elapsedTime = 0;\n            this.running = true;\n        };\n\n        _proto.stop = function stop() {\n            this.getElapsedTime();\n            this.running = false;\n            this.autoStart = false;\n        };\n\n        _proto.getElapsedTime = function getElapsedTime() {\n            this.getDelta();\n            return this.elapsedTime;\n        };\n\n        _proto.getDelta = function getDelta() {\n            var diff = 0;\n\n            if (this.autoStart && !this.running) {\n                this.start();\n                return 0;\n            }\n\n            if (this.running) {\n                var newTime = (typeof performance === 'undefined' ? Date : performance).now();\n                diff = (newTime - this.oldTime) / 1000;\n                this.oldTime = newTime;\n                this.elapsedTime += diff;\n            }\n\n            return diff;\n        };\n\n        return Clock;\n    }();\n\n    var _position$2 = /*@__PURE__*/new Vector3();\n\n    var _quaternion$3 = /*@__PURE__*/new Quaternion();\n\n    var _scale$1 = /*@__PURE__*/new Vector3();\n\n    var _orientation = /*@__PURE__*/new Vector3();\n\n    var AudioListener = /*#__PURE__*/function (_Object3D) {\n        _inheritsLoose(AudioListener, _Object3D);\n\n        function AudioListener() {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'AudioListener';\n            _this.context = AudioContext.getContext();\n            _this.gain = _this.context.createGain();\n\n            _this.gain.connect(_this.context.destination);\n\n            _this.filter = null;\n            _this.timeDelta = 0; // private\n\n            _this._clock = new Clock();\n            return _this;\n        }\n\n        var _proto = AudioListener.prototype;\n\n        _proto.getInput = function getInput() {\n            return this.gain;\n        };\n\n        _proto.removeFilter = function removeFilter() {\n            if (this.filter !== null) {\n                this.gain.disconnect(this.filter);\n                this.filter.disconnect(this.context.destination);\n                this.gain.connect(this.context.destination);\n                this.filter = null;\n            }\n\n            return this;\n        };\n\n        _proto.getFilter = function getFilter() {\n            return this.filter;\n        };\n\n        _proto.setFilter = function setFilter(value) {\n            if (this.filter !== null) {\n                this.gain.disconnect(this.filter);\n                this.filter.disconnect(this.context.destination);\n            } else {\n                this.gain.disconnect(this.context.destination);\n            }\n\n            this.filter = value;\n            this.gain.connect(this.filter);\n            this.filter.connect(this.context.destination);\n            return this;\n        };\n\n        _proto.getMasterVolume = function getMasterVolume() {\n            return this.gain.gain.value;\n        };\n\n        _proto.setMasterVolume = function setMasterVolume(value) {\n            this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n            return this;\n        };\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            _Object3D.prototype.updateMatrixWorld.call(this, force);\n\n            var listener = this.context.listener;\n            var up = this.up;\n            this.timeDelta = this._clock.getDelta();\n            this.matrixWorld.decompose(_position$2, _quaternion$3, _scale$1);\n\n            _orientation.set(0, 0, -1).applyQuaternion(_quaternion$3);\n\n            if (listener.positionX) {\n                // code path for Chrome (see #14393)\n                var endTime = this.context.currentTime + this.timeDelta;\n                listener.positionX.linearRampToValueAtTime(_position$2.x, endTime);\n                listener.positionY.linearRampToValueAtTime(_position$2.y, endTime);\n                listener.positionZ.linearRampToValueAtTime(_position$2.z, endTime);\n                listener.forwardX.linearRampToValueAtTime(_orientation.x, endTime);\n                listener.forwardY.linearRampToValueAtTime(_orientation.y, endTime);\n                listener.forwardZ.linearRampToValueAtTime(_orientation.z, endTime);\n                listener.upX.linearRampToValueAtTime(up.x, endTime);\n                listener.upY.linearRampToValueAtTime(up.y, endTime);\n                listener.upZ.linearRampToValueAtTime(up.z, endTime);\n            } else {\n                listener.setPosition(_position$2.x, _position$2.y, _position$2.z);\n                listener.setOrientation(_orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z);\n            }\n        };\n\n        return AudioListener;\n    }(Object3D);\n\n    var Audio = /*#__PURE__*/function (_Object3D) {\n        _inheritsLoose(Audio, _Object3D);\n\n        function Audio(listener) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'Audio';\n            _this.listener = listener;\n            _this.context = listener.context;\n            _this.gain = _this.context.createGain();\n\n            _this.gain.connect(listener.getInput());\n\n            _this.autoplay = false;\n            _this.buffer = null;\n            _this.detune = 0;\n            _this.loop = false;\n            _this.loopStart = 0;\n            _this.loopEnd = 0;\n            _this.offset = 0;\n            _this.duration = undefined;\n            _this.playbackRate = 1;\n            _this.isPlaying = false;\n            _this.hasPlaybackControl = true;\n            _this.source = null;\n            _this.sourceType = 'empty';\n            _this._startedAt = 0;\n            _this._progress = 0;\n            _this._connected = false;\n            _this.filters = [];\n            return _this;\n        }\n\n        var _proto = Audio.prototype;\n\n        _proto.getOutput = function getOutput() {\n            return this.gain;\n        };\n\n        _proto.setNodeSource = function setNodeSource(audioNode) {\n            this.hasPlaybackControl = false;\n            this.sourceType = 'audioNode';\n            this.source = audioNode;\n            this.connect();\n            return this;\n        };\n\n        _proto.setMediaElementSource = function setMediaElementSource(mediaElement) {\n            this.hasPlaybackControl = false;\n            this.sourceType = 'mediaNode';\n            this.source = this.context.createMediaElementSource(mediaElement);\n            this.connect();\n            return this;\n        };\n\n        _proto.setMediaStreamSource = function setMediaStreamSource(mediaStream) {\n            this.hasPlaybackControl = false;\n            this.sourceType = 'mediaStreamNode';\n            this.source = this.context.createMediaStreamSource(mediaStream);\n            this.connect();\n            return this;\n        };\n\n        _proto.setBuffer = function setBuffer(audioBuffer) {\n            this.buffer = audioBuffer;\n            this.sourceType = 'buffer';\n            if (this.autoplay) this.play();\n            return this;\n        };\n\n        _proto.play = function play(delay) {\n            if (delay === undefined) delay = 0;\n\n            if (this.isPlaying === true) {\n                console.warn('THREE.Audio: Audio is already playing.');\n                return;\n            }\n\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            this._startedAt = this.context.currentTime + delay;\n            var source = this.context.createBufferSource();\n            source.buffer = this.buffer;\n            source.loop = this.loop;\n            source.loopStart = this.loopStart;\n            source.loopEnd = this.loopEnd;\n            source.onended = this.onEnded.bind(this);\n            source.start(this._startedAt, this._progress + this.offset, this.duration);\n            this.isPlaying = true;\n            this.source = source;\n            this.setDetune(this.detune);\n            this.setPlaybackRate(this.playbackRate);\n            return this.connect();\n        };\n\n        _proto.pause = function pause() {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            if (this.isPlaying === true) {\n                // update current progress\n                this._progress += Math.max(this.context.currentTime - this._startedAt, 0) * this.playbackRate;\n\n                if (this.loop === true) {\n                    // ensure _progress does not exceed duration with looped audios\n                    this._progress = this._progress % (this.duration || this.buffer.duration);\n                }\n\n                this.source.stop();\n                this.source.onended = null;\n                this.isPlaying = false;\n            }\n\n            return this;\n        };\n\n        _proto.stop = function stop() {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            this._progress = 0;\n            this.source.stop();\n            this.source.onended = null;\n            this.isPlaying = false;\n            return this;\n        };\n\n        _proto.connect = function connect() {\n            if (this.filters.length > 0) {\n                this.source.connect(this.filters[0]);\n\n                for (var i = 1, l = this.filters.length; i < l; i++) {\n                    this.filters[i - 1].connect(this.filters[i]);\n                }\n\n                this.filters[this.filters.length - 1].connect(this.getOutput());\n            } else {\n                this.source.connect(this.getOutput());\n            }\n\n            this._connected = true;\n            return this;\n        };\n\n        _proto.disconnect = function disconnect() {\n            if (this.filters.length > 0) {\n                this.source.disconnect(this.filters[0]);\n\n                for (var i = 1, l = this.filters.length; i < l; i++) {\n                    this.filters[i - 1].disconnect(this.filters[i]);\n                }\n\n                this.filters[this.filters.length - 1].disconnect(this.getOutput());\n            } else {\n                this.source.disconnect(this.getOutput());\n            }\n\n            this._connected = false;\n            return this;\n        };\n\n        _proto.getFilters = function getFilters() {\n            return this.filters;\n        };\n\n        _proto.setFilters = function setFilters(value) {\n            if (!value) value = [];\n\n            if (this._connected === true) {\n                this.disconnect();\n                this.filters = value;\n                this.connect();\n            } else {\n                this.filters = value;\n            }\n\n            return this;\n        };\n\n        _proto.setDetune = function setDetune(value) {\n            this.detune = value;\n            if (this.source.detune === undefined) return; // only set detune when available\n\n            if (this.isPlaying === true) {\n                this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, 0.01);\n            }\n\n            return this;\n        };\n\n        _proto.getDetune = function getDetune() {\n            return this.detune;\n        };\n\n        _proto.getFilter = function getFilter() {\n            return this.getFilters()[0];\n        };\n\n        _proto.setFilter = function setFilter(filter) {\n            return this.setFilters(filter ? [filter] : []);\n        };\n\n        _proto.setPlaybackRate = function setPlaybackRate(value) {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            this.playbackRate = value;\n\n            if (this.isPlaying === true) {\n                this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, 0.01);\n            }\n\n            return this;\n        };\n\n        _proto.getPlaybackRate = function getPlaybackRate() {\n            return this.playbackRate;\n        };\n\n        _proto.onEnded = function onEnded() {\n            this.isPlaying = false;\n        };\n\n        _proto.getLoop = function getLoop() {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return false;\n            }\n\n            return this.loop;\n        };\n\n        _proto.setLoop = function setLoop(value) {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            this.loop = value;\n\n            if (this.isPlaying === true) {\n                this.source.loop = this.loop;\n            }\n\n            return this;\n        };\n\n        _proto.setLoopStart = function setLoopStart(value) {\n            this.loopStart = value;\n            return this;\n        };\n\n        _proto.setLoopEnd = function setLoopEnd(value) {\n            this.loopEnd = value;\n            return this;\n        };\n\n        _proto.getVolume = function getVolume() {\n            return this.gain.gain.value;\n        };\n\n        _proto.setVolume = function setVolume(value) {\n            this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n            return this;\n        };\n\n        return Audio;\n    }(Object3D);\n\n    var _position$3 = /*@__PURE__*/new Vector3();\n\n    var _quaternion$4 = /*@__PURE__*/new Quaternion();\n\n    var _scale$2 = /*@__PURE__*/new Vector3();\n\n    var _orientation$1 = /*@__PURE__*/new Vector3();\n\n    var PositionalAudio = /*#__PURE__*/function (_Audio) {\n        _inheritsLoose(PositionalAudio, _Audio);\n\n        function PositionalAudio(listener) {\n            var _this;\n\n            _this = _Audio.call(this, listener) || this;\n            _this.panner = _this.context.createPanner();\n            _this.panner.panningModel = 'HRTF';\n\n            _this.panner.connect(_this.gain);\n\n            return _this;\n        }\n\n        var _proto = PositionalAudio.prototype;\n\n        _proto.getOutput = function getOutput() {\n            return this.panner;\n        };\n\n        _proto.getRefDistance = function getRefDistance() {\n            return this.panner.refDistance;\n        };\n\n        _proto.setRefDistance = function setRefDistance(value) {\n            this.panner.refDistance = value;\n            return this;\n        };\n\n        _proto.getRolloffFactor = function getRolloffFactor() {\n            return this.panner.rolloffFactor;\n        };\n\n        _proto.setRolloffFactor = function setRolloffFactor(value) {\n            this.panner.rolloffFactor = value;\n            return this;\n        };\n\n        _proto.getDistanceModel = function getDistanceModel() {\n            return this.panner.distanceModel;\n        };\n\n        _proto.setDistanceModel = function setDistanceModel(value) {\n            this.panner.distanceModel = value;\n            return this;\n        };\n\n        _proto.getMaxDistance = function getMaxDistance() {\n            return this.panner.maxDistance;\n        };\n\n        _proto.setMaxDistance = function setMaxDistance(value) {\n            this.panner.maxDistance = value;\n            return this;\n        };\n\n        _proto.setDirectionalCone = function setDirectionalCone(coneInnerAngle, coneOuterAngle, coneOuterGain) {\n            this.panner.coneInnerAngle = coneInnerAngle;\n            this.panner.coneOuterAngle = coneOuterAngle;\n            this.panner.coneOuterGain = coneOuterGain;\n            return this;\n        };\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            _Audio.prototype.updateMatrixWorld.call(this, force);\n\n            if (this.hasPlaybackControl === true && this.isPlaying === false) return;\n            this.matrixWorld.decompose(_position$3, _quaternion$4, _scale$2);\n\n            _orientation$1.set(0, 0, 1).applyQuaternion(_quaternion$4);\n\n            var panner = this.panner;\n\n            if (panner.positionX) {\n                // code path for Chrome and Firefox (see #14393)\n                var endTime = this.context.currentTime + this.listener.timeDelta;\n                panner.positionX.linearRampToValueAtTime(_position$3.x, endTime);\n                panner.positionY.linearRampToValueAtTime(_position$3.y, endTime);\n                panner.positionZ.linearRampToValueAtTime(_position$3.z, endTime);\n                panner.orientationX.linearRampToValueAtTime(_orientation$1.x, endTime);\n                panner.orientationY.linearRampToValueAtTime(_orientation$1.y, endTime);\n                panner.orientationZ.linearRampToValueAtTime(_orientation$1.z, endTime);\n            } else {\n                panner.setPosition(_position$3.x, _position$3.y, _position$3.z);\n                panner.setOrientation(_orientation$1.x, _orientation$1.y, _orientation$1.z);\n            }\n        };\n\n        return PositionalAudio;\n    }(Audio);\n\n    var AudioAnalyser = /*#__PURE__*/function () {\n        function AudioAnalyser(audio, fftSize) {\n            this.analyser = audio.context.createAnalyser();\n            this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n            this.data = new Uint8Array(this.analyser.frequencyBinCount);\n            audio.getOutput().connect(this.analyser);\n        }\n\n        var _proto = AudioAnalyser.prototype;\n\n        _proto.getFrequencyData = function getFrequencyData() {\n            this.analyser.getByteFrequencyData(this.data);\n            return this.data;\n        };\n\n        _proto.getAverageFrequency = function getAverageFrequency() {\n            var value = 0;\n            var data = this.getFrequencyData();\n\n            for (var i = 0; i < data.length; i++) {\n                value += data[i];\n            }\n\n            return value / data.length;\n        };\n\n        return AudioAnalyser;\n    }();\n\n    function PropertyMixer(binding, typeName, valueSize) {\n        this.binding = binding;\n        this.valueSize = valueSize;\n        var mixFunction, mixFunctionAdditive, setIdentity; // buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n        //\n        // interpolators can use .buffer as their .result\n        // the data then goes to 'incoming'\n        //\n        // 'accu0' and 'accu1' are used frame-interleaved for\n        // the cumulative result and are compared to detect\n        // changes\n        //\n        // 'orig' stores the original state of the property\n        //\n        // 'add' is used for additive cumulative results\n        //\n        // 'work' is optional and is only present for quaternion types. It is used\n        // to store intermediate quaternion multiplication results\n\n        switch (typeName) {\n            case 'quaternion':\n                mixFunction = this._slerp;\n                mixFunctionAdditive = this._slerpAdditive;\n                setIdentity = this._setAdditiveIdentityQuaternion;\n                this.buffer = new Float64Array(valueSize * 6);\n                this._workIndex = 5;\n                break;\n\n            case 'string':\n            case 'bool':\n                mixFunction = this._select; // Use the regular mix function and for additive on these types,\n                // additive is not relevant for non-numeric types\n\n                mixFunctionAdditive = this._select;\n                setIdentity = this._setAdditiveIdentityOther;\n                this.buffer = new Array(valueSize * 5);\n                break;\n\n            default:\n                mixFunction = this._lerp;\n                mixFunctionAdditive = this._lerpAdditive;\n                setIdentity = this._setAdditiveIdentityNumeric;\n                this.buffer = new Float64Array(valueSize * 5);\n        }\n\n        this._mixBufferRegion = mixFunction;\n        this._mixBufferRegionAdditive = mixFunctionAdditive;\n        this._setIdentity = setIdentity;\n        this._origIndex = 3;\n        this._addIndex = 4;\n        this.cumulativeWeight = 0;\n        this.cumulativeWeightAdditive = 0;\n        this.useCount = 0;\n        this.referenceCount = 0;\n    }\n\n    Object.assign(PropertyMixer.prototype, {\n        // accumulate data in the 'incoming' region into 'accu<i>'\n        accumulate: function accumulate(accuIndex, weight) {\n            // note: happily accumulating nothing when weight = 0, the caller knows\n            // the weight and shouldn't have made the call in the first place\n            var buffer = this.buffer,\n                stride = this.valueSize,\n                offset = accuIndex * stride + stride;\n            var currentWeight = this.cumulativeWeight;\n\n            if (currentWeight === 0) {\n                // accuN := incoming * weight\n                for (var i = 0; i !== stride; ++i) {\n                    buffer[offset + i] = buffer[i];\n                }\n\n                currentWeight = weight;\n            } else {\n                // accuN := accuN + incoming * weight\n                currentWeight += weight;\n                var mix = weight / currentWeight;\n\n                this._mixBufferRegion(buffer, offset, 0, mix, stride);\n            }\n\n            this.cumulativeWeight = currentWeight;\n        },\n        // accumulate data in the 'incoming' region into 'add'\n        accumulateAdditive: function accumulateAdditive(weight) {\n            var buffer = this.buffer,\n                stride = this.valueSize,\n                offset = stride * this._addIndex;\n\n            if (this.cumulativeWeightAdditive === 0) {\n                // add = identity\n                this._setIdentity();\n            } // add := add + incoming * weight\n\n\n            this._mixBufferRegionAdditive(buffer, offset, 0, weight, stride);\n\n            this.cumulativeWeightAdditive += weight;\n        },\n        // apply the state of 'accu<i>' to the binding when accus differ\n        apply: function apply(accuIndex) {\n            var stride = this.valueSize,\n                buffer = this.buffer,\n                offset = accuIndex * stride + stride,\n                weight = this.cumulativeWeight,\n                weightAdditive = this.cumulativeWeightAdditive,\n                binding = this.binding;\n            this.cumulativeWeight = 0;\n            this.cumulativeWeightAdditive = 0;\n\n            if (weight < 1) {\n                // accuN := accuN + original * ( 1 - cumulativeWeight )\n                var originalValueOffset = stride * this._origIndex;\n\n                this._mixBufferRegion(buffer, offset, originalValueOffset, 1 - weight, stride);\n            }\n\n            if (weightAdditive > 0) {\n                // accuN := accuN + additive accuN\n                this._mixBufferRegionAdditive(buffer, offset, this._addIndex * stride, 1, stride);\n            }\n\n            for (var i = stride, e = stride + stride; i !== e; ++i) {\n                if (buffer[i] !== buffer[i + stride]) {\n                    // value has changed -> update scene graph\n                    binding.setValue(buffer, offset);\n                    break;\n                }\n            }\n        },\n        // remember the state of the bound property and copy it to both accus\n        saveOriginalState: function saveOriginalState() {\n            var binding = this.binding;\n            var buffer = this.buffer,\n                stride = this.valueSize,\n                originalValueOffset = stride * this._origIndex;\n            binding.getValue(buffer, originalValueOffset); // accu[0..1] := orig -- initially detect changes against the original\n\n            for (var i = stride, e = originalValueOffset; i !== e; ++i) {\n                buffer[i] = buffer[originalValueOffset + i % stride];\n            } // Add to identity for additive\n\n\n            this._setIdentity();\n\n            this.cumulativeWeight = 0;\n            this.cumulativeWeightAdditive = 0;\n        },\n        // apply the state previously taken via 'saveOriginalState' to the binding\n        restoreOriginalState: function restoreOriginalState() {\n            var originalValueOffset = this.valueSize * 3;\n            this.binding.setValue(this.buffer, originalValueOffset);\n        },\n        _setAdditiveIdentityNumeric: function _setAdditiveIdentityNumeric() {\n            var startIndex = this._addIndex * this.valueSize;\n            var endIndex = startIndex + this.valueSize;\n\n            for (var i = startIndex; i < endIndex; i++) {\n                this.buffer[i] = 0;\n            }\n        },\n        _setAdditiveIdentityQuaternion: function _setAdditiveIdentityQuaternion() {\n            this._setAdditiveIdentityNumeric();\n\n            this.buffer[this._addIndex * this.valueSize + 3] = 1;\n        },\n        _setAdditiveIdentityOther: function _setAdditiveIdentityOther() {\n            var startIndex = this._origIndex * this.valueSize;\n            var targetIndex = this._addIndex * this.valueSize;\n\n            for (var i = 0; i < this.valueSize; i++) {\n                this.buffer[targetIndex + i] = this.buffer[startIndex + i];\n            }\n        },\n        // mix functions\n        _select: function _select(buffer, dstOffset, srcOffset, t, stride) {\n            if (t >= 0.5) {\n                for (var i = 0; i !== stride; ++i) {\n                    buffer[dstOffset + i] = buffer[srcOffset + i];\n                }\n            }\n        },\n        _slerp: function _slerp(buffer, dstOffset, srcOffset, t) {\n            Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);\n        },\n        _slerpAdditive: function _slerpAdditive(buffer, dstOffset, srcOffset, t, stride) {\n            var workOffset = this._workIndex * stride; // Store result in intermediate buffer offset\n\n            Quaternion.multiplyQuaternionsFlat(buffer, workOffset, buffer, dstOffset, buffer, srcOffset); // Slerp to the intermediate result\n\n            Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t);\n        },\n        _lerp: function _lerp(buffer, dstOffset, srcOffset, t, stride) {\n            var s = 1 - t;\n\n            for (var i = 0; i !== stride; ++i) {\n                var j = dstOffset + i;\n                buffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;\n            }\n        },\n        _lerpAdditive: function _lerpAdditive(buffer, dstOffset, srcOffset, t, stride) {\n            for (var i = 0; i !== stride; ++i) {\n                var j = dstOffset + i;\n                buffer[j] = buffer[j] + buffer[srcOffset + i] * t;\n            }\n        }\n    });\n\n    // Characters [].:/ are reserved for track binding syntax.\n    var _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\n\n    var _reservedRe = new RegExp('[' + _RESERVED_CHARS_RE + ']', 'g'); // Attempts to allow node names from any language. ES5's `\\w` regexp matches\n    // only latin characters, and the unicode \\p{L} is not yet supported. So\n    // instead, we exclude reserved characters and match everything else.\n\n\n    var _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\n\n    var _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace('\\\\.', '') + ']'; // Parent directories, delimited by '/' or ':'. Currently unused, but must\n    // be matched to parse the rest of the track name.\n\n\n    var _directoryRe = /((?:WC+[\\/:])*)/.source.replace('WC', _wordChar); // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\n\n    var _nodeRe = /(WCOD+)?/.source.replace('WCOD', _wordCharOrDot); // Object on target node, and accessor. May not contain reserved\n    // characters. Accessor may contain any character except closing bracket.\n\n\n    var _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace('WC', _wordChar); // Property and accessor. May not contain reserved characters. Accessor may\n    // contain any non-bracket characters.\n\n\n    var _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace('WC', _wordChar);\n\n    var _trackRe = new RegExp('' + '^' + _directoryRe + _nodeRe + _objectRe + _propertyRe + '$');\n\n    var _supportedObjectNames = ['material', 'materials', 'bones'];\n\n    function Composite(targetGroup, path, optionalParsedPath) {\n        var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);\n        this._targetGroup = targetGroup;\n        this._bindings = targetGroup.subscribe_(path, parsedPath);\n    }\n\n    Object.assign(Composite.prototype, {\n        getValue: function getValue(array, offset) {\n            this.bind(); // bind all binding\n\n            var firstValidIndex = this._targetGroup.nCachedObjects_,\n                binding = this._bindings[firstValidIndex]; // and only call .getValue on the first\n\n            if (binding !== undefined) binding.getValue(array, offset);\n        },\n        setValue: function setValue(array, offset) {\n            var bindings = this._bindings;\n\n            for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n                bindings[i].setValue(array, offset);\n            }\n        },\n        bind: function bind() {\n            var bindings = this._bindings;\n\n            for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n                bindings[i].bind();\n            }\n        },\n        unbind: function unbind() {\n            var bindings = this._bindings;\n\n            for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n                bindings[i].unbind();\n            }\n        }\n    });\n\n    function PropertyBinding(rootNode, path, parsedPath) {\n        this.path = path;\n        this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n        this.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n        this.rootNode = rootNode;\n    }\n\n    Object.assign(PropertyBinding, {\n        Composite: Composite,\n        create: function create(root, path, parsedPath) {\n            if (!(root && root.isAnimationObjectGroup)) {\n                return new PropertyBinding(root, path, parsedPath);\n            } else {\n                return new PropertyBinding.Composite(root, path, parsedPath);\n            }\n        },\n\n        /**\n         * Replaces spaces with underscores and removes unsupported characters from\n         * node names, to ensure compatibility with parseTrackName().\n         *\n         * @param {string} name Node name to be sanitized.\n         * @return {string}\n         */\n        sanitizeNodeName: function sanitizeNodeName(name) {\n            return name.replace(/\\s/g, '_').replace(_reservedRe, '');\n        },\n        parseTrackName: function parseTrackName(trackName) {\n            var matches = _trackRe.exec(trackName);\n\n            if (!matches) {\n                throw new Error('PropertyBinding: Cannot parse trackName: ' + trackName);\n            }\n\n            var results = {\n                // directoryName: matches[ 1 ], // (tschw) currently unused\n                nodeName: matches[2],\n                objectName: matches[3],\n                objectIndex: matches[4],\n                propertyName: matches[5],\n                // required\n                propertyIndex: matches[6]\n            };\n            var lastDot = results.nodeName && results.nodeName.lastIndexOf('.');\n\n            if (lastDot !== undefined && lastDot !== -1) {\n                var objectName = results.nodeName.substring(lastDot + 1); // Object names must be checked against an allowlist. Otherwise, there\n                // is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n                // 'bar' could be the objectName, or part of a nodeName (which can\n                // include '.' characters).\n\n                if (_supportedObjectNames.indexOf(objectName) !== -1) {\n                    results.nodeName = results.nodeName.substring(0, lastDot);\n                    results.objectName = objectName;\n                }\n            }\n\n            if (results.propertyName === null || results.propertyName.length === 0) {\n                throw new Error('PropertyBinding: can not parse propertyName from trackName: ' + trackName);\n            }\n\n            return results;\n        },\n        findNode: function findNode(root, nodeName) {\n            if (!nodeName || nodeName === \"\" || nodeName === \".\" || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {\n                return root;\n            } // search into skeleton bones.\n\n\n            if (root.skeleton) {\n                var bone = root.skeleton.getBoneByName(nodeName);\n\n                if (bone !== undefined) {\n                    return bone;\n                }\n            } // search into node subtree.\n\n\n            if (root.children) {\n                var searchNodeSubtree = function searchNodeSubtree(children) {\n                    for (var i = 0; i < children.length; i++) {\n                        var childNode = children[i];\n\n                        if (childNode.name === nodeName || childNode.uuid === nodeName) {\n                            return childNode;\n                        }\n\n                        var result = searchNodeSubtree(childNode.children);\n                        if (result) return result;\n                    }\n\n                    return null;\n                };\n\n                var subTreeNode = searchNodeSubtree(root.children);\n\n                if (subTreeNode) {\n                    return subTreeNode;\n                }\n            }\n\n            return null;\n        }\n    });\n    Object.assign(PropertyBinding.prototype, {\n        // prototype, continued\n        // these are used to \"bind\" a nonexistent property\n        _getValue_unavailable: function _getValue_unavailable() {},\n        _setValue_unavailable: function _setValue_unavailable() {},\n        BindingType: {\n            Direct: 0,\n            EntireArray: 1,\n            ArrayElement: 2,\n            HasFromToArray: 3\n        },\n        Versioning: {\n            None: 0,\n            NeedsUpdate: 1,\n            MatrixWorldNeedsUpdate: 2\n        },\n        GetterByBindingType: [function getValue_direct(buffer, offset) {\n            buffer[offset] = this.node[this.propertyName];\n        }, function getValue_array(buffer, offset) {\n            var source = this.resolvedProperty;\n\n            for (var i = 0, n = source.length; i !== n; ++i) {\n                buffer[offset++] = source[i];\n            }\n        }, function getValue_arrayElement(buffer, offset) {\n            buffer[offset] = this.resolvedProperty[this.propertyIndex];\n        }, function getValue_toArray(buffer, offset) {\n            this.resolvedProperty.toArray(buffer, offset);\n        }],\n        SetterByBindingTypeAndVersioning: [[// Direct\n            function setValue_direct(buffer, offset) {\n                this.targetObject[this.propertyName] = buffer[offset];\n            }, function setValue_direct_setNeedsUpdate(buffer, offset) {\n                this.targetObject[this.propertyName] = buffer[offset];\n                this.targetObject.needsUpdate = true;\n            }, function setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {\n                this.targetObject[this.propertyName] = buffer[offset];\n                this.targetObject.matrixWorldNeedsUpdate = true;\n            }], [// EntireArray\n            function setValue_array(buffer, offset) {\n                var dest = this.resolvedProperty;\n\n                for (var i = 0, n = dest.length; i !== n; ++i) {\n                    dest[i] = buffer[offset++];\n                }\n            }, function setValue_array_setNeedsUpdate(buffer, offset) {\n                var dest = this.resolvedProperty;\n\n                for (var i = 0, n = dest.length; i !== n; ++i) {\n                    dest[i] = buffer[offset++];\n                }\n\n                this.targetObject.needsUpdate = true;\n            }, function setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {\n                var dest = this.resolvedProperty;\n\n                for (var i = 0, n = dest.length; i !== n; ++i) {\n                    dest[i] = buffer[offset++];\n                }\n\n                this.targetObject.matrixWorldNeedsUpdate = true;\n            }], [// ArrayElement\n            function setValue_arrayElement(buffer, offset) {\n                this.resolvedProperty[this.propertyIndex] = buffer[offset];\n            }, function setValue_arrayElement_setNeedsUpdate(buffer, offset) {\n                this.resolvedProperty[this.propertyIndex] = buffer[offset];\n                this.targetObject.needsUpdate = true;\n            }, function setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {\n                this.resolvedProperty[this.propertyIndex] = buffer[offset];\n                this.targetObject.matrixWorldNeedsUpdate = true;\n            }], [// HasToFromArray\n            function setValue_fromArray(buffer, offset) {\n                this.resolvedProperty.fromArray(buffer, offset);\n            }, function setValue_fromArray_setNeedsUpdate(buffer, offset) {\n                this.resolvedProperty.fromArray(buffer, offset);\n                this.targetObject.needsUpdate = true;\n            }, function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {\n                this.resolvedProperty.fromArray(buffer, offset);\n                this.targetObject.matrixWorldNeedsUpdate = true;\n            }]],\n        getValue: function getValue_unbound(targetArray, offset) {\n            this.bind();\n            this.getValue(targetArray, offset); // Note: This class uses a State pattern on a per-method basis:\n            // 'bind' sets 'this.getValue' / 'setValue' and shadows the\n            // prototype version of these methods with one that represents\n            // the bound state. When the property is not found, the methods\n            // become no-ops.\n        },\n        setValue: function getValue_unbound(sourceArray, offset) {\n            this.bind();\n            this.setValue(sourceArray, offset);\n        },\n        // create getter / setter pair for a property in the scene graph\n        bind: function bind() {\n            var targetObject = this.node;\n            var parsedPath = this.parsedPath;\n            var objectName = parsedPath.objectName;\n            var propertyName = parsedPath.propertyName;\n            var propertyIndex = parsedPath.propertyIndex;\n\n            if (!targetObject) {\n                targetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;\n                this.node = targetObject;\n            } // set fail state so we can just 'return' on error\n\n\n            this.getValue = this._getValue_unavailable;\n            this.setValue = this._setValue_unavailable; // ensure there is a value node\n\n            if (!targetObject) {\n                console.error('THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.');\n                return;\n            }\n\n            if (objectName) {\n                var objectIndex = parsedPath.objectIndex; // special cases were we need to reach deeper into the hierarchy to get the face materials....\n\n                switch (objectName) {\n                    case 'materials':\n                        if (!targetObject.material) {\n                            console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.', this);\n                            return;\n                        }\n\n                        if (!targetObject.material.materials) {\n                            console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this);\n                            return;\n                        }\n\n                        targetObject = targetObject.material.materials;\n                        break;\n\n                    case 'bones':\n                        if (!targetObject.skeleton) {\n                            console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this);\n                            return;\n                        } // potential future optimization: skip this if propertyIndex is already an integer\n                        // and convert the integer string to a true integer.\n\n\n                        targetObject = targetObject.skeleton.bones; // support resolving morphTarget names into indices.\n\n                        for (var i = 0; i < targetObject.length; i++) {\n                            if (targetObject[i].name === objectIndex) {\n                                objectIndex = i;\n                                break;\n                            }\n                        }\n\n                        break;\n\n                    default:\n                        if (targetObject[objectName] === undefined) {\n                            console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.', this);\n                            return;\n                        }\n\n                        targetObject = targetObject[objectName];\n                }\n\n                if (objectIndex !== undefined) {\n                    if (targetObject[objectIndex] === undefined) {\n                        console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject);\n                        return;\n                    }\n\n                    targetObject = targetObject[objectIndex];\n                }\n            } // resolve property\n\n\n            var nodeProperty = targetObject[propertyName];\n\n            if (nodeProperty === undefined) {\n                var nodeName = parsedPath.nodeName;\n                console.error('THREE.PropertyBinding: Trying to update property for track: ' + nodeName + '.' + propertyName + ' but it wasn\\'t found.', targetObject);\n                return;\n            } // determine versioning scheme\n\n\n            var versioning = this.Versioning.None;\n            this.targetObject = targetObject;\n\n            if (targetObject.needsUpdate !== undefined) {\n                // material\n                versioning = this.Versioning.NeedsUpdate;\n            } else if (targetObject.matrixWorldNeedsUpdate !== undefined) {\n                // node transform\n                versioning = this.Versioning.MatrixWorldNeedsUpdate;\n            } // determine how the property gets bound\n\n\n            var bindingType = this.BindingType.Direct;\n\n            if (propertyIndex !== undefined) {\n                // access a sub element of the property array (only primitives are supported right now)\n                if (propertyName === \"morphTargetInfluences\") {\n                    // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n                    // support resolving morphTarget names into indices.\n                    if (!targetObject.geometry) {\n                        console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this);\n                        return;\n                    }\n\n                    if (targetObject.geometry.isBufferGeometry) {\n                        if (!targetObject.geometry.morphAttributes) {\n                            console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this);\n                            return;\n                        }\n\n                        if (targetObject.morphTargetDictionary[propertyIndex] !== undefined) {\n                            propertyIndex = targetObject.morphTargetDictionary[propertyIndex];\n                        }\n                    } else {\n                        console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this);\n                        return;\n                    }\n                }\n\n                bindingType = this.BindingType.ArrayElement;\n                this.resolvedProperty = nodeProperty;\n                this.propertyIndex = propertyIndex;\n            } else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {\n                // must use copy for Object3D.Euler/Quaternion\n                bindingType = this.BindingType.HasFromToArray;\n                this.resolvedProperty = nodeProperty;\n            } else if (Array.isArray(nodeProperty)) {\n                bindingType = this.BindingType.EntireArray;\n                this.resolvedProperty = nodeProperty;\n            } else {\n                this.propertyName = propertyName;\n            } // select getter / setter\n\n\n            this.getValue = this.GetterByBindingType[bindingType];\n            this.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];\n        },\n        unbind: function unbind() {\n            this.node = null; // back to the prototype version of getValue / setValue\n            // note: avoiding to mutate the shape of 'this' via 'delete'\n\n            this.getValue = this._getValue_unbound;\n            this.setValue = this._setValue_unbound;\n        }\n    }); // DECLARE ALIAS AFTER assign prototype\n\n    Object.assign(PropertyBinding.prototype, {\n        // initial state of these methods that calls 'bind'\n        _getValue_unbound: PropertyBinding.prototype.getValue,\n        _setValue_unbound: PropertyBinding.prototype.setValue\n    });\n\n    /**\n     *\n     * A group of objects that receives a shared animation state.\n     *\n     * Usage:\n     *\n     *\t- Add objects you would otherwise pass as 'root' to the\n     *\t\tconstructor or the .clipAction method of AnimationMixer.\n     *\n     *\t- Instead pass this object as 'root'.\n     *\n     *\t- You can also add and remove objects later when the mixer\n     *\t\tis running.\n     *\n     * Note:\n     *\n     *\t\tObjects of this class appear as one object to the mixer,\n     *\t\tso cache control of the individual objects must be done\n     *\t\ton the group.\n     *\n     * Limitation:\n     *\n     *\t- The animated properties must be compatible among the\n     *\t\tall objects in the group.\n     *\n     *\t- A single property can either be controlled through a\n     *\t\ttarget group or directly, but not both.\n     */\n\n    function AnimationObjectGroup() {\n        this.uuid = MathUtils.generateUUID(); // cached objects followed by the active ones\n\n        this._objects = Array.prototype.slice.call(arguments);\n        this.nCachedObjects_ = 0; // threshold\n        // note: read by PropertyBinding.Composite\n\n        var indices = {};\n        this._indicesByUUID = indices; // for bookkeeping\n\n        for (var i = 0, n = arguments.length; i !== n; ++i) {\n            indices[arguments[i].uuid] = i;\n        }\n\n        this._paths = []; // inside: string\n\n        this._parsedPaths = []; // inside: { we don't care, here }\n\n        this._bindings = []; // inside: Array< PropertyBinding >\n\n        this._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n        var scope = this;\n        this.stats = {\n            objects: {\n                get total() {\n                    return scope._objects.length;\n                },\n\n                get inUse() {\n                    return this.total - scope.nCachedObjects_;\n                }\n\n            },\n\n            get bindingsPerObject() {\n                return scope._bindings.length;\n            }\n\n        };\n    }\n\n    Object.assign(AnimationObjectGroup.prototype, {\n        isAnimationObjectGroup: true,\n        add: function add() {\n            var objects = this._objects,\n                indicesByUUID = this._indicesByUUID,\n                paths = this._paths,\n                parsedPaths = this._parsedPaths,\n                bindings = this._bindings,\n                nBindings = bindings.length;\n            var knownObject = undefined,\n                nObjects = objects.length,\n                nCachedObjects = this.nCachedObjects_;\n\n            for (var i = 0, n = arguments.length; i !== n; ++i) {\n                var object = arguments[i],\n                    uuid = object.uuid;\n                var index = indicesByUUID[uuid];\n\n                if (index === undefined) {\n                    // unknown object -> add it to the ACTIVE region\n                    index = nObjects++;\n                    indicesByUUID[uuid] = index;\n                    objects.push(object); // accounting is done, now do the same for all bindings\n\n                    for (var j = 0, m = nBindings; j !== m; ++j) {\n                        bindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));\n                    }\n                } else if (index < nCachedObjects) {\n                    knownObject = objects[index]; // move existing object to the ACTIVE region\n\n                    var firstActiveIndex = --nCachedObjects,\n                        lastCachedObject = objects[firstActiveIndex];\n                    indicesByUUID[lastCachedObject.uuid] = index;\n                    objects[index] = lastCachedObject;\n                    indicesByUUID[uuid] = firstActiveIndex;\n                    objects[firstActiveIndex] = object; // accounting is done, now do the same for all bindings\n\n                    for (var _j = 0, _m = nBindings; _j !== _m; ++_j) {\n                        var bindingsForPath = bindings[_j],\n                            lastCached = bindingsForPath[firstActiveIndex];\n                        var binding = bindingsForPath[index];\n                        bindingsForPath[index] = lastCached;\n\n                        if (binding === undefined) {\n                            // since we do not bother to create new bindings\n                            // for objects that are cached, the binding may\n                            // or may not exist\n                            binding = new PropertyBinding(object, paths[_j], parsedPaths[_j]);\n                        }\n\n                        bindingsForPath[firstActiveIndex] = binding;\n                    }\n                } else if (objects[index] !== knownObject) {\n                    console.error('THREE.AnimationObjectGroup: Different objects with the same UUID ' + 'detected. Clean the caches or recreate your infrastructure when reloading scenes.');\n                } // else the object is already where we want it to be\n\n            } // for arguments\n\n\n            this.nCachedObjects_ = nCachedObjects;\n        },\n        remove: function remove() {\n            var objects = this._objects,\n                indicesByUUID = this._indicesByUUID,\n                bindings = this._bindings,\n                nBindings = bindings.length;\n            var nCachedObjects = this.nCachedObjects_;\n\n            for (var i = 0, n = arguments.length; i !== n; ++i) {\n                var object = arguments[i],\n                    uuid = object.uuid,\n                    index = indicesByUUID[uuid];\n\n                if (index !== undefined && index >= nCachedObjects) {\n                    // move existing object into the CACHED region\n                    var lastCachedIndex = nCachedObjects++,\n                        firstActiveObject = objects[lastCachedIndex];\n                    indicesByUUID[firstActiveObject.uuid] = index;\n                    objects[index] = firstActiveObject;\n                    indicesByUUID[uuid] = lastCachedIndex;\n                    objects[lastCachedIndex] = object; // accounting is done, now do the same for all bindings\n\n                    for (var j = 0, m = nBindings; j !== m; ++j) {\n                        var bindingsForPath = bindings[j],\n                            firstActive = bindingsForPath[lastCachedIndex],\n                            binding = bindingsForPath[index];\n                        bindingsForPath[index] = firstActive;\n                        bindingsForPath[lastCachedIndex] = binding;\n                    }\n                }\n            } // for arguments\n\n\n            this.nCachedObjects_ = nCachedObjects;\n        },\n        // remove & forget\n        uncache: function uncache() {\n            var objects = this._objects,\n                indicesByUUID = this._indicesByUUID,\n                bindings = this._bindings,\n                nBindings = bindings.length;\n            var nCachedObjects = this.nCachedObjects_,\n                nObjects = objects.length;\n\n            for (var i = 0, n = arguments.length; i !== n; ++i) {\n                var object = arguments[i],\n                    uuid = object.uuid,\n                    index = indicesByUUID[uuid];\n\n                if (index !== undefined) {\n                    delete indicesByUUID[uuid];\n\n                    if (index < nCachedObjects) {\n                        // object is cached, shrink the CACHED region\n                        var firstActiveIndex = --nCachedObjects,\n                            lastCachedObject = objects[firstActiveIndex],\n                            lastIndex = --nObjects,\n                            lastObject = objects[lastIndex]; // last cached object takes this object's place\n\n                        indicesByUUID[lastCachedObject.uuid] = index;\n                        objects[index] = lastCachedObject; // last object goes to the activated slot and pop\n\n                        indicesByUUID[lastObject.uuid] = firstActiveIndex;\n                        objects[firstActiveIndex] = lastObject;\n                        objects.pop(); // accounting is done, now do the same for all bindings\n\n                        for (var j = 0, m = nBindings; j !== m; ++j) {\n                            var bindingsForPath = bindings[j],\n                                lastCached = bindingsForPath[firstActiveIndex],\n                                last = bindingsForPath[lastIndex];\n                            bindingsForPath[index] = lastCached;\n                            bindingsForPath[firstActiveIndex] = last;\n                            bindingsForPath.pop();\n                        }\n                    } else {\n                        // object is active, just swap with the last and pop\n                        var _lastIndex = --nObjects,\n                            _lastObject = objects[_lastIndex];\n\n                        indicesByUUID[_lastObject.uuid] = index;\n                        objects[index] = _lastObject;\n                        objects.pop(); // accounting is done, now do the same for all bindings\n\n                        for (var _j2 = 0, _m2 = nBindings; _j2 !== _m2; ++_j2) {\n                            var _bindingsForPath = bindings[_j2];\n                            _bindingsForPath[index] = _bindingsForPath[_lastIndex];\n\n                            _bindingsForPath.pop();\n                        }\n                    } // cached or active\n\n                } // if object is known\n\n            } // for arguments\n\n\n            this.nCachedObjects_ = nCachedObjects;\n        },\n        // Internal interface used by befriended PropertyBinding.Composite:\n        subscribe_: function subscribe_(path, parsedPath) {\n            // returns an array of bindings for the given path that is changed\n            // according to the contained objects in the group\n            var indicesByPath = this._bindingsIndicesByPath;\n            var index = indicesByPath[path];\n            var bindings = this._bindings;\n            if (index !== undefined) return bindings[index];\n            var paths = this._paths,\n                parsedPaths = this._parsedPaths,\n                objects = this._objects,\n                nObjects = objects.length,\n                nCachedObjects = this.nCachedObjects_,\n                bindingsForPath = new Array(nObjects);\n            index = bindings.length;\n            indicesByPath[path] = index;\n            paths.push(path);\n            parsedPaths.push(parsedPath);\n            bindings.push(bindingsForPath);\n\n            for (var i = nCachedObjects, n = objects.length; i !== n; ++i) {\n                var object = objects[i];\n                bindingsForPath[i] = new PropertyBinding(object, path, parsedPath);\n            }\n\n            return bindingsForPath;\n        },\n        unsubscribe_: function unsubscribe_(path) {\n            // tells the group to forget about a property path and no longer\n            // update the array previously obtained with 'subscribe_'\n            var indicesByPath = this._bindingsIndicesByPath,\n                index = indicesByPath[path];\n\n            if (index !== undefined) {\n                var paths = this._paths,\n                    parsedPaths = this._parsedPaths,\n                    bindings = this._bindings,\n                    lastBindingsIndex = bindings.length - 1,\n                    lastBindings = bindings[lastBindingsIndex],\n                    lastBindingsPath = path[lastBindingsIndex];\n                indicesByPath[lastBindingsPath] = index;\n                bindings[index] = lastBindings;\n                bindings.pop();\n                parsedPaths[index] = parsedPaths[lastBindingsIndex];\n                parsedPaths.pop();\n                paths[index] = paths[lastBindingsIndex];\n                paths.pop();\n            }\n        }\n    });\n\n    var AnimationAction = /*#__PURE__*/function () {\n        function AnimationAction(mixer, clip, localRoot, blendMode) {\n            this._mixer = mixer;\n            this._clip = clip;\n            this._localRoot = localRoot || null;\n            this.blendMode = blendMode || clip.blendMode;\n            var tracks = clip.tracks,\n                nTracks = tracks.length,\n                interpolants = new Array(nTracks);\n            var interpolantSettings = {\n                endingStart: ZeroCurvatureEnding,\n                endingEnd: ZeroCurvatureEnding\n            };\n\n            for (var i = 0; i !== nTracks; ++i) {\n                var interpolant = tracks[i].createInterpolant(null);\n                interpolants[i] = interpolant;\n                interpolant.settings = interpolantSettings;\n            }\n\n            this._interpolantSettings = interpolantSettings;\n            this._interpolants = interpolants; // bound by the mixer\n            // inside: PropertyMixer (managed by the mixer)\n\n            this._propertyBindings = new Array(nTracks);\n            this._cacheIndex = null; // for the memory manager\n\n            this._byClipCacheIndex = null; // for the memory manager\n\n            this._timeScaleInterpolant = null;\n            this._weightInterpolant = null;\n            this.loop = LoopRepeat;\n            this._loopCount = -1; // global mixer time when the action is to be started\n            // it's set back to 'null' upon start of the action\n\n            this._startTime = null; // scaled local time of the action\n            // gets clamped or wrapped to 0..clip.duration according to loop\n\n            this.time = 0;\n            this.timeScale = 1;\n            this._effectiveTimeScale = 1;\n            this.weight = 1;\n            this._effectiveWeight = 1;\n            this.repetitions = Infinity; // no. of repetitions when looping\n\n            this.paused = false; // true -> zero effective time scale\n\n            this.enabled = true; // false -> zero effective weight\n\n            this.clampWhenFinished = false; // keep feeding the last frame?\n\n            this.zeroSlopeAtStart = true; // for smooth interpolation w/o separate\n\n            this.zeroSlopeAtEnd = true; // clips for start, loop and end\n        } // State & Scheduling\n\n\n        var _proto = AnimationAction.prototype;\n\n        _proto.play = function play() {\n            this._mixer._activateAction(this);\n\n            return this;\n        };\n\n        _proto.stop = function stop() {\n            this._mixer._deactivateAction(this);\n\n            return this.reset();\n        };\n\n        _proto.reset = function reset() {\n            this.paused = false;\n            this.enabled = true;\n            this.time = 0; // restart clip\n\n            this._loopCount = -1; // forget previous loops\n\n            this._startTime = null; // forget scheduling\n\n            return this.stopFading().stopWarping();\n        };\n\n        _proto.isRunning = function isRunning() {\n            return this.enabled && !this.paused && this.timeScale !== 0 && this._startTime === null && this._mixer._isActiveAction(this);\n        } // return true when play has been called\n        ;\n\n        _proto.isScheduled = function isScheduled() {\n            return this._mixer._isActiveAction(this);\n        };\n\n        _proto.startAt = function startAt(time) {\n            this._startTime = time;\n            return this;\n        };\n\n        _proto.setLoop = function setLoop(mode, repetitions) {\n            this.loop = mode;\n            this.repetitions = repetitions;\n            return this;\n        } // Weight\n        // set the weight stopping any scheduled fading\n        // although .enabled = false yields an effective weight of zero, this\n        // method does *not* change .enabled, because it would be confusing\n        ;\n\n        _proto.setEffectiveWeight = function setEffectiveWeight(weight) {\n            this.weight = weight; // note: same logic as when updated at runtime\n\n            this._effectiveWeight = this.enabled ? weight : 0;\n            return this.stopFading();\n        } // return the weight considering fading and .enabled\n        ;\n\n        _proto.getEffectiveWeight = function getEffectiveWeight() {\n            return this._effectiveWeight;\n        };\n\n        _proto.fadeIn = function fadeIn(duration) {\n            return this._scheduleFading(duration, 0, 1);\n        };\n\n        _proto.fadeOut = function fadeOut(duration) {\n            return this._scheduleFading(duration, 1, 0);\n        };\n\n        _proto.crossFadeFrom = function crossFadeFrom(fadeOutAction, duration, warp) {\n            fadeOutAction.fadeOut(duration);\n            this.fadeIn(duration);\n\n            if (warp) {\n                var fadeInDuration = this._clip.duration,\n                    fadeOutDuration = fadeOutAction._clip.duration,\n                    startEndRatio = fadeOutDuration / fadeInDuration,\n                    endStartRatio = fadeInDuration / fadeOutDuration;\n                fadeOutAction.warp(1.0, startEndRatio, duration);\n                this.warp(endStartRatio, 1.0, duration);\n            }\n\n            return this;\n        };\n\n        _proto.crossFadeTo = function crossFadeTo(fadeInAction, duration, warp) {\n            return fadeInAction.crossFadeFrom(this, duration, warp);\n        };\n\n        _proto.stopFading = function stopFading() {\n            var weightInterpolant = this._weightInterpolant;\n\n            if (weightInterpolant !== null) {\n                this._weightInterpolant = null;\n\n                this._mixer._takeBackControlInterpolant(weightInterpolant);\n            }\n\n            return this;\n        } // Time Scale Control\n        // set the time scale stopping any scheduled warping\n        // although .paused = true yields an effective time scale of zero, this\n        // method does *not* change .paused, because it would be confusing\n        ;\n\n        _proto.setEffectiveTimeScale = function setEffectiveTimeScale(timeScale) {\n            this.timeScale = timeScale;\n            this._effectiveTimeScale = this.paused ? 0 : timeScale;\n            return this.stopWarping();\n        } // return the time scale considering warping and .paused\n        ;\n\n        _proto.getEffectiveTimeScale = function getEffectiveTimeScale() {\n            return this._effectiveTimeScale;\n        };\n\n        _proto.setDuration = function setDuration(duration) {\n            this.timeScale = this._clip.duration / duration;\n            return this.stopWarping();\n        };\n\n        _proto.syncWith = function syncWith(action) {\n            this.time = action.time;\n            this.timeScale = action.timeScale;\n            return this.stopWarping();\n        };\n\n        _proto.halt = function halt(duration) {\n            return this.warp(this._effectiveTimeScale, 0, duration);\n        };\n\n        _proto.warp = function warp(startTimeScale, endTimeScale, duration) {\n            var mixer = this._mixer,\n                now = mixer.time,\n                timeScale = this.timeScale;\n            var interpolant = this._timeScaleInterpolant;\n\n            if (interpolant === null) {\n                interpolant = mixer._lendControlInterpolant();\n                this._timeScaleInterpolant = interpolant;\n            }\n\n            var times = interpolant.parameterPositions,\n                values = interpolant.sampleValues;\n            times[0] = now;\n            times[1] = now + duration;\n            values[0] = startTimeScale / timeScale;\n            values[1] = endTimeScale / timeScale;\n            return this;\n        };\n\n        _proto.stopWarping = function stopWarping() {\n            var timeScaleInterpolant = this._timeScaleInterpolant;\n\n            if (timeScaleInterpolant !== null) {\n                this._timeScaleInterpolant = null;\n\n                this._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n            }\n\n            return this;\n        } // Object Accessors\n        ;\n\n        _proto.getMixer = function getMixer() {\n            return this._mixer;\n        };\n\n        _proto.getClip = function getClip() {\n            return this._clip;\n        };\n\n        _proto.getRoot = function getRoot() {\n            return this._localRoot || this._mixer._root;\n        } // Interna\n        ;\n\n        _proto._update = function _update(time, deltaTime, timeDirection, accuIndex) {\n            // called by the mixer\n            if (!this.enabled) {\n                // call ._updateWeight() to update ._effectiveWeight\n                this._updateWeight(time);\n\n                return;\n            }\n\n            var startTime = this._startTime;\n\n            if (startTime !== null) {\n                // check for scheduled start of action\n                var timeRunning = (time - startTime) * timeDirection;\n\n                if (timeRunning < 0 || timeDirection === 0) {\n                    return; // yet to come / don't decide when delta = 0\n                } // start\n\n\n                this._startTime = null; // unschedule\n\n                deltaTime = timeDirection * timeRunning;\n            } // apply time scale and advance time\n\n\n            deltaTime *= this._updateTimeScale(time);\n\n            var clipTime = this._updateTime(deltaTime); // note: _updateTime may disable the action resulting in\n            // an effective weight of 0\n\n\n            var weight = this._updateWeight(time);\n\n            if (weight > 0) {\n                var _interpolants = this._interpolants;\n                var propertyMixers = this._propertyBindings;\n\n                switch (this.blendMode) {\n                    case AdditiveAnimationBlendMode:\n                        for (var j = 0, m = _interpolants.length; j !== m; ++j) {\n                            _interpolants[j].evaluate(clipTime);\n\n                            propertyMixers[j].accumulateAdditive(weight);\n                        }\n\n                        break;\n\n                    case NormalAnimationBlendMode:\n                    default:\n                        for (var _j = 0, _m = _interpolants.length; _j !== _m; ++_j) {\n                            _interpolants[_j].evaluate(clipTime);\n\n                            propertyMixers[_j].accumulate(accuIndex, weight);\n                        }\n\n                }\n            }\n        };\n\n        _proto._updateWeight = function _updateWeight(time) {\n            var weight = 0;\n\n            if (this.enabled) {\n                weight = this.weight;\n                var interpolant = this._weightInterpolant;\n\n                if (interpolant !== null) {\n                    var interpolantValue = interpolant.evaluate(time)[0];\n                    weight *= interpolantValue;\n\n                    if (time > interpolant.parameterPositions[1]) {\n                        this.stopFading();\n\n                        if (interpolantValue === 0) {\n                            // faded out, disable\n                            this.enabled = false;\n                        }\n                    }\n                }\n            }\n\n            this._effectiveWeight = weight;\n            return weight;\n        };\n\n        _proto._updateTimeScale = function _updateTimeScale(time) {\n            var timeScale = 0;\n\n            if (!this.paused) {\n                timeScale = this.timeScale;\n                var interpolant = this._timeScaleInterpolant;\n\n                if (interpolant !== null) {\n                    var interpolantValue = interpolant.evaluate(time)[0];\n                    timeScale *= interpolantValue;\n\n                    if (time > interpolant.parameterPositions[1]) {\n                        this.stopWarping();\n\n                        if (timeScale === 0) {\n                            // motion has halted, pause\n                            this.paused = true;\n                        } else {\n                            // warp done - apply final time scale\n                            this.timeScale = timeScale;\n                        }\n                    }\n                }\n            }\n\n            this._effectiveTimeScale = timeScale;\n            return timeScale;\n        };\n\n        _proto._updateTime = function _updateTime(deltaTime) {\n            var duration = this._clip.duration;\n            var loop = this.loop;\n            var time = this.time + deltaTime;\n            var loopCount = this._loopCount;\n            var pingPong = loop === LoopPingPong;\n\n            if (deltaTime === 0) {\n                if (loopCount === -1) return time;\n                return pingPong && (loopCount & 1) === 1 ? duration - time : time;\n            }\n\n            if (loop === LoopOnce) {\n                if (loopCount === -1) {\n                    // just started\n                    this._loopCount = 0;\n\n                    this._setEndings(true, true, false);\n                }\n\n                handle_stop: {\n                    if (time >= duration) {\n                        time = duration;\n                    } else if (time < 0) {\n                        time = 0;\n                    } else {\n                        this.time = time;\n                        break handle_stop;\n                    }\n\n                    if (this.clampWhenFinished) this.paused = true;else this.enabled = false;\n                    this.time = time;\n\n                    this._mixer.dispatchEvent({\n                        type: 'finished',\n                        action: this,\n                        direction: deltaTime < 0 ? -1 : 1\n                    });\n                }\n            } else {\n                // repetitive Repeat or PingPong\n                if (loopCount === -1) {\n                    // just started\n                    if (deltaTime >= 0) {\n                        loopCount = 0;\n\n                        this._setEndings(true, this.repetitions === 0, pingPong);\n                    } else {\n                        // when looping in reverse direction, the initial\n                        // transition through zero counts as a repetition,\n                        // so leave loopCount at -1\n                        this._setEndings(this.repetitions === 0, true, pingPong);\n                    }\n                }\n\n                if (time >= duration || time < 0) {\n                    // wrap around\n                    var loopDelta = Math.floor(time / duration); // signed\n\n                    time -= duration * loopDelta;\n                    loopCount += Math.abs(loopDelta);\n                    var pending = this.repetitions - loopCount;\n\n                    if (pending <= 0) {\n                        // have to stop (switch state, clamp time, fire event)\n                        if (this.clampWhenFinished) this.paused = true;else this.enabled = false;\n                        time = deltaTime > 0 ? duration : 0;\n                        this.time = time;\n\n                        this._mixer.dispatchEvent({\n                            type: 'finished',\n                            action: this,\n                            direction: deltaTime > 0 ? 1 : -1\n                        });\n                    } else {\n                        // keep running\n                        if (pending === 1) {\n                            // entering the last round\n                            var atStart = deltaTime < 0;\n\n                            this._setEndings(atStart, !atStart, pingPong);\n                        } else {\n                            this._setEndings(false, false, pingPong);\n                        }\n\n                        this._loopCount = loopCount;\n                        this.time = time;\n\n                        this._mixer.dispatchEvent({\n                            type: 'loop',\n                            action: this,\n                            loopDelta: loopDelta\n                        });\n                    }\n                } else {\n                    this.time = time;\n                }\n\n                if (pingPong && (loopCount & 1) === 1) {\n                    // invert time for the \"pong round\"\n                    return duration - time;\n                }\n            }\n\n            return time;\n        };\n\n        _proto._setEndings = function _setEndings(atStart, atEnd, pingPong) {\n            var settings = this._interpolantSettings;\n\n            if (pingPong) {\n                settings.endingStart = ZeroSlopeEnding;\n                settings.endingEnd = ZeroSlopeEnding;\n            } else {\n                // assuming for LoopOnce atStart == atEnd == true\n                if (atStart) {\n                    settings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n                } else {\n                    settings.endingStart = WrapAroundEnding;\n                }\n\n                if (atEnd) {\n                    settings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n                } else {\n                    settings.endingEnd = WrapAroundEnding;\n                }\n            }\n        };\n\n        _proto._scheduleFading = function _scheduleFading(duration, weightNow, weightThen) {\n            var mixer = this._mixer,\n                now = mixer.time;\n            var interpolant = this._weightInterpolant;\n\n            if (interpolant === null) {\n                interpolant = mixer._lendControlInterpolant();\n                this._weightInterpolant = interpolant;\n            }\n\n            var times = interpolant.parameterPositions,\n                values = interpolant.sampleValues;\n            times[0] = now;\n            values[0] = weightNow;\n            times[1] = now + duration;\n            values[1] = weightThen;\n            return this;\n        };\n\n        return AnimationAction;\n    }();\n\n    function AnimationMixer(root) {\n        this._root = root;\n\n        this._initMemoryManager();\n\n        this._accuIndex = 0;\n        this.time = 0;\n        this.timeScale = 1.0;\n    }\n\n    AnimationMixer.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: AnimationMixer,\n        _bindAction: function _bindAction(action, prototypeAction) {\n            var root = action._localRoot || this._root,\n                tracks = action._clip.tracks,\n                nTracks = tracks.length,\n                bindings = action._propertyBindings,\n                interpolants = action._interpolants,\n                rootUuid = root.uuid,\n                bindingsByRoot = this._bindingsByRootAndName;\n            var bindingsByName = bindingsByRoot[rootUuid];\n\n            if (bindingsByName === undefined) {\n                bindingsByName = {};\n                bindingsByRoot[rootUuid] = bindingsByName;\n            }\n\n            for (var i = 0; i !== nTracks; ++i) {\n                var track = tracks[i],\n                    trackName = track.name;\n                var binding = bindingsByName[trackName];\n\n                if (binding !== undefined) {\n                    bindings[i] = binding;\n                } else {\n                    binding = bindings[i];\n\n                    if (binding !== undefined) {\n                        // existing binding, make sure the cache knows\n                        if (binding._cacheIndex === null) {\n                            ++binding.referenceCount;\n\n                            this._addInactiveBinding(binding, rootUuid, trackName);\n                        }\n\n                        continue;\n                    }\n\n                    var path = prototypeAction && prototypeAction._propertyBindings[i].binding.parsedPath;\n                    binding = new PropertyMixer(PropertyBinding.create(root, trackName, path), track.ValueTypeName, track.getValueSize());\n                    ++binding.referenceCount;\n\n                    this._addInactiveBinding(binding, rootUuid, trackName);\n\n                    bindings[i] = binding;\n                }\n\n                interpolants[i].resultBuffer = binding.buffer;\n            }\n        },\n        _activateAction: function _activateAction(action) {\n            if (!this._isActiveAction(action)) {\n                if (action._cacheIndex === null) {\n                    // this action has been forgotten by the cache, but the user\n                    // appears to be still using it -> rebind\n                    var rootUuid = (action._localRoot || this._root).uuid,\n                        clipUuid = action._clip.uuid,\n                        actionsForClip = this._actionsByClip[clipUuid];\n\n                    this._bindAction(action, actionsForClip && actionsForClip.knownActions[0]);\n\n                    this._addInactiveAction(action, clipUuid, rootUuid);\n                }\n\n                var bindings = action._propertyBindings; // increment reference counts / sort out state\n\n                for (var i = 0, n = bindings.length; i !== n; ++i) {\n                    var binding = bindings[i];\n\n                    if (binding.useCount++ === 0) {\n                        this._lendBinding(binding);\n\n                        binding.saveOriginalState();\n                    }\n                }\n\n                this._lendAction(action);\n            }\n        },\n        _deactivateAction: function _deactivateAction(action) {\n            if (this._isActiveAction(action)) {\n                var bindings = action._propertyBindings; // decrement reference counts / sort out state\n\n                for (var i = 0, n = bindings.length; i !== n; ++i) {\n                    var binding = bindings[i];\n\n                    if (--binding.useCount === 0) {\n                        binding.restoreOriginalState();\n\n                        this._takeBackBinding(binding);\n                    }\n                }\n\n                this._takeBackAction(action);\n            }\n        },\n        // Memory manager\n        _initMemoryManager: function _initMemoryManager() {\n            this._actions = []; // 'nActiveActions' followed by inactive ones\n\n            this._nActiveActions = 0;\n            this._actionsByClip = {}; // inside:\n            // {\n            // \tknownActions: Array< AnimationAction > - used as prototypes\n            // \tactionByRoot: AnimationAction - lookup\n            // }\n\n            this._bindings = []; // 'nActiveBindings' followed by inactive ones\n\n            this._nActiveBindings = 0;\n            this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n            this._controlInterpolants = []; // same game as above\n\n            this._nActiveControlInterpolants = 0;\n            var scope = this;\n            this.stats = {\n                actions: {\n                    get total() {\n                        return scope._actions.length;\n                    },\n\n                    get inUse() {\n                        return scope._nActiveActions;\n                    }\n\n                },\n                bindings: {\n                    get total() {\n                        return scope._bindings.length;\n                    },\n\n                    get inUse() {\n                        return scope._nActiveBindings;\n                    }\n\n                },\n                controlInterpolants: {\n                    get total() {\n                        return scope._controlInterpolants.length;\n                    },\n\n                    get inUse() {\n                        return scope._nActiveControlInterpolants;\n                    }\n\n                }\n            };\n        },\n        // Memory management for AnimationAction objects\n        _isActiveAction: function _isActiveAction(action) {\n            var index = action._cacheIndex;\n            return index !== null && index < this._nActiveActions;\n        },\n        _addInactiveAction: function _addInactiveAction(action, clipUuid, rootUuid) {\n            var actions = this._actions,\n                actionsByClip = this._actionsByClip;\n            var actionsForClip = actionsByClip[clipUuid];\n\n            if (actionsForClip === undefined) {\n                actionsForClip = {\n                    knownActions: [action],\n                    actionByRoot: {}\n                };\n                action._byClipCacheIndex = 0;\n                actionsByClip[clipUuid] = actionsForClip;\n            } else {\n                var knownActions = actionsForClip.knownActions;\n                action._byClipCacheIndex = knownActions.length;\n                knownActions.push(action);\n            }\n\n            action._cacheIndex = actions.length;\n            actions.push(action);\n            actionsForClip.actionByRoot[rootUuid] = action;\n        },\n        _removeInactiveAction: function _removeInactiveAction(action) {\n            var actions = this._actions,\n                lastInactiveAction = actions[actions.length - 1],\n                cacheIndex = action._cacheIndex;\n            lastInactiveAction._cacheIndex = cacheIndex;\n            actions[cacheIndex] = lastInactiveAction;\n            actions.pop();\n            action._cacheIndex = null;\n            var clipUuid = action._clip.uuid,\n                actionsByClip = this._actionsByClip,\n                actionsForClip = actionsByClip[clipUuid],\n                knownActionsForClip = actionsForClip.knownActions,\n                lastKnownAction = knownActionsForClip[knownActionsForClip.length - 1],\n                byClipCacheIndex = action._byClipCacheIndex;\n            lastKnownAction._byClipCacheIndex = byClipCacheIndex;\n            knownActionsForClip[byClipCacheIndex] = lastKnownAction;\n            knownActionsForClip.pop();\n            action._byClipCacheIndex = null;\n            var actionByRoot = actionsForClip.actionByRoot,\n                rootUuid = (action._localRoot || this._root).uuid;\n            delete actionByRoot[rootUuid];\n\n            if (knownActionsForClip.length === 0) {\n                delete actionsByClip[clipUuid];\n            }\n\n            this._removeInactiveBindingsForAction(action);\n        },\n        _removeInactiveBindingsForAction: function _removeInactiveBindingsForAction(action) {\n            var bindings = action._propertyBindings;\n\n            for (var i = 0, n = bindings.length; i !== n; ++i) {\n                var binding = bindings[i];\n\n                if (--binding.referenceCount === 0) {\n                    this._removeInactiveBinding(binding);\n                }\n            }\n        },\n        _lendAction: function _lendAction(action) {\n            // [ active actions |\tinactive actions\t]\n            // [\tactive actions >| inactive actions ]\n            //\t\t\t\t\t\t\t\t s\t\t\t\ta\n            //\t\t\t\t\t\t\t\t\t<-swap->\n            //\t\t\t\t\t\t\t\t a\t\t\t\ts\n            var actions = this._actions,\n                prevIndex = action._cacheIndex,\n                lastActiveIndex = this._nActiveActions++,\n                firstInactiveAction = actions[lastActiveIndex];\n            action._cacheIndex = lastActiveIndex;\n            actions[lastActiveIndex] = action;\n            firstInactiveAction._cacheIndex = prevIndex;\n            actions[prevIndex] = firstInactiveAction;\n        },\n        _takeBackAction: function _takeBackAction(action) {\n            // [\tactive actions\t| inactive actions ]\n            // [ active actions |< inactive actions\t]\n            //\t\t\t\ta\t\t\t\ts\n            //\t\t\t\t <-swap->\n            //\t\t\t\ts\t\t\t\ta\n            var actions = this._actions,\n                prevIndex = action._cacheIndex,\n                firstInactiveIndex = --this._nActiveActions,\n                lastActiveAction = actions[firstInactiveIndex];\n            action._cacheIndex = firstInactiveIndex;\n            actions[firstInactiveIndex] = action;\n            lastActiveAction._cacheIndex = prevIndex;\n            actions[prevIndex] = lastActiveAction;\n        },\n        // Memory management for PropertyMixer objects\n        _addInactiveBinding: function _addInactiveBinding(binding, rootUuid, trackName) {\n            var bindingsByRoot = this._bindingsByRootAndName,\n                bindings = this._bindings;\n            var bindingByName = bindingsByRoot[rootUuid];\n\n            if (bindingByName === undefined) {\n                bindingByName = {};\n                bindingsByRoot[rootUuid] = bindingByName;\n            }\n\n            bindingByName[trackName] = binding;\n            binding._cacheIndex = bindings.length;\n            bindings.push(binding);\n        },\n        _removeInactiveBinding: function _removeInactiveBinding(binding) {\n            var bindings = this._bindings,\n                propBinding = binding.binding,\n                rootUuid = propBinding.rootNode.uuid,\n                trackName = propBinding.path,\n                bindingsByRoot = this._bindingsByRootAndName,\n                bindingByName = bindingsByRoot[rootUuid],\n                lastInactiveBinding = bindings[bindings.length - 1],\n                cacheIndex = binding._cacheIndex;\n            lastInactiveBinding._cacheIndex = cacheIndex;\n            bindings[cacheIndex] = lastInactiveBinding;\n            bindings.pop();\n            delete bindingByName[trackName];\n\n            if (Object.keys(bindingByName).length === 0) {\n                delete bindingsByRoot[rootUuid];\n            }\n        },\n        _lendBinding: function _lendBinding(binding) {\n            var bindings = this._bindings,\n                prevIndex = binding._cacheIndex,\n                lastActiveIndex = this._nActiveBindings++,\n                firstInactiveBinding = bindings[lastActiveIndex];\n            binding._cacheIndex = lastActiveIndex;\n            bindings[lastActiveIndex] = binding;\n            firstInactiveBinding._cacheIndex = prevIndex;\n            bindings[prevIndex] = firstInactiveBinding;\n        },\n        _takeBackBinding: function _takeBackBinding(binding) {\n            var bindings = this._bindings,\n                prevIndex = binding._cacheIndex,\n                firstInactiveIndex = --this._nActiveBindings,\n                lastActiveBinding = bindings[firstInactiveIndex];\n            binding._cacheIndex = firstInactiveIndex;\n            bindings[firstInactiveIndex] = binding;\n            lastActiveBinding._cacheIndex = prevIndex;\n            bindings[prevIndex] = lastActiveBinding;\n        },\n        // Memory management of Interpolants for weight and time scale\n        _lendControlInterpolant: function _lendControlInterpolant() {\n            var interpolants = this._controlInterpolants,\n                lastActiveIndex = this._nActiveControlInterpolants++;\n            var interpolant = interpolants[lastActiveIndex];\n\n            if (interpolant === undefined) {\n                interpolant = new LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer);\n                interpolant.__cacheIndex = lastActiveIndex;\n                interpolants[lastActiveIndex] = interpolant;\n            }\n\n            return interpolant;\n        },\n        _takeBackControlInterpolant: function _takeBackControlInterpolant(interpolant) {\n            var interpolants = this._controlInterpolants,\n                prevIndex = interpolant.__cacheIndex,\n                firstInactiveIndex = --this._nActiveControlInterpolants,\n                lastActiveInterpolant = interpolants[firstInactiveIndex];\n            interpolant.__cacheIndex = firstInactiveIndex;\n            interpolants[firstInactiveIndex] = interpolant;\n            lastActiveInterpolant.__cacheIndex = prevIndex;\n            interpolants[prevIndex] = lastActiveInterpolant;\n        },\n        _controlInterpolantsResultBuffer: new Float32Array(1),\n        // return an action for a clip optionally using a custom root target\n        // object (this method allocates a lot of dynamic memory in case a\n        // previously unknown clip/root combination is specified)\n        clipAction: function clipAction(clip, optionalRoot, blendMode) {\n            var root = optionalRoot || this._root,\n                rootUuid = root.uuid;\n            var clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip;\n            var clipUuid = clipObject !== null ? clipObject.uuid : clip;\n            var actionsForClip = this._actionsByClip[clipUuid];\n            var prototypeAction = null;\n\n            if (blendMode === undefined) {\n                if (clipObject !== null) {\n                    blendMode = clipObject.blendMode;\n                } else {\n                    blendMode = NormalAnimationBlendMode;\n                }\n            }\n\n            if (actionsForClip !== undefined) {\n                var existingAction = actionsForClip.actionByRoot[rootUuid];\n\n                if (existingAction !== undefined && existingAction.blendMode === blendMode) {\n                    return existingAction;\n                } // we know the clip, so we don't have to parse all\n                // the bindings again but can just copy\n\n\n                prototypeAction = actionsForClip.knownActions[0]; // also, take the clip from the prototype action\n\n                if (clipObject === null) clipObject = prototypeAction._clip;\n            } // clip must be known when specified via string\n\n\n            if (clipObject === null) return null; // allocate all resources required to run it\n\n            var newAction = new AnimationAction(this, clipObject, optionalRoot, blendMode);\n\n            this._bindAction(newAction, prototypeAction); // and make the action known to the memory manager\n\n\n            this._addInactiveAction(newAction, clipUuid, rootUuid);\n\n            return newAction;\n        },\n        // get an existing action\n        existingAction: function existingAction(clip, optionalRoot) {\n            var root = optionalRoot || this._root,\n                rootUuid = root.uuid,\n                clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,\n                clipUuid = clipObject ? clipObject.uuid : clip,\n                actionsForClip = this._actionsByClip[clipUuid];\n\n            if (actionsForClip !== undefined) {\n                return actionsForClip.actionByRoot[rootUuid] || null;\n            }\n\n            return null;\n        },\n        // deactivates all previously scheduled actions\n        stopAllAction: function stopAllAction() {\n            var actions = this._actions,\n                nActions = this._nActiveActions;\n\n            for (var i = nActions - 1; i >= 0; --i) {\n                actions[i].stop();\n            }\n\n            return this;\n        },\n        // advance the time and update apply the animation\n        update: function update(deltaTime) {\n            deltaTime *= this.timeScale;\n            var actions = this._actions,\n                nActions = this._nActiveActions,\n                time = this.time += deltaTime,\n                timeDirection = Math.sign(deltaTime),\n                accuIndex = this._accuIndex ^= 1; // run active actions\n\n            for (var i = 0; i !== nActions; ++i) {\n                var action = actions[i];\n\n                action._update(time, deltaTime, timeDirection, accuIndex);\n            } // update scene graph\n\n\n            var bindings = this._bindings,\n                nBindings = this._nActiveBindings;\n\n            for (var _i = 0; _i !== nBindings; ++_i) {\n                bindings[_i].apply(accuIndex);\n            }\n\n            return this;\n        },\n        // Allows you to seek to a specific time in an animation.\n        setTime: function setTime(timeInSeconds) {\n            this.time = 0; // Zero out time attribute for AnimationMixer object;\n\n            for (var i = 0; i < this._actions.length; i++) {\n                this._actions[i].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n            }\n\n            return this.update(timeInSeconds); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n        },\n        // return this mixer's root target object\n        getRoot: function getRoot() {\n            return this._root;\n        },\n        // free all resources specific to a particular clip\n        uncacheClip: function uncacheClip(clip) {\n            var actions = this._actions,\n                clipUuid = clip.uuid,\n                actionsByClip = this._actionsByClip,\n                actionsForClip = actionsByClip[clipUuid];\n\n            if (actionsForClip !== undefined) {\n                // note: just calling _removeInactiveAction would mess up the\n                // iteration state and also require updating the state we can\n                // just throw away\n                var actionsToRemove = actionsForClip.knownActions;\n\n                for (var i = 0, n = actionsToRemove.length; i !== n; ++i) {\n                    var action = actionsToRemove[i];\n\n                    this._deactivateAction(action);\n\n                    var cacheIndex = action._cacheIndex,\n                        lastInactiveAction = actions[actions.length - 1];\n                    action._cacheIndex = null;\n                    action._byClipCacheIndex = null;\n                    lastInactiveAction._cacheIndex = cacheIndex;\n                    actions[cacheIndex] = lastInactiveAction;\n                    actions.pop();\n\n                    this._removeInactiveBindingsForAction(action);\n                }\n\n                delete actionsByClip[clipUuid];\n            }\n        },\n        // free all resources specific to a particular root target object\n        uncacheRoot: function uncacheRoot(root) {\n            var rootUuid = root.uuid,\n                actionsByClip = this._actionsByClip;\n\n            for (var clipUuid in actionsByClip) {\n                var actionByRoot = actionsByClip[clipUuid].actionByRoot,\n                    action = actionByRoot[rootUuid];\n\n                if (action !== undefined) {\n                    this._deactivateAction(action);\n\n                    this._removeInactiveAction(action);\n                }\n            }\n\n            var bindingsByRoot = this._bindingsByRootAndName,\n                bindingByName = bindingsByRoot[rootUuid];\n\n            if (bindingByName !== undefined) {\n                for (var trackName in bindingByName) {\n                    var binding = bindingByName[trackName];\n                    binding.restoreOriginalState();\n\n                    this._removeInactiveBinding(binding);\n                }\n            }\n        },\n        // remove a targeted clip from the cache\n        uncacheAction: function uncacheAction(clip, optionalRoot) {\n            var action = this.existingAction(clip, optionalRoot);\n\n            if (action !== null) {\n                this._deactivateAction(action);\n\n                this._removeInactiveAction(action);\n            }\n        }\n    });\n\n    var Uniform = /*#__PURE__*/function () {\n        function Uniform(value) {\n            if (typeof value === 'string') {\n                console.warn('THREE.Uniform: Type parameter is no longer needed.');\n                value = arguments[1];\n            }\n\n            this.value = value;\n        }\n\n        var _proto = Uniform.prototype;\n\n        _proto.clone = function clone() {\n            return new Uniform(this.value.clone === undefined ? this.value : this.value.clone());\n        };\n\n        return Uniform;\n    }();\n\n    function InstancedInterleavedBuffer(array, stride, meshPerAttribute) {\n        InterleavedBuffer.call(this, array, stride);\n        this.meshPerAttribute = meshPerAttribute || 1;\n    }\n\n    InstancedInterleavedBuffer.prototype = Object.assign(Object.create(InterleavedBuffer.prototype), {\n        constructor: InstancedInterleavedBuffer,\n        isInstancedInterleavedBuffer: true,\n        copy: function copy(source) {\n            InterleavedBuffer.prototype.copy.call(this, source);\n            this.meshPerAttribute = source.meshPerAttribute;\n            return this;\n        },\n        clone: function clone(data) {\n            var ib = InterleavedBuffer.prototype.clone.call(this, data);\n            ib.meshPerAttribute = this.meshPerAttribute;\n            return ib;\n        },\n        toJSON: function toJSON(data) {\n            var json = InterleavedBuffer.prototype.toJSON.call(this, data);\n            json.isInstancedInterleavedBuffer = true;\n            json.meshPerAttribute = this.meshPerAttribute;\n            return json;\n        }\n    });\n\n    function GLBufferAttribute(buffer, type, itemSize, elementSize, count) {\n        this.buffer = buffer;\n        this.type = type;\n        this.itemSize = itemSize;\n        this.elementSize = elementSize;\n        this.count = count;\n        this.version = 0;\n    }\n\n    Object.defineProperty(GLBufferAttribute.prototype, 'needsUpdate', {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n    Object.assign(GLBufferAttribute.prototype, {\n        isGLBufferAttribute: true,\n        setBuffer: function setBuffer(buffer) {\n            this.buffer = buffer;\n            return this;\n        },\n        setType: function setType(type, elementSize) {\n            this.type = type;\n            this.elementSize = elementSize;\n            return this;\n        },\n        setItemSize: function setItemSize(itemSize) {\n            this.itemSize = itemSize;\n            return this;\n        },\n        setCount: function setCount(count) {\n            this.count = count;\n            return this;\n        }\n    });\n\n    function Raycaster(origin, direction, near, far) {\n        this.ray = new Ray(origin, direction); // direction is assumed to be normalized (for accurate distance calculations)\n\n        this.near = near || 0;\n        this.far = far || Infinity;\n        this.camera = null;\n        this.layers = new Layers();\n        this.params = {\n            Mesh: {},\n            Line: {\n                threshold: 1\n            },\n            LOD: {},\n            Points: {\n                threshold: 1\n            },\n            Sprite: {}\n        };\n        Object.defineProperties(this.params, {\n            PointCloud: {\n                get: function get() {\n                    console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');\n                    return this.Points;\n                }\n            }\n        });\n    }\n\n    function ascSort(a, b) {\n        return a.distance - b.distance;\n    }\n\n    function _intersectObject(object, raycaster, intersects, recursive) {\n        if (object.layers.test(raycaster.layers)) {\n            object.raycast(raycaster, intersects);\n        }\n\n        if (recursive === true) {\n            var children = object.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                _intersectObject(children[i], raycaster, intersects, true);\n            }\n        }\n    }\n\n    Object.assign(Raycaster.prototype, {\n        set: function set(origin, direction) {\n            // direction is assumed to be normalized (for accurate distance calculations)\n            this.ray.set(origin, direction);\n        },\n        setFromCamera: function setFromCamera(coords, camera) {\n            if (camera && camera.isPerspectiveCamera) {\n                this.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n                this.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();\n                this.camera = camera;\n            } else if (camera && camera.isOrthographicCamera) {\n                this.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n\n                this.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n                this.camera = camera;\n            } else {\n                console.error('THREE.Raycaster: Unsupported camera type.');\n            }\n        },\n        intersectObject: function intersectObject(object, recursive, optionalTarget) {\n            var intersects = optionalTarget || [];\n\n            _intersectObject(object, this, intersects, recursive);\n\n            intersects.sort(ascSort);\n            return intersects;\n        },\n        intersectObjects: function intersectObjects(objects, recursive, optionalTarget) {\n            var intersects = optionalTarget || [];\n\n            if (Array.isArray(objects) === false) {\n                console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');\n                return intersects;\n            }\n\n            for (var i = 0, l = objects.length; i < l; i++) {\n                _intersectObject(objects[i], this, intersects, recursive);\n            }\n\n            intersects.sort(ascSort);\n            return intersects;\n        }\n    });\n\n    /**\n     * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n     *\n     * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n     * The azimuthal angle (theta) is measured from the positive z-axis.\n     */\n\n    var Spherical = /*#__PURE__*/function () {\n        function Spherical(radius, phi, theta) {\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (phi === void 0) {\n                phi = 0;\n            }\n\n            if (theta === void 0) {\n                theta = 0;\n            }\n\n            this.radius = radius;\n            this.phi = phi; // polar angle\n\n            this.theta = theta; // azimuthal angle\n\n            return this;\n        }\n\n        var _proto = Spherical.prototype;\n\n        _proto.set = function set(radius, phi, theta) {\n            this.radius = radius;\n            this.phi = phi;\n            this.theta = theta;\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(other) {\n            this.radius = other.radius;\n            this.phi = other.phi;\n            this.theta = other.theta;\n            return this;\n        } // restrict phi to be betwee EPS and PI-EPS\n        ;\n\n        _proto.makeSafe = function makeSafe() {\n            var EPS = 0.000001;\n            this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n            return this;\n        };\n\n        _proto.setFromVector3 = function setFromVector3(v) {\n            return this.setFromCartesianCoords(v.x, v.y, v.z);\n        };\n\n        _proto.setFromCartesianCoords = function setFromCartesianCoords(x, y, z) {\n            this.radius = Math.sqrt(x * x + y * y + z * z);\n\n            if (this.radius === 0) {\n                this.theta = 0;\n                this.phi = 0;\n            } else {\n                this.theta = Math.atan2(x, z);\n                this.phi = Math.acos(MathUtils.clamp(y / this.radius, -1, 1));\n            }\n\n            return this;\n        };\n\n        return Spherical;\n    }();\n\n    /**\n     * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n     */\n    var Cylindrical = /*#__PURE__*/function () {\n        function Cylindrical(radius, theta, y) {\n            this.radius = radius !== undefined ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\n            this.theta = theta !== undefined ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\n            this.y = y !== undefined ? y : 0; // height above the x-z plane\n\n            return this;\n        }\n\n        var _proto = Cylindrical.prototype;\n\n        _proto.set = function set(radius, theta, y) {\n            this.radius = radius;\n            this.theta = theta;\n            this.y = y;\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(other) {\n            this.radius = other.radius;\n            this.theta = other.theta;\n            this.y = other.y;\n            return this;\n        };\n\n        _proto.setFromVector3 = function setFromVector3(v) {\n            return this.setFromCartesianCoords(v.x, v.y, v.z);\n        };\n\n        _proto.setFromCartesianCoords = function setFromCartesianCoords(x, y, z) {\n            this.radius = Math.sqrt(x * x + z * z);\n            this.theta = Math.atan2(x, z);\n            this.y = y;\n            return this;\n        };\n\n        return Cylindrical;\n    }();\n\n    var _vector$7 = /*@__PURE__*/new Vector2();\n\n    var Box2 = /*#__PURE__*/function () {\n        function Box2(min, max) {\n            Object.defineProperty(this, 'isBox2', {\n                value: true\n            });\n            this.min = min !== undefined ? min : new Vector2(+Infinity, +Infinity);\n            this.max = max !== undefined ? max : new Vector2(-Infinity, -Infinity);\n        }\n\n        var _proto = Box2.prototype;\n\n        _proto.set = function set(min, max) {\n            this.min.copy(min);\n            this.max.copy(max);\n            return this;\n        };\n\n        _proto.setFromPoints = function setFromPoints(points) {\n            this.makeEmpty();\n\n            for (var i = 0, il = points.length; i < il; i++) {\n                this.expandByPoint(points[i]);\n            }\n\n            return this;\n        };\n\n        _proto.setFromCenterAndSize = function setFromCenterAndSize(center, size) {\n            var halfSize = _vector$7.copy(size).multiplyScalar(0.5);\n\n            this.min.copy(center).sub(halfSize);\n            this.max.copy(center).add(halfSize);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(box) {\n            this.min.copy(box.min);\n            this.max.copy(box.max);\n            return this;\n        };\n\n        _proto.makeEmpty = function makeEmpty() {\n            this.min.x = this.min.y = +Infinity;\n            this.max.x = this.max.y = -Infinity;\n            return this;\n        };\n\n        _proto.isEmpty = function isEmpty() {\n            // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n            return this.max.x < this.min.x || this.max.y < this.min.y;\n        };\n\n        _proto.getCenter = function getCenter(target) {\n            if (target === undefined) {\n                console.warn('THREE.Box2: .getCenter() target is now required');\n                target = new Vector2();\n            }\n\n            return this.isEmpty() ? target.set(0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n        };\n\n        _proto.getSize = function getSize(target) {\n            if (target === undefined) {\n                console.warn('THREE.Box2: .getSize() target is now required');\n                target = new Vector2();\n            }\n\n            return this.isEmpty() ? target.set(0, 0) : target.subVectors(this.max, this.min);\n        };\n\n        _proto.expandByPoint = function expandByPoint(point) {\n            this.min.min(point);\n            this.max.max(point);\n            return this;\n        };\n\n        _proto.expandByVector = function expandByVector(vector) {\n            this.min.sub(vector);\n            this.max.add(vector);\n            return this;\n        };\n\n        _proto.expandByScalar = function expandByScalar(scalar) {\n            this.min.addScalar(-scalar);\n            this.max.addScalar(scalar);\n            return this;\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            return point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y ? false : true;\n        };\n\n        _proto.containsBox = function containsBox(box) {\n            return this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y;\n        };\n\n        _proto.getParameter = function getParameter(point, target) {\n            // This can potentially have a divide by zero if the box\n            // has a size dimension of 0.\n            if (target === undefined) {\n                console.warn('THREE.Box2: .getParameter() target is now required');\n                target = new Vector2();\n            }\n\n            return target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y));\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            // using 4 splitting planes to rule out intersections\n            return box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n        };\n\n        _proto.clampPoint = function clampPoint(point, target) {\n            if (target === undefined) {\n                console.warn('THREE.Box2: .clampPoint() target is now required');\n                target = new Vector2();\n            }\n\n            return target.copy(point).clamp(this.min, this.max);\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            var clampedPoint = _vector$7.copy(point).clamp(this.min, this.max);\n\n            return clampedPoint.sub(point).length();\n        };\n\n        _proto.intersect = function intersect(box) {\n            this.min.max(box.min);\n            this.max.min(box.max);\n            return this;\n        };\n\n        _proto.union = function union(box) {\n            this.min.min(box.min);\n            this.max.max(box.max);\n            return this;\n        };\n\n        _proto.translate = function translate(offset) {\n            this.min.add(offset);\n            this.max.add(offset);\n            return this;\n        };\n\n        _proto.equals = function equals(box) {\n            return box.min.equals(this.min) && box.max.equals(this.max);\n        };\n\n        return Box2;\n    }();\n\n    var _startP = /*@__PURE__*/new Vector3();\n\n    var _startEnd = /*@__PURE__*/new Vector3();\n\n    var Line3 = /*#__PURE__*/function () {\n        function Line3(start, end) {\n            this.start = start !== undefined ? start : new Vector3();\n            this.end = end !== undefined ? end : new Vector3();\n        }\n\n        var _proto = Line3.prototype;\n\n        _proto.set = function set(start, end) {\n            this.start.copy(start);\n            this.end.copy(end);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(line) {\n            this.start.copy(line.start);\n            this.end.copy(line.end);\n            return this;\n        };\n\n        _proto.getCenter = function getCenter(target) {\n            if (target === undefined) {\n                console.warn('THREE.Line3: .getCenter() target is now required');\n                target = new Vector3();\n            }\n\n            return target.addVectors(this.start, this.end).multiplyScalar(0.5);\n        };\n\n        _proto.delta = function delta(target) {\n            if (target === undefined) {\n                console.warn('THREE.Line3: .delta() target is now required');\n                target = new Vector3();\n            }\n\n            return target.subVectors(this.end, this.start);\n        };\n\n        _proto.distanceSq = function distanceSq() {\n            return this.start.distanceToSquared(this.end);\n        };\n\n        _proto.distance = function distance() {\n            return this.start.distanceTo(this.end);\n        };\n\n        _proto.at = function at(t, target) {\n            if (target === undefined) {\n                console.warn('THREE.Line3: .at() target is now required');\n                target = new Vector3();\n            }\n\n            return this.delta(target).multiplyScalar(t).add(this.start);\n        };\n\n        _proto.closestPointToPointParameter = function closestPointToPointParameter(point, clampToLine) {\n            _startP.subVectors(point, this.start);\n\n            _startEnd.subVectors(this.end, this.start);\n\n            var startEnd2 = _startEnd.dot(_startEnd);\n\n            var startEnd_startP = _startEnd.dot(_startP);\n\n            var t = startEnd_startP / startEnd2;\n\n            if (clampToLine) {\n                t = MathUtils.clamp(t, 0, 1);\n            }\n\n            return t;\n        };\n\n        _proto.closestPointToPoint = function closestPointToPoint(point, clampToLine, target) {\n            var t = this.closestPointToPointParameter(point, clampToLine);\n\n            if (target === undefined) {\n                console.warn('THREE.Line3: .closestPointToPoint() target is now required');\n                target = new Vector3();\n            }\n\n            return this.delta(target).multiplyScalar(t).add(this.start);\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix) {\n            this.start.applyMatrix4(matrix);\n            this.end.applyMatrix4(matrix);\n            return this;\n        };\n\n        _proto.equals = function equals(line) {\n            return line.start.equals(this.start) && line.end.equals(this.end);\n        };\n\n        return Line3;\n    }();\n\n    function ImmediateRenderObject(material) {\n        Object3D.call(this);\n        this.material = material;\n\n        this.render = function ()\n            /* renderCallback */\n        {};\n\n        this.hasPositions = false;\n        this.hasNormals = false;\n        this.hasColors = false;\n        this.hasUvs = false;\n        this.positionArray = null;\n        this.normalArray = null;\n        this.colorArray = null;\n        this.uvArray = null;\n        this.count = 0;\n    }\n\n    ImmediateRenderObject.prototype = Object.create(Object3D.prototype);\n    ImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n    ImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n    var _vector$8 = /*@__PURE__*/new Vector3();\n\n    var SpotLightHelper = /*#__PURE__*/function (_Object3D) {\n        _inheritsLoose(SpotLightHelper, _Object3D);\n\n        function SpotLightHelper(light, color) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.light = light;\n\n            _this.light.updateMatrixWorld();\n\n            _this.matrix = light.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            _this.color = color;\n            var geometry = new BufferGeometry();\n            var positions = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1];\n\n            for (var i = 0, j = 1, l = 32; i < l; i++, j++) {\n                var p1 = i / l * Math.PI * 2;\n                var p2 = j / l * Math.PI * 2;\n                positions.push(Math.cos(p1), Math.sin(p1), 1, Math.cos(p2), Math.sin(p2), 1);\n            }\n\n            geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n            var material = new LineBasicMaterial({\n                fog: false,\n                toneMapped: false\n            });\n            _this.cone = new LineSegments(geometry, material);\n\n            _this.add(_this.cone);\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = SpotLightHelper.prototype;\n\n        _proto.dispose = function dispose() {\n            this.cone.geometry.dispose();\n            this.cone.material.dispose();\n        };\n\n        _proto.update = function update() {\n            this.light.updateMatrixWorld();\n            var coneLength = this.light.distance ? this.light.distance : 1000;\n            var coneWidth = coneLength * Math.tan(this.light.angle);\n            this.cone.scale.set(coneWidth, coneWidth, coneLength);\n\n            _vector$8.setFromMatrixPosition(this.light.target.matrixWorld);\n\n            this.cone.lookAt(_vector$8);\n\n            if (this.color !== undefined) {\n                this.cone.material.color.set(this.color);\n            } else {\n                this.cone.material.color.copy(this.light.color);\n            }\n        };\n\n        return SpotLightHelper;\n    }(Object3D);\n\n    var _vector$9 = /*@__PURE__*/new Vector3();\n\n    var _boneMatrix = /*@__PURE__*/new Matrix4();\n\n    var _matrixWorldInv = /*@__PURE__*/new Matrix4();\n\n    var SkeletonHelper = /*#__PURE__*/function (_LineSegments) {\n        _inheritsLoose(SkeletonHelper, _LineSegments);\n\n        function SkeletonHelper(object) {\n            var _this;\n\n            var bones = getBoneList(object);\n            var geometry = new BufferGeometry();\n            var vertices = [];\n            var colors = [];\n            var color1 = new Color(0, 0, 1);\n            var color2 = new Color(0, 1, 0);\n\n            for (var i = 0; i < bones.length; i++) {\n                var bone = bones[i];\n\n                if (bone.parent && bone.parent.isBone) {\n                    vertices.push(0, 0, 0);\n                    vertices.push(0, 0, 0);\n                    colors.push(color1.r, color1.g, color1.b);\n                    colors.push(color2.r, color2.g, color2.b);\n                }\n            }\n\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            var material = new LineBasicMaterial({\n                vertexColors: true,\n                depthTest: false,\n                depthWrite: false,\n                toneMapped: false,\n                transparent: true\n            });\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'SkeletonHelper';\n            _this.isSkeletonHelper = true;\n            _this.root = object;\n            _this.bones = bones;\n            _this.matrix = object.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            return _this;\n        }\n\n        var _proto = SkeletonHelper.prototype;\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            var bones = this.bones;\n            var geometry = this.geometry;\n            var position = geometry.getAttribute('position');\n\n            _matrixWorldInv.getInverse(this.root.matrixWorld);\n\n            for (var i = 0, j = 0; i < bones.length; i++) {\n                var bone = bones[i];\n\n                if (bone.parent && bone.parent.isBone) {\n                    _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.matrixWorld);\n\n                    _vector$9.setFromMatrixPosition(_boneMatrix);\n\n                    position.setXYZ(j, _vector$9.x, _vector$9.y, _vector$9.z);\n\n                    _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.parent.matrixWorld);\n\n                    _vector$9.setFromMatrixPosition(_boneMatrix);\n\n                    position.setXYZ(j + 1, _vector$9.x, _vector$9.y, _vector$9.z);\n                    j += 2;\n                }\n            }\n\n            geometry.getAttribute('position').needsUpdate = true;\n\n            _LineSegments.prototype.updateMatrixWorld.call(this, force);\n        };\n\n        return SkeletonHelper;\n    }(LineSegments);\n\n    function getBoneList(object) {\n        var boneList = [];\n\n        if (object && object.isBone) {\n            boneList.push(object);\n        }\n\n        for (var i = 0; i < object.children.length; i++) {\n            boneList.push.apply(boneList, getBoneList(object.children[i]));\n        }\n\n        return boneList;\n    }\n\n    var PointLightHelper = /*#__PURE__*/function (_Mesh) {\n        _inheritsLoose(PointLightHelper, _Mesh);\n\n        function PointLightHelper(light, sphereSize, color) {\n            var _this;\n\n            var geometry = new SphereBufferGeometry(sphereSize, 4, 2);\n            var material = new MeshBasicMaterial({\n                wireframe: true,\n                fog: false,\n                toneMapped: false\n            });\n            _this = _Mesh.call(this, geometry, material) || this;\n            _this.light = light;\n\n            _this.light.updateMatrixWorld();\n\n            _this.color = color;\n            _this.type = 'PointLightHelper';\n            _this.matrix = _this.light.matrixWorld;\n            _this.matrixAutoUpdate = false;\n\n            _this.update();\n            /*\n             // TODO: delete this comment?\n             const distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n             const distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n             this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n             this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n             const d = light.distance;\n             if ( d === 0.0 ) {\n             this.lightDistance.visible = false;\n             } else {\n             this.lightDistance.scale.set( d, d, d );\n             }\n             this.add( this.lightDistance );\n             */\n\n\n            return _this;\n        }\n\n        var _proto = PointLightHelper.prototype;\n\n        _proto.dispose = function dispose() {\n            this.geometry.dispose();\n            this.material.dispose();\n        };\n\n        _proto.update = function update() {\n            if (this.color !== undefined) {\n                this.material.color.set(this.color);\n            } else {\n                this.material.color.copy(this.light.color);\n            }\n            /*\n             const d = this.light.distance;\n             if ( d === 0.0 ) {\n             this.lightDistance.visible = false;\n             } else {\n             this.lightDistance.visible = true;\n             this.lightDistance.scale.set( d, d, d );\n             }\n             */\n\n        };\n\n        return PointLightHelper;\n    }(Mesh);\n\n    var _vector$a = /*@__PURE__*/new Vector3();\n\n    var _color1 = /*@__PURE__*/new Color();\n\n    var _color2 = /*@__PURE__*/new Color();\n\n    var HemisphereLightHelper = /*#__PURE__*/function (_Object3D) {\n        _inheritsLoose(HemisphereLightHelper, _Object3D);\n\n        function HemisphereLightHelper(light, size, color) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.light = light;\n\n            _this.light.updateMatrixWorld();\n\n            _this.matrix = light.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            _this.color = color;\n            var geometry = new OctahedronBufferGeometry(size);\n            geometry.rotateY(Math.PI * 0.5);\n            _this.material = new MeshBasicMaterial({\n                wireframe: true,\n                fog: false,\n                toneMapped: false\n            });\n            if (_this.color === undefined) _this.material.vertexColors = true;\n            var position = geometry.getAttribute('position');\n            var colors = new Float32Array(position.count * 3);\n            geometry.setAttribute('color', new BufferAttribute(colors, 3));\n\n            _this.add(new Mesh(geometry, _this.material));\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = HemisphereLightHelper.prototype;\n\n        _proto.dispose = function dispose() {\n            this.children[0].geometry.dispose();\n            this.children[0].material.dispose();\n        };\n\n        _proto.update = function update() {\n            var mesh = this.children[0];\n\n            if (this.color !== undefined) {\n                this.material.color.set(this.color);\n            } else {\n                var colors = mesh.geometry.getAttribute('color');\n\n                _color1.copy(this.light.color);\n\n                _color2.copy(this.light.groundColor);\n\n                for (var i = 0, l = colors.count; i < l; i++) {\n                    var color = i < l / 2 ? _color1 : _color2;\n                    colors.setXYZ(i, color.r, color.g, color.b);\n                }\n\n                colors.needsUpdate = true;\n            }\n\n            mesh.lookAt(_vector$a.setFromMatrixPosition(this.light.matrixWorld).negate());\n        };\n\n        return HemisphereLightHelper;\n    }(Object3D);\n\n    var GridHelper = /*#__PURE__*/function (_LineSegments) {\n        _inheritsLoose(GridHelper, _LineSegments);\n\n        function GridHelper(size, divisions, color1, color2) {\n            var _this;\n\n            size = size || 10;\n            divisions = divisions || 10;\n            color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n            color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n            var center = divisions / 2;\n            var step = size / divisions;\n            var halfSize = size / 2;\n            var vertices = [],\n                colors = [];\n\n            for (var i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {\n                vertices.push(-halfSize, 0, k, halfSize, 0, k);\n                vertices.push(k, 0, -halfSize, k, 0, halfSize);\n                var color = i === center ? color1 : color2;\n                color.toArray(colors, j);\n                j += 3;\n                color.toArray(colors, j);\n                j += 3;\n                color.toArray(colors, j);\n                j += 3;\n                color.toArray(colors, j);\n                j += 3;\n            }\n\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            var material = new LineBasicMaterial({\n                vertexColors: true,\n                toneMapped: false\n            });\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'GridHelper';\n            return _this;\n        }\n\n        return GridHelper;\n    }(LineSegments);\n\n    var PolarGridHelper = /*#__PURE__*/function (_LineSegments) {\n        _inheritsLoose(PolarGridHelper, _LineSegments);\n\n        function PolarGridHelper(radius, radials, circles, divisions, color1, color2) {\n            var _this;\n\n            radius = radius || 10;\n            radials = radials || 16;\n            circles = circles || 8;\n            divisions = divisions || 64;\n            color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n            color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n            var vertices = [];\n            var colors = []; // create the radials\n\n            for (var i = 0; i <= radials; i++) {\n                var v = i / radials * (Math.PI * 2);\n                var x = Math.sin(v) * radius;\n                var z = Math.cos(v) * radius;\n                vertices.push(0, 0, 0);\n                vertices.push(x, 0, z);\n                var color = i & 1 ? color1 : color2;\n                colors.push(color.r, color.g, color.b);\n                colors.push(color.r, color.g, color.b);\n            } // create the circles\n\n\n            for (var _i = 0; _i <= circles; _i++) {\n                var _color = _i & 1 ? color1 : color2;\n\n                var r = radius - radius / circles * _i;\n\n                for (var j = 0; j < divisions; j++) {\n                    // first vertex\n                    var _v = j / divisions * (Math.PI * 2);\n\n                    var _x = Math.sin(_v) * r;\n\n                    var _z = Math.cos(_v) * r;\n\n                    vertices.push(_x, 0, _z);\n                    colors.push(_color.r, _color.g, _color.b); // second vertex\n\n                    _v = (j + 1) / divisions * (Math.PI * 2);\n                    _x = Math.sin(_v) * r;\n                    _z = Math.cos(_v) * r;\n                    vertices.push(_x, 0, _z);\n                    colors.push(_color.r, _color.g, _color.b);\n                }\n            }\n\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            var material = new LineBasicMaterial({\n                vertexColors: true,\n                toneMapped: false\n            });\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'PolarGridHelper';\n            return _this;\n        }\n\n        return PolarGridHelper;\n    }(LineSegments);\n\n    var _v1$6 = /*@__PURE__*/new Vector3();\n\n    var _v2$3 = /*@__PURE__*/new Vector3();\n\n    var _v3$1 = /*@__PURE__*/new Vector3();\n\n    var DirectionalLightHelper = /*#__PURE__*/function (_Object3D) {\n        _inheritsLoose(DirectionalLightHelper, _Object3D);\n\n        function DirectionalLightHelper(light, size, color) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.light = light;\n\n            _this.light.updateMatrixWorld();\n\n            _this.matrix = light.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            _this.color = color;\n            if (size === undefined) size = 1;\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute([-size, size, 0, size, size, 0, size, -size, 0, -size, -size, 0, -size, size, 0], 3));\n            var material = new LineBasicMaterial({\n                fog: false,\n                toneMapped: false\n            });\n            _this.lightPlane = new Line(geometry, material);\n\n            _this.add(_this.lightPlane);\n\n            geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n            _this.targetLine = new Line(geometry, material);\n\n            _this.add(_this.targetLine);\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = DirectionalLightHelper.prototype;\n\n        _proto.dispose = function dispose() {\n            this.lightPlane.geometry.dispose();\n            this.lightPlane.material.dispose();\n            this.targetLine.geometry.dispose();\n            this.targetLine.material.dispose();\n        };\n\n        _proto.update = function update() {\n            _v1$6.setFromMatrixPosition(this.light.matrixWorld);\n\n            _v2$3.setFromMatrixPosition(this.light.target.matrixWorld);\n\n            _v3$1.subVectors(_v2$3, _v1$6);\n\n            this.lightPlane.lookAt(_v2$3);\n\n            if (this.color !== undefined) {\n                this.lightPlane.material.color.set(this.color);\n                this.targetLine.material.color.set(this.color);\n            } else {\n                this.lightPlane.material.color.copy(this.light.color);\n                this.targetLine.material.color.copy(this.light.color);\n            }\n\n            this.targetLine.lookAt(_v2$3);\n            this.targetLine.scale.z = _v3$1.length();\n        };\n\n        return DirectionalLightHelper;\n    }(Object3D);\n\n    var _vector$b = /*@__PURE__*/new Vector3();\n\n    var _camera = /*@__PURE__*/new Camera();\n    /**\n     *\t- shows frustum, line of sight and up of the camera\n     *\t- suitable for fast updates\n     * \t- based on frustum visualization in lightgl.js shadowmap example\n     *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n     */\n\n\n    var CameraHelper = /*#__PURE__*/function (_LineSegments) {\n        _inheritsLoose(CameraHelper, _LineSegments);\n\n        function CameraHelper(camera) {\n            var _this;\n\n            var geometry = new BufferGeometry();\n            var material = new LineBasicMaterial({\n                color: 0xffffff,\n                vertexColors: true,\n                toneMapped: false\n            });\n            var vertices = [];\n            var colors = [];\n            var pointMap = {}; // colors\n\n            var colorFrustum = new Color(0xffaa00);\n            var colorCone = new Color(0xff0000);\n            var colorUp = new Color(0x00aaff);\n            var colorTarget = new Color(0xffffff);\n            var colorCross = new Color(0x333333); // near\n\n            addLine('n1', 'n2', colorFrustum);\n            addLine('n2', 'n4', colorFrustum);\n            addLine('n4', 'n3', colorFrustum);\n            addLine('n3', 'n1', colorFrustum); // far\n\n            addLine('f1', 'f2', colorFrustum);\n            addLine('f2', 'f4', colorFrustum);\n            addLine('f4', 'f3', colorFrustum);\n            addLine('f3', 'f1', colorFrustum); // sides\n\n            addLine('n1', 'f1', colorFrustum);\n            addLine('n2', 'f2', colorFrustum);\n            addLine('n3', 'f3', colorFrustum);\n            addLine('n4', 'f4', colorFrustum); // cone\n\n            addLine('p', 'n1', colorCone);\n            addLine('p', 'n2', colorCone);\n            addLine('p', 'n3', colorCone);\n            addLine('p', 'n4', colorCone); // up\n\n            addLine('u1', 'u2', colorUp);\n            addLine('u2', 'u3', colorUp);\n            addLine('u3', 'u1', colorUp); // target\n\n            addLine('c', 't', colorTarget);\n            addLine('p', 'c', colorCross); // cross\n\n            addLine('cn1', 'cn2', colorCross);\n            addLine('cn3', 'cn4', colorCross);\n            addLine('cf1', 'cf2', colorCross);\n            addLine('cf3', 'cf4', colorCross);\n\n            function addLine(a, b, color) {\n                addPoint(a, color);\n                addPoint(b, color);\n            }\n\n            function addPoint(id, color) {\n                vertices.push(0, 0, 0);\n                colors.push(color.r, color.g, color.b);\n\n                if (pointMap[id] === undefined) {\n                    pointMap[id] = [];\n                }\n\n                pointMap[id].push(vertices.length / 3 - 1);\n            }\n\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'CameraHelper';\n            _this.camera = camera;\n            if (_this.camera.updateProjectionMatrix) _this.camera.updateProjectionMatrix();\n            _this.matrix = camera.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            _this.pointMap = pointMap;\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = CameraHelper.prototype;\n\n        _proto.update = function update() {\n            var geometry = this.geometry;\n            var pointMap = this.pointMap;\n            var w = 1,\n                h = 1; // we need just camera projection matrix inverse\n            // world matrix must be identity\n\n            _camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse); // center / target\n\n\n            setPoint('c', pointMap, geometry, _camera, 0, 0, -1);\n            setPoint('t', pointMap, geometry, _camera, 0, 0, 1); // near\n\n            setPoint('n1', pointMap, geometry, _camera, -w, -h, -1);\n            setPoint('n2', pointMap, geometry, _camera, w, -h, -1);\n            setPoint('n3', pointMap, geometry, _camera, -w, h, -1);\n            setPoint('n4', pointMap, geometry, _camera, w, h, -1); // far\n\n            setPoint('f1', pointMap, geometry, _camera, -w, -h, 1);\n            setPoint('f2', pointMap, geometry, _camera, w, -h, 1);\n            setPoint('f3', pointMap, geometry, _camera, -w, h, 1);\n            setPoint('f4', pointMap, geometry, _camera, w, h, 1); // up\n\n            setPoint('u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, -1);\n            setPoint('u2', pointMap, geometry, _camera, -w * 0.7, h * 1.1, -1);\n            setPoint('u3', pointMap, geometry, _camera, 0, h * 2, -1); // cross\n\n            setPoint('cf1', pointMap, geometry, _camera, -w, 0, 1);\n            setPoint('cf2', pointMap, geometry, _camera, w, 0, 1);\n            setPoint('cf3', pointMap, geometry, _camera, 0, -h, 1);\n            setPoint('cf4', pointMap, geometry, _camera, 0, h, 1);\n            setPoint('cn1', pointMap, geometry, _camera, -w, 0, -1);\n            setPoint('cn2', pointMap, geometry, _camera, w, 0, -1);\n            setPoint('cn3', pointMap, geometry, _camera, 0, -h, -1);\n            setPoint('cn4', pointMap, geometry, _camera, 0, h, -1);\n            geometry.getAttribute('position').needsUpdate = true;\n        };\n\n        return CameraHelper;\n    }(LineSegments);\n\n    function setPoint(point, pointMap, geometry, camera, x, y, z) {\n        _vector$b.set(x, y, z).unproject(camera);\n\n        var points = pointMap[point];\n\n        if (points !== undefined) {\n            var position = geometry.getAttribute('position');\n\n            for (var i = 0, l = points.length; i < l; i++) {\n                position.setXYZ(points[i], _vector$b.x, _vector$b.y, _vector$b.z);\n            }\n        }\n    }\n\n    var _box$3 = /*@__PURE__*/new Box3();\n\n    var BoxHelper = /*#__PURE__*/function (_LineSegments) {\n        _inheritsLoose(BoxHelper, _LineSegments);\n\n        function BoxHelper(object, color) {\n            var _this;\n\n            if (color === void 0) {\n                color = 0xffff00;\n            }\n\n            var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n            var positions = new Float32Array(8 * 3);\n            var geometry = new BufferGeometry();\n            geometry.setIndex(new BufferAttribute(indices, 1));\n            geometry.setAttribute('position', new BufferAttribute(positions, 3));\n            _this = _LineSegments.call(this, geometry, new LineBasicMaterial({\n                    color: color,\n                    toneMapped: false\n                })) || this;\n            _this.object = object;\n            _this.type = 'BoxHelper';\n            _this.matrixAutoUpdate = false;\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = BoxHelper.prototype;\n\n        _proto.update = function update(object) {\n            if (object !== undefined) {\n                console.warn('THREE.BoxHelper: .update() has no longer arguments.');\n            }\n\n            if (this.object !== undefined) {\n                _box$3.setFromObject(this.object);\n            }\n\n            if (_box$3.isEmpty()) return;\n            var min = _box$3.min;\n            var max = _box$3.max;\n            /*\n             5____4\n             1/___0/|\n             | 6__|_7\n             2/___3/\n             0: max.x, max.y, max.z\n             1: min.x, max.y, max.z\n             2: min.x, min.y, max.z\n             3: max.x, min.y, max.z\n             4: max.x, max.y, min.z\n             5: min.x, max.y, min.z\n             6: min.x, min.y, min.z\n             7: max.x, min.y, min.z\n             */\n\n            var position = this.geometry.attributes.position;\n            var array = position.array;\n            array[0] = max.x;\n            array[1] = max.y;\n            array[2] = max.z;\n            array[3] = min.x;\n            array[4] = max.y;\n            array[5] = max.z;\n            array[6] = min.x;\n            array[7] = min.y;\n            array[8] = max.z;\n            array[9] = max.x;\n            array[10] = min.y;\n            array[11] = max.z;\n            array[12] = max.x;\n            array[13] = max.y;\n            array[14] = min.z;\n            array[15] = min.x;\n            array[16] = max.y;\n            array[17] = min.z;\n            array[18] = min.x;\n            array[19] = min.y;\n            array[20] = min.z;\n            array[21] = max.x;\n            array[22] = min.y;\n            array[23] = min.z;\n            position.needsUpdate = true;\n            this.geometry.computeBoundingSphere();\n        };\n\n        _proto.setFromObject = function setFromObject(object) {\n            this.object = object;\n            this.update();\n            return this;\n        };\n\n        _proto.copy = function copy(source) {\n            LineSegments.prototype.copy.call(this, source);\n            this.object = source.object;\n            return this;\n        };\n\n        return BoxHelper;\n    }(LineSegments);\n\n    var Box3Helper = /*#__PURE__*/function (_LineSegments) {\n        _inheritsLoose(Box3Helper, _LineSegments);\n\n        function Box3Helper(box, color) {\n            var _this;\n\n            if (color === void 0) {\n                color = 0xffff00;\n            }\n\n            var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n            var positions = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1];\n            var geometry = new BufferGeometry();\n            geometry.setIndex(new BufferAttribute(indices, 1));\n            geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n            _this = _LineSegments.call(this, geometry, new LineBasicMaterial({\n                    color: color,\n                    toneMapped: false\n                })) || this;\n            _this.box = box;\n            _this.type = 'Box3Helper';\n\n            _this.geometry.computeBoundingSphere();\n\n            return _this;\n        }\n\n        var _proto = Box3Helper.prototype;\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            var box = this.box;\n            if (box.isEmpty()) return;\n            box.getCenter(this.position);\n            box.getSize(this.scale);\n            this.scale.multiplyScalar(0.5);\n\n            _LineSegments.prototype.updateMatrixWorld.call(this, force);\n        };\n\n        return Box3Helper;\n    }(LineSegments);\n\n    var PlaneHelper = /*#__PURE__*/function (_Line) {\n        _inheritsLoose(PlaneHelper, _Line);\n\n        function PlaneHelper(plane, size, hex) {\n            var _this;\n\n            var color = hex !== undefined ? hex : 0xffff00;\n            var positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n            geometry.computeBoundingSphere();\n            _this = _Line.call(this, geometry, new LineBasicMaterial({\n                    color: color,\n                    toneMapped: false\n                })) || this;\n            _this.type = 'PlaneHelper';\n            _this.plane = plane;\n            _this.size = size === undefined ? 1 : size;\n            var positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];\n            var geometry2 = new BufferGeometry();\n            geometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n            geometry2.computeBoundingSphere();\n\n            _this.add(new Mesh(geometry2, new MeshBasicMaterial({\n                color: color,\n                opacity: 0.2,\n                transparent: true,\n                depthWrite: false,\n                toneMapped: false\n            })));\n\n            return _this;\n        }\n\n        var _proto = PlaneHelper.prototype;\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            var scale = -this.plane.constant;\n            if (Math.abs(scale) < 1e-8) scale = 1e-8; // sign does not matter\n\n            this.scale.set(0.5 * this.size, 0.5 * this.size, scale);\n            this.children[0].material.side = scale < 0 ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n            this.lookAt(this.plane.normal);\n\n            _Line.prototype.updateMatrixWorld.call(this, force);\n        };\n\n        return PlaneHelper;\n    }(Line);\n\n    var _axis = /*@__PURE__*/new Vector3();\n\n    var _lineGeometry, _coneGeometry;\n\n    var ArrowHelper = /*#__PURE__*/function (_Object3D) {\n        _inheritsLoose(ArrowHelper, _Object3D);\n\n        function ArrowHelper(dir, origin, length, color, headLength, headWidth) {\n            var _this;\n\n            _this = _Object3D.call(this) || this; // dir is assumed to be normalized\n\n            _this.type = 'ArrowHelper';\n            if (dir === undefined) dir = new Vector3(0, 0, 1);\n            if (origin === undefined) origin = new Vector3(0, 0, 0);\n            if (length === undefined) length = 1;\n            if (color === undefined) color = 0xffff00;\n            if (headLength === undefined) headLength = 0.2 * length;\n            if (headWidth === undefined) headWidth = 0.2 * headLength;\n\n            if (_lineGeometry === undefined) {\n                _lineGeometry = new BufferGeometry();\n\n                _lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n                _coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);\n\n                _coneGeometry.translate(0, -0.5, 0);\n            }\n\n            _this.position.copy(origin);\n\n            _this.line = new Line(_lineGeometry, new LineBasicMaterial({\n                color: color,\n                toneMapped: false\n            }));\n            _this.line.matrixAutoUpdate = false;\n\n            _this.add(_this.line);\n\n            _this.cone = new Mesh(_coneGeometry, new MeshBasicMaterial({\n                color: color,\n                toneMapped: false\n            }));\n            _this.cone.matrixAutoUpdate = false;\n\n            _this.add(_this.cone);\n\n            _this.setDirection(dir);\n\n            _this.setLength(length, headLength, headWidth);\n\n            return _this;\n        }\n\n        var _proto = ArrowHelper.prototype;\n\n        _proto.setDirection = function setDirection(dir) {\n            // dir is assumed to be normalized\n            if (dir.y > 0.99999) {\n                this.quaternion.set(0, 0, 0, 1);\n            } else if (dir.y < -0.99999) {\n                this.quaternion.set(1, 0, 0, 0);\n            } else {\n                _axis.set(dir.z, 0, -dir.x).normalize();\n\n                var radians = Math.acos(dir.y);\n                this.quaternion.setFromAxisAngle(_axis, radians);\n            }\n        };\n\n        _proto.setLength = function setLength(length, headLength, headWidth) {\n            if (headLength === undefined) headLength = 0.2 * length;\n            if (headWidth === undefined) headWidth = 0.2 * headLength;\n            this.line.scale.set(1, Math.max(0.0001, length - headLength), 1); // see #17458\n\n            this.line.updateMatrix();\n            this.cone.scale.set(headWidth, headLength, headWidth);\n            this.cone.position.y = length;\n            this.cone.updateMatrix();\n        };\n\n        _proto.setColor = function setColor(color) {\n            this.line.material.color.set(color);\n            this.cone.material.color.set(color);\n        };\n\n        _proto.copy = function copy(source) {\n            _Object3D.prototype.copy.call(this, source, false);\n\n            this.line.copy(source.line);\n            this.cone.copy(source.cone);\n            return this;\n        };\n\n        return ArrowHelper;\n    }(Object3D);\n\n    var AxesHelper = /*#__PURE__*/function (_LineSegments) {\n        _inheritsLoose(AxesHelper, _LineSegments);\n\n        function AxesHelper(size) {\n            var _this;\n\n            if (size === void 0) {\n                size = 1;\n            }\n\n            var vertices = [0, 0, 0, size, 0, 0, 0, 0, 0, 0, size, 0, 0, 0, 0, 0, 0, size];\n            var colors = [1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1];\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            var material = new LineBasicMaterial({\n                vertexColors: true,\n                toneMapped: false\n            });\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'AxesHelper';\n            return _this;\n        }\n\n        return AxesHelper;\n    }(LineSegments);\n\n    var _ENCODINGS;\n    var LOD_MIN = 4;\n    var LOD_MAX = 8;\n    var SIZE_MAX = Math.pow(2, LOD_MAX); // The standard deviations (radians) associated with the extra mips. These are\n    // chosen to approximate a Trowbridge-Reitz distribution function times the\n    // geometric shadowing function. These sigma values squared must match the\n    // variance #defines in cube_uv_reflection_fragment.glsl.js.\n\n    var EXTRA_LOD_SIGMA = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582];\n    var TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length; // The maximum length of the blur for loop. Smaller sigmas will use fewer\n    // samples and exit early, but not recompile the shader.\n\n    var MAX_SAMPLES = 20;\n    var ENCODINGS = (_ENCODINGS = {}, _ENCODINGS[LinearEncoding] = 0, _ENCODINGS[sRGBEncoding] = 1, _ENCODINGS[RGBEEncoding] = 2, _ENCODINGS[RGBM7Encoding] = 3, _ENCODINGS[RGBM16Encoding] = 4, _ENCODINGS[RGBDEncoding] = 5, _ENCODINGS[GammaEncoding] = 6, _ENCODINGS);\n\n    var _flatCamera = /*@__PURE__*/new OrthographicCamera();\n\n    var _createPlanes2 = /*@__PURE__*/_createPlanes(),\n        _lodPlanes = _createPlanes2._lodPlanes,\n        _sizeLods = _createPlanes2._sizeLods,\n        _sigmas = _createPlanes2._sigmas;\n\n    var _oldTarget = null; // Golden Ratio\n\n    var PHI = (1 + Math.sqrt(5)) / 2;\n    var INV_PHI = 1 / PHI; // Vertices of a dodecahedron (except the opposites, which represent the\n    // same axis), used as axis directions evenly spread on a sphere.\n\n    var _axisDirections = [/*@__PURE__*/new Vector3(1, 1, 1), /*@__PURE__*/new Vector3(-1, 1, 1), /*@__PURE__*/new Vector3(1, 1, -1), /*@__PURE__*/new Vector3(-1, 1, -1), /*@__PURE__*/new Vector3(0, PHI, INV_PHI), /*@__PURE__*/new Vector3(0, PHI, -INV_PHI), /*@__PURE__*/new Vector3(INV_PHI, 0, PHI), /*@__PURE__*/new Vector3(-INV_PHI, 0, PHI), /*@__PURE__*/new Vector3(PHI, INV_PHI, 0), /*@__PURE__*/new Vector3(-PHI, INV_PHI, 0)];\n    /**\n     * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n     * (PMREM) from a cubeMap environment texture. This allows different levels of\n     * blur to be quickly accessed based on material roughness. It is packed into a\n     * special CubeUV format that allows us to perform custom interpolation so that\n     * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n     * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n     * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n     * higher roughness levels. In this way we maintain resolution to smoothly\n     * interpolate diffuse lighting while limiting sampling computation.\n     */\n\n    var PMREMGenerator = /*#__PURE__*/function () {\n        function PMREMGenerator(renderer) {\n            this._renderer = renderer;\n            this._pingPongRenderTarget = null;\n            this._blurMaterial = _getBlurShader(MAX_SAMPLES);\n            this._equirectShader = null;\n            this._cubemapShader = null;\n\n            this._compileMaterial(this._blurMaterial);\n        }\n        /**\n         * Generates a PMREM from a supplied Scene, which can be faster than using an\n         * image if networking bandwidth is low. Optional sigma specifies a blur radius\n         * in radians to be applied to the scene before PMREM generation. Optional near\n         * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n         * is placed at the origin).\n         */\n\n\n        var _proto = PMREMGenerator.prototype;\n\n        _proto.fromScene = function fromScene(scene, sigma, near, far) {\n            if (sigma === void 0) {\n                sigma = 0;\n            }\n\n            if (near === void 0) {\n                near = 0.1;\n            }\n\n            if (far === void 0) {\n                far = 100;\n            }\n\n            _oldTarget = this._renderer.getRenderTarget();\n\n            var cubeUVRenderTarget = this._allocateTargets();\n\n            this._sceneToCubeUV(scene, near, far, cubeUVRenderTarget);\n\n            if (sigma > 0) {\n                this._blur(cubeUVRenderTarget, 0, 0, sigma);\n            }\n\n            this._applyPMREM(cubeUVRenderTarget);\n\n            this._cleanup(cubeUVRenderTarget);\n\n            return cubeUVRenderTarget;\n        }\n        /**\n         * Generates a PMREM from an equirectangular texture, which can be either LDR\n         * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n         * as this matches best with the 256 x 256 cubemap output.\n         */\n        ;\n\n        _proto.fromEquirectangular = function fromEquirectangular(equirectangular) {\n            return this._fromTexture(equirectangular);\n        }\n        /**\n         * Generates a PMREM from an cubemap texture, which can be either LDR\n         * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n         * as this matches best with the 256 x 256 cubemap output.\n         */\n        ;\n\n        _proto.fromCubemap = function fromCubemap(cubemap) {\n            return this._fromTexture(cubemap);\n        }\n        /**\n         * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n         * your texture's network fetch for increased concurrency.\n         */\n        ;\n\n        _proto.compileCubemapShader = function compileCubemapShader() {\n            if (this._cubemapShader === null) {\n                this._cubemapShader = _getCubemapShader();\n\n                this._compileMaterial(this._cubemapShader);\n            }\n        }\n        /**\n         * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n         * your texture's network fetch for increased concurrency.\n         */\n        ;\n\n        _proto.compileEquirectangularShader = function compileEquirectangularShader() {\n            if (this._equirectShader === null) {\n                this._equirectShader = _getEquirectShader();\n\n                this._compileMaterial(this._equirectShader);\n            }\n        }\n        /**\n         * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n         * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n         * one of them will cause any others to also become unusable.\n         */\n        ;\n\n        _proto.dispose = function dispose() {\n            this._blurMaterial.dispose();\n\n            if (this._cubemapShader !== null) this._cubemapShader.dispose();\n            if (this._equirectShader !== null) this._equirectShader.dispose();\n\n            for (var i = 0; i < _lodPlanes.length; i++) {\n                _lodPlanes[i].dispose();\n            }\n        } // private interface\n        ;\n\n        _proto._cleanup = function _cleanup(outputTarget) {\n            this._pingPongRenderTarget.dispose();\n\n            this._renderer.setRenderTarget(_oldTarget);\n\n            outputTarget.scissorTest = false;\n\n            _setViewport(outputTarget, 0, 0, outputTarget.width, outputTarget.height);\n        };\n\n        _proto._fromTexture = function _fromTexture(texture) {\n            _oldTarget = this._renderer.getRenderTarget();\n\n            var cubeUVRenderTarget = this._allocateTargets(texture);\n\n            this._textureToCubeUV(texture, cubeUVRenderTarget);\n\n            this._applyPMREM(cubeUVRenderTarget);\n\n            this._cleanup(cubeUVRenderTarget);\n\n            return cubeUVRenderTarget;\n        };\n\n        _proto._allocateTargets = function _allocateTargets(texture) {\n            // warning: null texture is valid\n            var params = {\n                magFilter: NearestFilter,\n                minFilter: NearestFilter,\n                generateMipmaps: false,\n                type: UnsignedByteType,\n                format: RGBEFormat,\n                encoding: _isLDR(texture) ? texture.encoding : RGBEEncoding,\n                depthBuffer: false\n            };\n\n            var cubeUVRenderTarget = _createRenderTarget(params);\n\n            cubeUVRenderTarget.depthBuffer = texture ? false : true;\n            this._pingPongRenderTarget = _createRenderTarget(params);\n            return cubeUVRenderTarget;\n        };\n\n        _proto._compileMaterial = function _compileMaterial(material) {\n            var tmpMesh = new Mesh(_lodPlanes[0], material);\n\n            this._renderer.compile(tmpMesh, _flatCamera);\n        };\n\n        _proto._sceneToCubeUV = function _sceneToCubeUV(scene, near, far, cubeUVRenderTarget) {\n            var fov = 90;\n            var aspect = 1;\n            var cubeCamera = new PerspectiveCamera(fov, aspect, near, far);\n            var upSign = [1, -1, 1, 1, 1, 1];\n            var forwardSign = [1, 1, 1, -1, -1, -1];\n            var renderer = this._renderer;\n            var outputEncoding = renderer.outputEncoding;\n            var toneMapping = renderer.toneMapping;\n            var clearColor = renderer.getClearColor();\n            var clearAlpha = renderer.getClearAlpha();\n            renderer.toneMapping = NoToneMapping;\n            renderer.outputEncoding = LinearEncoding;\n            var background = scene.background;\n\n            if (background && background.isColor) {\n                background.convertSRGBToLinear(); // Convert linear to RGBE\n\n                var maxComponent = Math.max(background.r, background.g, background.b);\n                var fExp = Math.min(Math.max(Math.ceil(Math.log2(maxComponent)), -128.0), 127.0);\n                background = background.multiplyScalar(Math.pow(2.0, -fExp));\n                var alpha = (fExp + 128.0) / 255.0;\n                renderer.setClearColor(background, alpha);\n                scene.background = null;\n            }\n\n            for (var i = 0; i < 6; i++) {\n                var col = i % 3;\n\n                if (col == 0) {\n                    cubeCamera.up.set(0, upSign[i], 0);\n                    cubeCamera.lookAt(forwardSign[i], 0, 0);\n                } else if (col == 1) {\n                    cubeCamera.up.set(0, 0, upSign[i]);\n                    cubeCamera.lookAt(0, forwardSign[i], 0);\n                } else {\n                    cubeCamera.up.set(0, upSign[i], 0);\n                    cubeCamera.lookAt(0, 0, forwardSign[i]);\n                }\n\n                _setViewport(cubeUVRenderTarget, col * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX);\n\n                renderer.setRenderTarget(cubeUVRenderTarget);\n                renderer.render(scene, cubeCamera);\n            }\n\n            renderer.toneMapping = toneMapping;\n            renderer.outputEncoding = outputEncoding;\n            renderer.setClearColor(clearColor, clearAlpha);\n        };\n\n        _proto._textureToCubeUV = function _textureToCubeUV(texture, cubeUVRenderTarget) {\n            var renderer = this._renderer;\n\n            if (texture.isCubeTexture) {\n                if (this._cubemapShader == null) {\n                    this._cubemapShader = _getCubemapShader();\n                }\n            } else {\n                if (this._equirectShader == null) {\n                    this._equirectShader = _getEquirectShader();\n                }\n            }\n\n            var material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n            var mesh = new Mesh(_lodPlanes[0], material);\n            var uniforms = material.uniforms;\n            uniforms['envMap'].value = texture;\n\n            if (!texture.isCubeTexture) {\n                uniforms['texelSize'].value.set(1.0 / texture.image.width, 1.0 / texture.image.height);\n            }\n\n            uniforms['inputEncoding'].value = ENCODINGS[texture.encoding];\n            uniforms['outputEncoding'].value = ENCODINGS[cubeUVRenderTarget.texture.encoding];\n\n            _setViewport(cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX);\n\n            renderer.setRenderTarget(cubeUVRenderTarget);\n            renderer.render(mesh, _flatCamera);\n        };\n\n        _proto._applyPMREM = function _applyPMREM(cubeUVRenderTarget) {\n            var renderer = this._renderer;\n            var autoClear = renderer.autoClear;\n            renderer.autoClear = false;\n\n            for (var i = 1; i < TOTAL_LODS; i++) {\n                var sigma = Math.sqrt(_sigmas[i] * _sigmas[i] - _sigmas[i - 1] * _sigmas[i - 1]);\n                var poleAxis = _axisDirections[(i - 1) % _axisDirections.length];\n\n                this._blur(cubeUVRenderTarget, i - 1, i, sigma, poleAxis);\n            }\n\n            renderer.autoClear = autoClear;\n        }\n        /**\n         * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n         * vertically and horizontally, but this breaks down on a cube. Here we apply\n         * the blur latitudinally (around the poles), and then longitudinally (towards\n         * the poles) to approximate the orthogonally-separable blur. It is least\n         * accurate at the poles, but still does a decent job.\n         */\n        ;\n\n        _proto._blur = function _blur(cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis) {\n            var pingPongRenderTarget = this._pingPongRenderTarget;\n\n            this._halfBlur(cubeUVRenderTarget, pingPongRenderTarget, lodIn, lodOut, sigma, 'latitudinal', poleAxis);\n\n            this._halfBlur(pingPongRenderTarget, cubeUVRenderTarget, lodOut, lodOut, sigma, 'longitudinal', poleAxis);\n        };\n\n        _proto._halfBlur = function _halfBlur(targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis) {\n            var renderer = this._renderer;\n            var blurMaterial = this._blurMaterial;\n\n            if (direction !== 'latitudinal' && direction !== 'longitudinal') {\n                console.error('blur direction must be either latitudinal or longitudinal!');\n            } // Number of standard deviations at which to cut off the discrete approximation.\n\n\n            var STANDARD_DEVIATIONS = 3;\n            var blurMesh = new Mesh(_lodPlanes[lodOut], blurMaterial);\n            var blurUniforms = blurMaterial.uniforms;\n            var pixels = _sizeLods[lodIn] - 1;\n            var radiansPerPixel = isFinite(sigmaRadians) ? Math.PI / (2 * pixels) : 2 * Math.PI / (2 * MAX_SAMPLES - 1);\n            var sigmaPixels = sigmaRadians / radiansPerPixel;\n            var samples = isFinite(sigmaRadians) ? 1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels) : MAX_SAMPLES;\n\n            if (samples > MAX_SAMPLES) {\n                console.warn(\"sigmaRadians, \" + sigmaRadians + \", is too large and will clip, as it requested \" + samples + \" samples when the maximum is set to \" + MAX_SAMPLES);\n            }\n\n            var weights = [];\n            var sum = 0;\n\n            for (var i = 0; i < MAX_SAMPLES; ++i) {\n                var _x = i / sigmaPixels;\n\n                var weight = Math.exp(-_x * _x / 2);\n                weights.push(weight);\n\n                if (i == 0) {\n                    sum += weight;\n                } else if (i < samples) {\n                    sum += 2 * weight;\n                }\n            }\n\n            for (var _i = 0; _i < weights.length; _i++) {\n                weights[_i] = weights[_i] / sum;\n            }\n\n            blurUniforms['envMap'].value = targetIn.texture;\n            blurUniforms['samples'].value = samples;\n            blurUniforms['weights'].value = weights;\n            blurUniforms['latitudinal'].value = direction === 'latitudinal';\n\n            if (poleAxis) {\n                blurUniforms['poleAxis'].value = poleAxis;\n            }\n\n            blurUniforms['dTheta'].value = radiansPerPixel;\n            blurUniforms['mipInt'].value = LOD_MAX - lodIn;\n            blurUniforms['inputEncoding'].value = ENCODINGS[targetIn.texture.encoding];\n            blurUniforms['outputEncoding'].value = ENCODINGS[targetIn.texture.encoding];\n            var outputSize = _sizeLods[lodOut];\n            var x = 3 * Math.max(0, SIZE_MAX - 2 * outputSize);\n            var y = (lodOut === 0 ? 0 : 2 * SIZE_MAX) + 2 * outputSize * (lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0);\n\n            _setViewport(targetOut, x, y, 3 * outputSize, 2 * outputSize);\n\n            renderer.setRenderTarget(targetOut);\n            renderer.render(blurMesh, _flatCamera);\n        };\n\n        return PMREMGenerator;\n    }();\n\n    function _isLDR(texture) {\n        if (texture === undefined || texture.type !== UnsignedByteType) return false;\n        return texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n    }\n\n    function _createPlanes() {\n        var _lodPlanes = [];\n        var _sizeLods = [];\n        var _sigmas = [];\n        var lod = LOD_MAX;\n\n        for (var i = 0; i < TOTAL_LODS; i++) {\n            var sizeLod = Math.pow(2, lod);\n\n            _sizeLods.push(sizeLod);\n\n            var sigma = 1.0 / sizeLod;\n\n            if (i > LOD_MAX - LOD_MIN) {\n                sigma = EXTRA_LOD_SIGMA[i - LOD_MAX + LOD_MIN - 1];\n            } else if (i == 0) {\n                sigma = 0;\n            }\n\n            _sigmas.push(sigma);\n\n            var texelSize = 1.0 / (sizeLod - 1);\n            var min = -texelSize / 2;\n            var max = 1 + texelSize / 2;\n            var uv1 = [min, min, max, min, max, max, min, min, max, max, min, max];\n            var cubeFaces = 6;\n            var vertices = 6;\n            var positionSize = 3;\n            var uvSize = 2;\n            var faceIndexSize = 1;\n            var position = new Float32Array(positionSize * vertices * cubeFaces);\n            var uv = new Float32Array(uvSize * vertices * cubeFaces);\n            var faceIndex = new Float32Array(faceIndexSize * vertices * cubeFaces);\n\n            for (var face = 0; face < cubeFaces; face++) {\n                var x = face % 3 * 2 / 3 - 1;\n                var y = face > 2 ? 0 : -1;\n                var coordinates = [x, y, 0, x + 2 / 3, y, 0, x + 2 / 3, y + 1, 0, x, y, 0, x + 2 / 3, y + 1, 0, x, y + 1, 0];\n                position.set(coordinates, positionSize * vertices * face);\n                uv.set(uv1, uvSize * vertices * face);\n                var fill = [face, face, face, face, face, face];\n                faceIndex.set(fill, faceIndexSize * vertices * face);\n            }\n\n            var planes = new BufferGeometry();\n            planes.setAttribute('position', new BufferAttribute(position, positionSize));\n            planes.setAttribute('uv', new BufferAttribute(uv, uvSize));\n            planes.setAttribute('faceIndex', new BufferAttribute(faceIndex, faceIndexSize));\n\n            _lodPlanes.push(planes);\n\n            if (lod > LOD_MIN) {\n                lod--;\n            }\n        }\n\n        return {\n            _lodPlanes: _lodPlanes,\n            _sizeLods: _sizeLods,\n            _sigmas: _sigmas\n        };\n    }\n\n    function _createRenderTarget(params) {\n        var cubeUVRenderTarget = new WebGLRenderTarget(3 * SIZE_MAX, 3 * SIZE_MAX, params);\n        cubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n        cubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n        cubeUVRenderTarget.scissorTest = true;\n        return cubeUVRenderTarget;\n    }\n\n    function _setViewport(target, x, y, width, height) {\n        target.viewport.set(x, y, width, height);\n        target.scissor.set(x, y, width, height);\n    }\n\n    function _getBlurShader(maxSamples) {\n        var weights = new Float32Array(maxSamples);\n        var poleAxis = new Vector3(0, 1, 0);\n        var shaderMaterial = new RawShaderMaterial({\n            name: 'SphericalGaussianBlur',\n            defines: {\n                'n': maxSamples\n            },\n            uniforms: {\n                'envMap': {\n                    value: null\n                },\n                'samples': {\n                    value: 1\n                },\n                'weights': {\n                    value: weights\n                },\n                'latitudinal': {\n                    value: false\n                },\n                'dTheta': {\n                    value: 0\n                },\n                'mipInt': {\n                    value: 0\n                },\n                'poleAxis': {\n                    value: poleAxis\n                },\n                'inputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                },\n                'outputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                }\n            },\n            vertexShader: _getCommonVertexShader(),\n            fragmentShader:\n            /* glsl */\n            \"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform sampler2D envMap;\\n\\t\\t\\tuniform int samples;\\n\\t\\t\\tuniform float weights[ n ];\\n\\t\\t\\tuniform bool latitudinal;\\n\\t\\t\\tuniform float dTheta;\\n\\t\\t\\tuniform float mipInt;\\n\\t\\t\\tuniform vec3 poleAxis;\\n\\n\\t\\t\\t\" + _getEncodings() + \"\\n\\n\\t\\t\\t#define ENVMAP_TYPE_CUBE_UV\\n\\t\\t\\t#include <cube_uv_reflection_fragment>\\n\\n\\t\\t\\tvec3 getSample( float theta, vec3 axis ) {\\n\\n\\t\\t\\t\\tfloat cosTheta = cos( theta );\\n\\t\\t\\t\\t// Rodrigues' axis-angle rotation\\n\\t\\t\\t\\tvec3 sampleDirection = vOutputDirection * cosTheta\\n\\t\\t\\t\\t\\t+ cross( axis, vOutputDirection ) * sin( theta )\\n\\t\\t\\t\\t\\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\\n\\n\\t\\t\\t\\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\\n\\n\\t\\t\\t\\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\\n\\n\\t\\t\\t\\t\\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\taxis = normalize( axis );\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t\\t\\t\\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\\n\\n\\t\\t\\t\\tfor ( int i = 1; i < n; i++ ) {\\n\\n\\t\\t\\t\\t\\tif ( i >= samples ) {\\n\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfloat theta = dTheta * float( i );\\n\\t\\t\\t\\t\\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\\n\\t\\t\\t\\t\\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\",\n            blending: NoBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        return shaderMaterial;\n    }\n\n    function _getEquirectShader() {\n        var texelSize = new Vector2(1, 1);\n        var shaderMaterial = new RawShaderMaterial({\n            name: 'EquirectangularToCubeUV',\n            uniforms: {\n                'envMap': {\n                    value: null\n                },\n                'texelSize': {\n                    value: texelSize\n                },\n                'inputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                },\n                'outputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                }\n            },\n            vertexShader: _getCommonVertexShader(),\n            fragmentShader:\n            /* glsl */\n            \"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform sampler2D envMap;\\n\\t\\t\\tuniform vec2 texelSize;\\n\\n\\t\\t\\t\" + _getEncodings() + \"\\n\\n\\t\\t\\t#include <common>\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\n\\t\\t\\t\\tvec3 outputDirection = normalize( vOutputDirection );\\n\\t\\t\\t\\tvec2 uv = equirectUv( outputDirection );\\n\\n\\t\\t\\t\\tvec2 f = fract( uv / texelSize - 0.5 );\\n\\t\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\t\\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.x += texelSize.x;\\n\\t\\t\\t\\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.y += texelSize.y;\\n\\t\\t\\t\\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.x -= texelSize.x;\\n\\t\\t\\t\\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\n\\t\\t\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\t\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\t\\t\\tgl_FragColor.rgb = mix( tm, bm, f.y );\\n\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\",\n            blending: NoBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        return shaderMaterial;\n    }\n\n    function _getCubemapShader() {\n        var shaderMaterial = new RawShaderMaterial({\n            name: 'CubemapToCubeUV',\n            uniforms: {\n                'envMap': {\n                    value: null\n                },\n                'inputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                },\n                'outputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                }\n            },\n            vertexShader: _getCommonVertexShader(),\n            fragmentShader:\n            /* glsl */\n            \"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform samplerCube envMap;\\n\\n\\t\\t\\t\" + _getEncodings() + \"\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t\\t\\t\\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\",\n            blending: NoBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        return shaderMaterial;\n    }\n\n    function _getCommonVertexShader() {\n        return (\n            /* glsl */\n            \"\\n\\n\\t\\tprecision mediump float;\\n\\t\\tprecision mediump int;\\n\\n\\t\\tattribute vec3 position;\\n\\t\\tattribute vec2 uv;\\n\\t\\tattribute float faceIndex;\\n\\n\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t// RH coordinate system; PMREM face-indexing convention\\n\\t\\tvec3 getDirection( vec2 uv, float face ) {\\n\\n\\t\\t\\tuv = 2.0 * uv - 1.0;\\n\\n\\t\\t\\tvec3 direction = vec3( uv, 1.0 );\\n\\n\\t\\t\\tif ( face == 0.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx; // ( 1, v, u ) pos x\\n\\n\\t\\t\\t} else if ( face == 1.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\\n\\n\\t\\t\\t} else if ( face == 2.0 ) {\\n\\n\\t\\t\\t\\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\\n\\n\\t\\t\\t} else if ( face == 3.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\\n\\n\\t\\t\\t} else if ( face == 4.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\\n\\n\\t\\t\\t} else if ( face == 5.0 ) {\\n\\n\\t\\t\\t\\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn direction;\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvOutputDirection = getDirection( uv, faceIndex );\\n\\t\\t\\tgl_Position = vec4( position, 1.0 );\\n\\n\\t\\t}\\n\\t\"\n        );\n    }\n\n    function _getEncodings() {\n        return (\n            /* glsl */\n            \"\\n\\n\\t\\tuniform int inputEncoding;\\n\\t\\tuniform int outputEncoding;\\n\\n\\t\\t#include <encodings_pars_fragment>\\n\\n\\t\\tvec4 inputTexelToLinear( vec4 value ) {\\n\\n\\t\\t\\tif ( inputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( inputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn sRGBToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn RGBEToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 7.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 16.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn RGBDToLinear( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn GammaToLinear( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 linearToOutputTexel( vec4 value ) {\\n\\n\\t\\t\\tif ( outputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( outputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn LinearTosRGB( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBE( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 7.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 16.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBD( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn LinearToGamma( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 envMapTexelToLinear( vec4 color ) {\\n\\n\\t\\t\\treturn inputTexelToLinear( color );\\n\\n\\t\\t}\\n\\t\"\n        );\n    }\n\n    function Face4(a, b, c, d, normal, color, materialIndex) {\n        console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');\n        return new Face3(a, b, c, normal, color, materialIndex);\n    }\n    var LineStrip = 0;\n    var LinePieces = 1;\n    var NoColors = 0;\n    var FaceColors = 1;\n    var VertexColors = 2;\n    function MeshFaceMaterial(materials) {\n        console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');\n        return materials;\n    }\n    function MultiMaterial(materials) {\n        if (materials === undefined) materials = [];\n        console.warn('THREE.MultiMaterial has been removed. Use an Array instead.');\n        materials.isMultiMaterial = true;\n        materials.materials = materials;\n\n        materials.clone = function () {\n            return materials.slice();\n        };\n\n        return materials;\n    }\n    function PointCloud(geometry, material) {\n        console.warn('THREE.PointCloud has been renamed to THREE.Points.');\n        return new Points(geometry, material);\n    }\n    function Particle(material) {\n        console.warn('THREE.Particle has been renamed to THREE.Sprite.');\n        return new Sprite(material);\n    }\n    function ParticleSystem(geometry, material) {\n        console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');\n        return new Points(geometry, material);\n    }\n    function PointCloudMaterial(parameters) {\n        console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');\n        return new PointsMaterial(parameters);\n    }\n    function ParticleBasicMaterial(parameters) {\n        console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');\n        return new PointsMaterial(parameters);\n    }\n    function ParticleSystemMaterial(parameters) {\n        console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');\n        return new PointsMaterial(parameters);\n    }\n    function Vertex(x, y, z) {\n        console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');\n        return new Vector3(x, y, z);\n    } //\n\n    function DynamicBufferAttribute(array, itemSize) {\n        console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.');\n        return new BufferAttribute(array, itemSize).setUsage(DynamicDrawUsage);\n    }\n    function Int8Attribute(array, itemSize) {\n        console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');\n        return new Int8BufferAttribute(array, itemSize);\n    }\n    function Uint8Attribute(array, itemSize) {\n        console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');\n        return new Uint8BufferAttribute(array, itemSize);\n    }\n    function Uint8ClampedAttribute(array, itemSize) {\n        console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');\n        return new Uint8ClampedBufferAttribute(array, itemSize);\n    }\n    function Int16Attribute(array, itemSize) {\n        console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');\n        return new Int16BufferAttribute(array, itemSize);\n    }\n    function Uint16Attribute(array, itemSize) {\n        console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');\n        return new Uint16BufferAttribute(array, itemSize);\n    }\n    function Int32Attribute(array, itemSize) {\n        console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');\n        return new Int32BufferAttribute(array, itemSize);\n    }\n    function Uint32Attribute(array, itemSize) {\n        console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');\n        return new Uint32BufferAttribute(array, itemSize);\n    }\n    function Float32Attribute(array, itemSize) {\n        console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');\n        return new Float32BufferAttribute(array, itemSize);\n    }\n    function Float64Attribute(array, itemSize) {\n        console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');\n        return new Float64BufferAttribute(array, itemSize);\n    } //\n\n    Curve.create = function (construct, getPoint) {\n        console.log('THREE.Curve.create() has been deprecated');\n        construct.prototype = Object.create(Curve.prototype);\n        construct.prototype.constructor = construct;\n        construct.prototype.getPoint = getPoint;\n        return construct;\n    }; //\n\n\n    Object.assign(CurvePath.prototype, {\n        createPointsGeometry: function createPointsGeometry(divisions) {\n            console.warn('THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.'); // generate geometry from path points (for Line or Points objects)\n\n            var pts = this.getPoints(divisions);\n            return this.createGeometry(pts);\n        },\n        createSpacedPointsGeometry: function createSpacedPointsGeometry(divisions) {\n            console.warn('THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.'); // generate geometry from equidistant sampling along the path\n\n            var pts = this.getSpacedPoints(divisions);\n            return this.createGeometry(pts);\n        },\n        createGeometry: function createGeometry(points) {\n            console.warn('THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');\n            var geometry = new Geometry();\n\n            for (var i = 0, l = points.length; i < l; i++) {\n                var point = points[i];\n                geometry.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n            }\n\n            return geometry;\n        }\n    }); //\n\n    Object.assign(Path.prototype, {\n        fromPoints: function fromPoints(points) {\n            console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().');\n            return this.setFromPoints(points);\n        }\n    }); //\n\n    function ClosedSplineCurve3(points) {\n        console.warn('THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');\n        CatmullRomCurve3.call(this, points);\n        this.type = 'catmullrom';\n        this.closed = true;\n    }\n    ClosedSplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype); //\n\n    function SplineCurve3(points) {\n        console.warn('THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');\n        CatmullRomCurve3.call(this, points);\n        this.type = 'catmullrom';\n    }\n    SplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype); //\n\n    function Spline(points) {\n        console.warn('THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.');\n        CatmullRomCurve3.call(this, points);\n        this.type = 'catmullrom';\n    }\n    Spline.prototype = Object.create(CatmullRomCurve3.prototype);\n    Object.assign(Spline.prototype, {\n        initFromArray: function initFromArray()\n            /* a */\n        {\n            console.error('THREE.Spline: .initFromArray() has been removed.');\n        },\n        getControlPointsArray: function getControlPointsArray()\n            /* optionalTarget */\n        {\n            console.error('THREE.Spline: .getControlPointsArray() has been removed.');\n        },\n        reparametrizeByArcLength: function reparametrizeByArcLength()\n            /* samplingCoef */\n        {\n            console.error('THREE.Spline: .reparametrizeByArcLength() has been removed.');\n        }\n    }); //\n\n    function AxisHelper(size) {\n        console.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.');\n        return new AxesHelper(size);\n    }\n    function BoundingBoxHelper(object, color) {\n        console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');\n        return new BoxHelper(object, color);\n    }\n    function EdgesHelper(object, hex) {\n        console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');\n        return new LineSegments(new EdgesGeometry(object.geometry), new LineBasicMaterial({\n            color: hex !== undefined ? hex : 0xffffff\n        }));\n    }\n\n    GridHelper.prototype.setColors = function () {\n        console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');\n    };\n\n    SkeletonHelper.prototype.update = function () {\n        console.error('THREE.SkeletonHelper: update() no longer needs to be called.');\n    };\n\n    function WireframeHelper(object, hex) {\n        console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');\n        return new LineSegments(new WireframeGeometry(object.geometry), new LineBasicMaterial({\n            color: hex !== undefined ? hex : 0xffffff\n        }));\n    } //\n\n    Object.assign(Loader.prototype, {\n        extractUrlBase: function extractUrlBase(url) {\n            console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.');\n            return LoaderUtils.extractUrlBase(url);\n        }\n    });\n    Loader.Handlers = {\n        add: function add()\n            /* regex, loader */\n        {\n            console.error('THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.');\n        },\n        get: function get()\n            /* file */\n        {\n            console.error('THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.');\n        }\n    };\n    function XHRLoader(manager) {\n        console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');\n        return new FileLoader(manager);\n    }\n    function BinaryTextureLoader(manager) {\n        console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');\n        return new DataTextureLoader(manager);\n    } //\n\n    Object.assign(Box2.prototype, {\n        center: function center(optionalTarget) {\n            console.warn('THREE.Box2: .center() has been renamed to .getCenter().');\n            return this.getCenter(optionalTarget);\n        },\n        empty: function empty() {\n            console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');\n            return this.isEmpty();\n        },\n        isIntersectionBox: function isIntersectionBox(box) {\n            console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');\n            return this.intersectsBox(box);\n        },\n        size: function size(optionalTarget) {\n            console.warn('THREE.Box2: .size() has been renamed to .getSize().');\n            return this.getSize(optionalTarget);\n        }\n    });\n    Object.assign(Box3.prototype, {\n        center: function center(optionalTarget) {\n            console.warn('THREE.Box3: .center() has been renamed to .getCenter().');\n            return this.getCenter(optionalTarget);\n        },\n        empty: function empty() {\n            console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');\n            return this.isEmpty();\n        },\n        isIntersectionBox: function isIntersectionBox(box) {\n            console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');\n            return this.intersectsBox(box);\n        },\n        isIntersectionSphere: function isIntersectionSphere(sphere) {\n            console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n            return this.intersectsSphere(sphere);\n        },\n        size: function size(optionalTarget) {\n            console.warn('THREE.Box3: .size() has been renamed to .getSize().');\n            return this.getSize(optionalTarget);\n        }\n    });\n    Object.assign(Sphere.prototype, {\n        empty: function empty() {\n            console.warn('THREE.Sphere: .empty() has been renamed to .isEmpty().');\n            return this.isEmpty();\n        }\n    });\n\n    Frustum.prototype.setFromMatrix = function (m) {\n        console.warn('THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().');\n        return this.setFromProjectionMatrix(m);\n    };\n\n    Line3.prototype.center = function (optionalTarget) {\n        console.warn('THREE.Line3: .center() has been renamed to .getCenter().');\n        return this.getCenter(optionalTarget);\n    };\n\n    Object.assign(MathUtils, {\n        random16: function random16() {\n            console.warn('THREE.Math: .random16() has been deprecated. Use Math.random() instead.');\n            return Math.random();\n        },\n        nearestPowerOfTwo: function nearestPowerOfTwo(value) {\n            console.warn('THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().');\n            return MathUtils.floorPowerOfTwo(value);\n        },\n        nextPowerOfTwo: function nextPowerOfTwo(value) {\n            console.warn('THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().');\n            return MathUtils.ceilPowerOfTwo(value);\n        }\n    });\n    Object.assign(Matrix3.prototype, {\n        flattenToArrayOffset: function flattenToArrayOffset(array, offset) {\n            console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\");\n            return this.toArray(array, offset);\n        },\n        multiplyVector3: function multiplyVector3(vector) {\n            console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');\n            return vector.applyMatrix3(this);\n        },\n        multiplyVector3Array: function multiplyVector3Array()\n            /* a */\n        {\n            console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');\n        },\n        applyToBufferAttribute: function applyToBufferAttribute(attribute) {\n            console.warn('THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.');\n            return attribute.applyMatrix3(this);\n        },\n        applyToVector3Array: function applyToVector3Array()\n            /* array, offset, length */\n        {\n            console.error('THREE.Matrix3: .applyToVector3Array() has been removed.');\n        }\n    });\n    Object.assign(Matrix4.prototype, {\n        extractPosition: function extractPosition(m) {\n            console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');\n            return this.copyPosition(m);\n        },\n        flattenToArrayOffset: function flattenToArrayOffset(array, offset) {\n            console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\");\n            return this.toArray(array, offset);\n        },\n        getPosition: function getPosition() {\n            console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');\n            return new Vector3().setFromMatrixColumn(this, 3);\n        },\n        setRotationFromQuaternion: function setRotationFromQuaternion(q) {\n            console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');\n            return this.makeRotationFromQuaternion(q);\n        },\n        multiplyToArray: function multiplyToArray() {\n            console.warn('THREE.Matrix4: .multiplyToArray() has been removed.');\n        },\n        multiplyVector3: function multiplyVector3(vector) {\n            console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n            return vector.applyMatrix4(this);\n        },\n        multiplyVector4: function multiplyVector4(vector) {\n            console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n            return vector.applyMatrix4(this);\n        },\n        multiplyVector3Array: function multiplyVector3Array()\n            /* a */\n        {\n            console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');\n        },\n        rotateAxis: function rotateAxis(v) {\n            console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');\n            v.transformDirection(this);\n        },\n        crossVector: function crossVector(vector) {\n            console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n            return vector.applyMatrix4(this);\n        },\n        translate: function translate() {\n            console.error('THREE.Matrix4: .translate() has been removed.');\n        },\n        rotateX: function rotateX() {\n            console.error('THREE.Matrix4: .rotateX() has been removed.');\n        },\n        rotateY: function rotateY() {\n            console.error('THREE.Matrix4: .rotateY() has been removed.');\n        },\n        rotateZ: function rotateZ() {\n            console.error('THREE.Matrix4: .rotateZ() has been removed.');\n        },\n        rotateByAxis: function rotateByAxis() {\n            console.error('THREE.Matrix4: .rotateByAxis() has been removed.');\n        },\n        applyToBufferAttribute: function applyToBufferAttribute(attribute) {\n            console.warn('THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.');\n            return attribute.applyMatrix4(this);\n        },\n        applyToVector3Array: function applyToVector3Array()\n            /* array, offset, length */\n        {\n            console.error('THREE.Matrix4: .applyToVector3Array() has been removed.');\n        },\n        makeFrustum: function makeFrustum(left, right, bottom, top, near, far) {\n            console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');\n            return this.makePerspective(left, right, top, bottom, near, far);\n        }\n    });\n\n    Plane.prototype.isIntersectionLine = function (line) {\n        console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');\n        return this.intersectsLine(line);\n    };\n\n    Quaternion.prototype.multiplyVector3 = function (vector) {\n        console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');\n        return vector.applyQuaternion(this);\n    };\n\n    Object.assign(Ray.prototype, {\n        isIntersectionBox: function isIntersectionBox(box) {\n            console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');\n            return this.intersectsBox(box);\n        },\n        isIntersectionPlane: function isIntersectionPlane(plane) {\n            console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');\n            return this.intersectsPlane(plane);\n        },\n        isIntersectionSphere: function isIntersectionSphere(sphere) {\n            console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n            return this.intersectsSphere(sphere);\n        }\n    });\n    Object.assign(Triangle.prototype, {\n        area: function area() {\n            console.warn('THREE.Triangle: .area() has been renamed to .getArea().');\n            return this.getArea();\n        },\n        barycoordFromPoint: function barycoordFromPoint(point, target) {\n            console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n            return this.getBarycoord(point, target);\n        },\n        midpoint: function midpoint(target) {\n            console.warn('THREE.Triangle: .midpoint() has been renamed to .getMidpoint().');\n            return this.getMidpoint(target);\n        },\n        normal: function normal(target) {\n            console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n            return this.getNormal(target);\n        },\n        plane: function plane(target) {\n            console.warn('THREE.Triangle: .plane() has been renamed to .getPlane().');\n            return this.getPlane(target);\n        }\n    });\n    Object.assign(Triangle, {\n        barycoordFromPoint: function barycoordFromPoint(point, a, b, c, target) {\n            console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n            return Triangle.getBarycoord(point, a, b, c, target);\n        },\n        normal: function normal(a, b, c, target) {\n            console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n            return Triangle.getNormal(a, b, c, target);\n        }\n    });\n    Object.assign(Shape.prototype, {\n        extractAllPoints: function extractAllPoints(divisions) {\n            console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.');\n            return this.extractPoints(divisions);\n        },\n        extrude: function extrude(options) {\n            console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');\n            return new ExtrudeGeometry(this, options);\n        },\n        makeGeometry: function makeGeometry(options) {\n            console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');\n            return new ShapeGeometry(this, options);\n        }\n    });\n    Object.assign(Vector2.prototype, {\n        fromAttribute: function fromAttribute(attribute, index, offset) {\n            console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');\n            return this.fromBufferAttribute(attribute, index, offset);\n        },\n        distanceToManhattan: function distanceToManhattan(v) {\n            console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n            return this.manhattanDistanceTo(v);\n        },\n        lengthManhattan: function lengthManhattan() {\n            console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().');\n            return this.manhattanLength();\n        }\n    });\n    Object.assign(Vector3.prototype, {\n        setEulerFromRotationMatrix: function setEulerFromRotationMatrix() {\n            console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');\n        },\n        setEulerFromQuaternion: function setEulerFromQuaternion() {\n            console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');\n        },\n        getPositionFromMatrix: function getPositionFromMatrix(m) {\n            console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');\n            return this.setFromMatrixPosition(m);\n        },\n        getScaleFromMatrix: function getScaleFromMatrix(m) {\n            console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');\n            return this.setFromMatrixScale(m);\n        },\n        getColumnFromMatrix: function getColumnFromMatrix(index, matrix) {\n            console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');\n            return this.setFromMatrixColumn(matrix, index);\n        },\n        applyProjection: function applyProjection(m) {\n            console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');\n            return this.applyMatrix4(m);\n        },\n        fromAttribute: function fromAttribute(attribute, index, offset) {\n            console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');\n            return this.fromBufferAttribute(attribute, index, offset);\n        },\n        distanceToManhattan: function distanceToManhattan(v) {\n            console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n            return this.manhattanDistanceTo(v);\n        },\n        lengthManhattan: function lengthManhattan() {\n            console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().');\n            return this.manhattanLength();\n        }\n    });\n    Object.assign(Vector4.prototype, {\n        fromAttribute: function fromAttribute(attribute, index, offset) {\n            console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');\n            return this.fromBufferAttribute(attribute, index, offset);\n        },\n        lengthManhattan: function lengthManhattan() {\n            console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().');\n            return this.manhattanLength();\n        }\n    }); //\n\n    Object.assign(Geometry.prototype, {\n        computeTangents: function computeTangents() {\n            console.error('THREE.Geometry: .computeTangents() has been removed.');\n        },\n        computeLineDistances: function computeLineDistances() {\n            console.error('THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.');\n        },\n        applyMatrix: function applyMatrix(matrix) {\n            console.warn('THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().');\n            return this.applyMatrix4(matrix);\n        }\n    });\n    Object.assign(Object3D.prototype, {\n        getChildByName: function getChildByName(name) {\n            console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');\n            return this.getObjectByName(name);\n        },\n        renderDepth: function renderDepth() {\n            console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');\n        },\n        translate: function translate(distance, axis) {\n            console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');\n            return this.translateOnAxis(axis, distance);\n        },\n        getWorldRotation: function getWorldRotation() {\n            console.error('THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.');\n        },\n        applyMatrix: function applyMatrix(matrix) {\n            console.warn('THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().');\n            return this.applyMatrix4(matrix);\n        }\n    });\n    Object.defineProperties(Object3D.prototype, {\n        eulerOrder: {\n            get: function get() {\n                console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n                return this.rotation.order;\n            },\n            set: function set(value) {\n                console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n                this.rotation.order = value;\n            }\n        },\n        useQuaternion: {\n            get: function get() {\n                console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n            },\n            set: function set() {\n                console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n            }\n        }\n    });\n    Object.assign(Mesh.prototype, {\n        setDrawMode: function setDrawMode() {\n            console.error('THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n        }\n    });\n    Object.defineProperties(Mesh.prototype, {\n        drawMode: {\n            get: function get() {\n                console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.');\n                return TrianglesDrawMode;\n            },\n            set: function set() {\n                console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n            }\n        }\n    });\n    Object.defineProperties(LOD.prototype, {\n        objects: {\n            get: function get() {\n                console.warn('THREE.LOD: .objects has been renamed to .levels.');\n                return this.levels;\n            }\n        }\n    });\n    Object.defineProperty(Skeleton.prototype, 'useVertexTexture', {\n        get: function get() {\n            console.warn('THREE.Skeleton: useVertexTexture has been removed.');\n        },\n        set: function set() {\n            console.warn('THREE.Skeleton: useVertexTexture has been removed.');\n        }\n    });\n\n    SkinnedMesh.prototype.initBones = function () {\n        console.error('THREE.SkinnedMesh: initBones() has been removed.');\n    };\n\n    Object.defineProperty(Curve.prototype, '__arcLengthDivisions', {\n        get: function get() {\n            console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');\n            return this.arcLengthDivisions;\n        },\n        set: function set(value) {\n            console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');\n            this.arcLengthDivisions = value;\n        }\n    }); //\n\n    PerspectiveCamera.prototype.setLens = function (focalLength, filmGauge) {\n        console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. \" + \"Use .setFocalLength and .filmGauge for a photographic setup.\");\n        if (filmGauge !== undefined) this.filmGauge = filmGauge;\n        this.setFocalLength(focalLength);\n    }; //\n\n\n    Object.defineProperties(Light.prototype, {\n        onlyShadow: {\n            set: function set() {\n                console.warn('THREE.Light: .onlyShadow has been removed.');\n            }\n        },\n        shadowCameraFov: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');\n                this.shadow.camera.fov = value;\n            }\n        },\n        shadowCameraLeft: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');\n                this.shadow.camera.left = value;\n            }\n        },\n        shadowCameraRight: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');\n                this.shadow.camera.right = value;\n            }\n        },\n        shadowCameraTop: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');\n                this.shadow.camera.top = value;\n            }\n        },\n        shadowCameraBottom: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');\n                this.shadow.camera.bottom = value;\n            }\n        },\n        shadowCameraNear: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');\n                this.shadow.camera.near = value;\n            }\n        },\n        shadowCameraFar: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');\n                this.shadow.camera.far = value;\n            }\n        },\n        shadowCameraVisible: {\n            set: function set() {\n                console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');\n            }\n        },\n        shadowBias: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowBias is now .shadow.bias.');\n                this.shadow.bias = value;\n            }\n        },\n        shadowDarkness: {\n            set: function set() {\n                console.warn('THREE.Light: .shadowDarkness has been removed.');\n            }\n        },\n        shadowMapWidth: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');\n                this.shadow.mapSize.width = value;\n            }\n        },\n        shadowMapHeight: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');\n                this.shadow.mapSize.height = value;\n            }\n        }\n    }); //\n\n    Object.defineProperties(BufferAttribute.prototype, {\n        length: {\n            get: function get() {\n                console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');\n                return this.array.length;\n            }\n        },\n        dynamic: {\n            get: function get() {\n                console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n                return this.usage === DynamicDrawUsage;\n            },\n            set: function set()\n                /* value */\n            {\n                console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n                this.setUsage(DynamicDrawUsage);\n            }\n        }\n    });\n    Object.assign(BufferAttribute.prototype, {\n        setDynamic: function setDynamic(value) {\n            console.warn('THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.');\n            this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n            return this;\n        },\n        copyIndicesArray: function copyIndicesArray()\n            /* indices */\n        {\n            console.error('THREE.BufferAttribute: .copyIndicesArray() has been removed.');\n        },\n        setArray: function setArray()\n            /* array */\n        {\n            console.error('THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n        }\n    });\n    Object.assign(BufferGeometry.prototype, {\n        addIndex: function addIndex(index) {\n            console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');\n            this.setIndex(index);\n        },\n        addAttribute: function addAttribute(name, attribute) {\n            console.warn('THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().');\n\n            if (!(attribute && attribute.isBufferAttribute) && !(attribute && attribute.isInterleavedBufferAttribute)) {\n                console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');\n                return this.setAttribute(name, new BufferAttribute(arguments[1], arguments[2]));\n            }\n\n            if (name === 'index') {\n                console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');\n                this.setIndex(attribute);\n                return this;\n            }\n\n            return this.setAttribute(name, attribute);\n        },\n        addDrawCall: function addDrawCall(start, count, indexOffset) {\n            if (indexOffset !== undefined) {\n                console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');\n            }\n\n            console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');\n            this.addGroup(start, count);\n        },\n        clearDrawCalls: function clearDrawCalls() {\n            console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');\n            this.clearGroups();\n        },\n        computeTangents: function computeTangents() {\n            console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');\n        },\n        computeOffsets: function computeOffsets() {\n            console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');\n        },\n        removeAttribute: function removeAttribute(name) {\n            console.warn('THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().');\n            return this.deleteAttribute(name);\n        },\n        applyMatrix: function applyMatrix(matrix) {\n            console.warn('THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().');\n            return this.applyMatrix4(matrix);\n        }\n    });\n    Object.defineProperties(BufferGeometry.prototype, {\n        drawcalls: {\n            get: function get() {\n                console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');\n                return this.groups;\n            }\n        },\n        offsets: {\n            get: function get() {\n                console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');\n                return this.groups;\n            }\n        }\n    });\n    Object.defineProperties(InstancedBufferGeometry.prototype, {\n        maxInstancedCount: {\n            get: function get() {\n                console.warn('THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.');\n                return this.instanceCount;\n            },\n            set: function set(value) {\n                console.warn('THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.');\n                this.instanceCount = value;\n            }\n        }\n    });\n    Object.defineProperties(Raycaster.prototype, {\n        linePrecision: {\n            get: function get() {\n                console.warn('THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.');\n                return this.params.Line.threshold;\n            },\n            set: function set(value) {\n                console.warn('THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.');\n                this.params.Line.threshold = value;\n            }\n        }\n    });\n    Object.defineProperties(InterleavedBuffer.prototype, {\n        dynamic: {\n            get: function get() {\n                console.warn('THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.');\n                return this.usage === DynamicDrawUsage;\n            },\n            set: function set(value) {\n                console.warn('THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.');\n                this.setUsage(value);\n            }\n        }\n    });\n    Object.assign(InterleavedBuffer.prototype, {\n        setDynamic: function setDynamic(value) {\n            console.warn('THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.');\n            this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n            return this;\n        },\n        setArray: function setArray()\n            /* array */\n        {\n            console.error('THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n        }\n    }); //\n\n    Object.assign(ExtrudeBufferGeometry.prototype, {\n        getArrays: function getArrays() {\n            console.error('THREE.ExtrudeBufferGeometry: .getArrays() has been removed.');\n        },\n        addShapeList: function addShapeList() {\n            console.error('THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.');\n        },\n        addShape: function addShape() {\n            console.error('THREE.ExtrudeBufferGeometry: .addShape() has been removed.');\n        }\n    }); //\n\n    Object.assign(Scene.prototype, {\n        dispose: function dispose() {\n            console.error('THREE.Scene: .dispose() has been removed.');\n        }\n    }); //\n\n    Object.defineProperties(Uniform.prototype, {\n        dynamic: {\n            set: function set() {\n                console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.');\n            }\n        },\n        onUpdate: {\n            value: function value() {\n                console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');\n                return this;\n            }\n        }\n    }); //\n\n    Object.defineProperties(Material.prototype, {\n        wrapAround: {\n            get: function get() {\n                console.warn('THREE.Material: .wrapAround has been removed.');\n            },\n            set: function set() {\n                console.warn('THREE.Material: .wrapAround has been removed.');\n            }\n        },\n        overdraw: {\n            get: function get() {\n                console.warn('THREE.Material: .overdraw has been removed.');\n            },\n            set: function set() {\n                console.warn('THREE.Material: .overdraw has been removed.');\n            }\n        },\n        wrapRGB: {\n            get: function get() {\n                console.warn('THREE.Material: .wrapRGB has been removed.');\n                return new Color();\n            }\n        },\n        shading: {\n            get: function get() {\n                console.error('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n            },\n            set: function set(value) {\n                console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n                this.flatShading = value === FlatShading;\n            }\n        },\n        stencilMask: {\n            get: function get() {\n                console.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n                return this.stencilFuncMask;\n            },\n            set: function set(value) {\n                console.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n                this.stencilFuncMask = value;\n            }\n        }\n    });\n    Object.defineProperties(MeshPhongMaterial.prototype, {\n        metal: {\n            get: function get() {\n                console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');\n                return false;\n            },\n            set: function set() {\n                console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');\n            }\n        }\n    });\n    Object.defineProperties(MeshPhysicalMaterial.prototype, {\n        transparency: {\n            get: function get() {\n                console.warn('THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.');\n                return this.transmission;\n            },\n            set: function set(value) {\n                console.warn('THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.');\n                this.transmission = value;\n            }\n        }\n    });\n    Object.defineProperties(ShaderMaterial.prototype, {\n        derivatives: {\n            get: function get() {\n                console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n                return this.extensions.derivatives;\n            },\n            set: function set(value) {\n                console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n                this.extensions.derivatives = value;\n            }\n        }\n    }); //\n\n    Object.assign(WebGLRenderer.prototype, {\n        clearTarget: function clearTarget(renderTarget, color, depth, stencil) {\n            console.warn('THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.');\n            this.setRenderTarget(renderTarget);\n            this.clear(color, depth, stencil);\n        },\n        animate: function animate(callback) {\n            console.warn('THREE.WebGLRenderer: .animate() is now .setAnimationLoop().');\n            this.setAnimationLoop(callback);\n        },\n        getCurrentRenderTarget: function getCurrentRenderTarget() {\n            console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');\n            return this.getRenderTarget();\n        },\n        getMaxAnisotropy: function getMaxAnisotropy() {\n            console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');\n            return this.capabilities.getMaxAnisotropy();\n        },\n        getPrecision: function getPrecision() {\n            console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');\n            return this.capabilities.precision;\n        },\n        resetGLState: function resetGLState() {\n            console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().');\n            return this.state.reset();\n        },\n        supportsFloatTextures: function supportsFloatTextures() {\n            console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).');\n            return this.extensions.get('OES_texture_float');\n        },\n        supportsHalfFloatTextures: function supportsHalfFloatTextures() {\n            console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).');\n            return this.extensions.get('OES_texture_half_float');\n        },\n        supportsStandardDerivatives: function supportsStandardDerivatives() {\n            console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).');\n            return this.extensions.get('OES_standard_derivatives');\n        },\n        supportsCompressedTextureS3TC: function supportsCompressedTextureS3TC() {\n            console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).');\n            return this.extensions.get('WEBGL_compressed_texture_s3tc');\n        },\n        supportsCompressedTexturePVRTC: function supportsCompressedTexturePVRTC() {\n            console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).');\n            return this.extensions.get('WEBGL_compressed_texture_pvrtc');\n        },\n        supportsBlendMinMax: function supportsBlendMinMax() {\n            console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).');\n            return this.extensions.get('EXT_blend_minmax');\n        },\n        supportsVertexTextures: function supportsVertexTextures() {\n            console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');\n            return this.capabilities.vertexTextures;\n        },\n        supportsInstancedArrays: function supportsInstancedArrays() {\n            console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).');\n            return this.extensions.get('ANGLE_instanced_arrays');\n        },\n        enableScissorTest: function enableScissorTest(boolean) {\n            console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');\n            this.setScissorTest(boolean);\n        },\n        initMaterial: function initMaterial() {\n            console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');\n        },\n        addPrePlugin: function addPrePlugin() {\n            console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');\n        },\n        addPostPlugin: function addPostPlugin() {\n            console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');\n        },\n        updateShadowMap: function updateShadowMap() {\n            console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');\n        },\n        setFaceCulling: function setFaceCulling() {\n            console.warn('THREE.WebGLRenderer: .setFaceCulling() has been removed.');\n        },\n        allocTextureUnit: function allocTextureUnit() {\n            console.warn('THREE.WebGLRenderer: .allocTextureUnit() has been removed.');\n        },\n        setTexture: function setTexture() {\n            console.warn('THREE.WebGLRenderer: .setTexture() has been removed.');\n        },\n        setTexture2D: function setTexture2D() {\n            console.warn('THREE.WebGLRenderer: .setTexture2D() has been removed.');\n        },\n        setTextureCube: function setTextureCube() {\n            console.warn('THREE.WebGLRenderer: .setTextureCube() has been removed.');\n        },\n        getActiveMipMapLevel: function getActiveMipMapLevel() {\n            console.warn('THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().');\n            return this.getActiveMipmapLevel();\n        }\n    });\n    Object.defineProperties(WebGLRenderer.prototype, {\n        shadowMapEnabled: {\n            get: function get() {\n                return this.shadowMap.enabled;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');\n                this.shadowMap.enabled = value;\n            }\n        },\n        shadowMapType: {\n            get: function get() {\n                return this.shadowMap.type;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');\n                this.shadowMap.type = value;\n            }\n        },\n        shadowMapCullFace: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n                return undefined;\n            },\n            set: function set()\n                /* value */\n            {\n                console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n            }\n        },\n        context: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.');\n                return this.getContext();\n            }\n        },\n        vr: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .vr has been renamed to .xr');\n                return this.xr;\n            }\n        },\n        gammaInput: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n                return false;\n            },\n            set: function set() {\n                console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n            }\n        },\n        gammaOutput: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n                return false;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n                this.outputEncoding = value === true ? sRGBEncoding : LinearEncoding;\n            }\n        },\n        toneMappingWhitePoint: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');\n                return 1.0;\n            },\n            set: function set() {\n                console.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');\n            }\n        }\n    });\n    Object.defineProperties(WebGLShadowMap.prototype, {\n        cullFace: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n                return undefined;\n            },\n            set: function set()\n                /* cullFace */\n            {\n                console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n            }\n        },\n        renderReverseSided: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n                return undefined;\n            },\n            set: function set() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n            }\n        },\n        renderSingleSided: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n                return undefined;\n            },\n            set: function set() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n            }\n        }\n    });\n    function WebGLRenderTargetCube(width, height, options) {\n        console.warn('THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).');\n        return new WebGLCubeRenderTarget(width, options);\n    } //\n\n    Object.defineProperties(WebGLRenderTarget.prototype, {\n        wrapS: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n                return this.texture.wrapS;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n                this.texture.wrapS = value;\n            }\n        },\n        wrapT: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n                return this.texture.wrapT;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n                this.texture.wrapT = value;\n            }\n        },\n        magFilter: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n                return this.texture.magFilter;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n                this.texture.magFilter = value;\n            }\n        },\n        minFilter: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n                return this.texture.minFilter;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n                this.texture.minFilter = value;\n            }\n        },\n        anisotropy: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n                return this.texture.anisotropy;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n                this.texture.anisotropy = value;\n            }\n        },\n        offset: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n                return this.texture.offset;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n                this.texture.offset = value;\n            }\n        },\n        repeat: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n                return this.texture.repeat;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n                this.texture.repeat = value;\n            }\n        },\n        format: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n                return this.texture.format;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n                this.texture.format = value;\n            }\n        },\n        type: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n                return this.texture.type;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n                this.texture.type = value;\n            }\n        },\n        generateMipmaps: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n                return this.texture.generateMipmaps;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n                this.texture.generateMipmaps = value;\n            }\n        }\n    }); //\n\n    Object.defineProperties(Audio.prototype, {\n        load: {\n            value: function value(file) {\n                console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');\n                var scope = this;\n                var audioLoader = new AudioLoader();\n                audioLoader.load(file, function (buffer) {\n                    scope.setBuffer(buffer);\n                });\n                return this;\n            }\n        },\n        startTime: {\n            set: function set() {\n                console.warn('THREE.Audio: .startTime is now .play( delay ).');\n            }\n        }\n    });\n\n    AudioAnalyser.prototype.getData = function () {\n        console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');\n        return this.getFrequencyData();\n    }; //\n\n\n    CubeCamera.prototype.updateCubeMap = function (renderer, scene) {\n        console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');\n        return this.update(renderer, scene);\n    }; //\n\n\n    var GeometryUtils = {\n        merge: function merge(geometry1, geometry2, materialIndexOffset) {\n            console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');\n            var matrix;\n\n            if (geometry2.isMesh) {\n                geometry2.matrixAutoUpdate && geometry2.updateMatrix();\n                matrix = geometry2.matrix;\n                geometry2 = geometry2.geometry;\n            }\n\n            geometry1.merge(geometry2, matrix, materialIndexOffset);\n        },\n        center: function center(geometry) {\n            console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');\n            return geometry.center();\n        }\n    };\n    ImageUtils.crossOrigin = undefined;\n\n    ImageUtils.loadTexture = function (url, mapping, onLoad, onError) {\n        console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');\n        var loader = new TextureLoader();\n        loader.setCrossOrigin(this.crossOrigin);\n        var texture = loader.load(url, onLoad, undefined, onError);\n        if (mapping) texture.mapping = mapping;\n        return texture;\n    };\n\n    ImageUtils.loadTextureCube = function (urls, mapping, onLoad, onError) {\n        console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');\n        var loader = new CubeTextureLoader();\n        loader.setCrossOrigin(this.crossOrigin);\n        var texture = loader.load(urls, onLoad, undefined, onError);\n        if (mapping) texture.mapping = mapping;\n        return texture;\n    };\n\n    ImageUtils.loadCompressedTexture = function () {\n        console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');\n    };\n\n    ImageUtils.loadCompressedTextureCube = function () {\n        console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');\n    }; //\n\n\n    function CanvasRenderer() {\n        console.error('THREE.CanvasRenderer has been removed');\n    } //\n\n    function JSONLoader() {\n        console.error('THREE.JSONLoader has been removed.');\n    } //\n\n    var SceneUtils = {\n        createMultiMaterialObject: function createMultiMaterialObject()\n            /* geometry, materials */\n        {\n            console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n        },\n        detach: function detach()\n            /* child, parent, scene */\n        {\n            console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n        },\n        attach: function attach()\n            /* child, scene, parent */\n        {\n            console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n        }\n    }; //\n\n    function LensFlare() {\n        console.error('THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js');\n    }\n\n    if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n        /* eslint-disable no-undef */\n        __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register', {\n            detail: {\n                revision: REVISION\n            }\n        }));\n        /* eslint-enable no-undef */\n\n    }\n\n    exports.ACESFilmicToneMapping = ACESFilmicToneMapping;\n    exports.AddEquation = AddEquation;\n    exports.AddOperation = AddOperation;\n    exports.AdditiveAnimationBlendMode = AdditiveAnimationBlendMode;\n    exports.AdditiveBlending = AdditiveBlending;\n    exports.AlphaFormat = AlphaFormat;\n    exports.AlwaysDepth = AlwaysDepth;\n    exports.AlwaysStencilFunc = AlwaysStencilFunc;\n    exports.AmbientLight = AmbientLight;\n    exports.AmbientLightProbe = AmbientLightProbe;\n    exports.AnimationClip = AnimationClip;\n    exports.AnimationLoader = AnimationLoader;\n    exports.AnimationMixer = AnimationMixer;\n    exports.AnimationObjectGroup = AnimationObjectGroup;\n    exports.AnimationUtils = AnimationUtils;\n    exports.ArcCurve = ArcCurve;\n    exports.ArrayCamera = ArrayCamera;\n    exports.ArrowHelper = ArrowHelper;\n    exports.Audio = Audio;\n    exports.AudioAnalyser = AudioAnalyser;\n    exports.AudioContext = AudioContext;\n    exports.AudioListener = AudioListener;\n    exports.AudioLoader = AudioLoader;\n    exports.AxesHelper = AxesHelper;\n    exports.AxisHelper = AxisHelper;\n    exports.BackSide = BackSide;\n    exports.BasicDepthPacking = BasicDepthPacking;\n    exports.BasicShadowMap = BasicShadowMap;\n    exports.BinaryTextureLoader = BinaryTextureLoader;\n    exports.Bone = Bone;\n    exports.BooleanKeyframeTrack = BooleanKeyframeTrack;\n    exports.BoundingBoxHelper = BoundingBoxHelper;\n    exports.Box2 = Box2;\n    exports.Box3 = Box3;\n    exports.Box3Helper = Box3Helper;\n    exports.BoxBufferGeometry = BoxBufferGeometry;\n    exports.BoxGeometry = BoxGeometry;\n    exports.BoxHelper = BoxHelper;\n    exports.BufferAttribute = BufferAttribute;\n    exports.BufferGeometry = BufferGeometry;\n    exports.BufferGeometryLoader = BufferGeometryLoader;\n    exports.ByteType = ByteType;\n    exports.Cache = Cache;\n    exports.Camera = Camera;\n    exports.CameraHelper = CameraHelper;\n    exports.CanvasRenderer = CanvasRenderer;\n    exports.CanvasTexture = CanvasTexture;\n    exports.CatmullRomCurve3 = CatmullRomCurve3;\n    exports.CineonToneMapping = CineonToneMapping;\n    exports.CircleBufferGeometry = CircleBufferGeometry;\n    exports.CircleGeometry = CircleGeometry;\n    exports.ClampToEdgeWrapping = ClampToEdgeWrapping;\n    exports.Clock = Clock;\n    exports.ClosedSplineCurve3 = ClosedSplineCurve3;\n    exports.Color = Color;\n    exports.ColorKeyframeTrack = ColorKeyframeTrack;\n    exports.CompressedTexture = CompressedTexture;\n    exports.CompressedTextureLoader = CompressedTextureLoader;\n    exports.ConeBufferGeometry = ConeBufferGeometry;\n    exports.ConeGeometry = ConeGeometry;\n    exports.CubeCamera = CubeCamera;\n    exports.CubeGeometry = BoxGeometry;\n    exports.CubeReflectionMapping = CubeReflectionMapping;\n    exports.CubeRefractionMapping = CubeRefractionMapping;\n    exports.CubeTexture = CubeTexture;\n    exports.CubeTextureLoader = CubeTextureLoader;\n    exports.CubeUVReflectionMapping = CubeUVReflectionMapping;\n    exports.CubeUVRefractionMapping = CubeUVRefractionMapping;\n    exports.CubicBezierCurve = CubicBezierCurve;\n    exports.CubicBezierCurve3 = CubicBezierCurve3;\n    exports.CubicInterpolant = CubicInterpolant;\n    exports.CullFaceBack = CullFaceBack;\n    exports.CullFaceFront = CullFaceFront;\n    exports.CullFaceFrontBack = CullFaceFrontBack;\n    exports.CullFaceNone = CullFaceNone;\n    exports.Curve = Curve;\n    exports.CurvePath = CurvePath;\n    exports.CustomBlending = CustomBlending;\n    exports.CustomToneMapping = CustomToneMapping;\n    exports.CylinderBufferGeometry = CylinderBufferGeometry;\n    exports.CylinderGeometry = CylinderGeometry;\n    exports.Cylindrical = Cylindrical;\n    exports.DataTexture = DataTexture;\n    exports.DataTexture2DArray = DataTexture2DArray;\n    exports.DataTexture3D = DataTexture3D;\n    exports.DataTextureLoader = DataTextureLoader;\n    exports.DecrementStencilOp = DecrementStencilOp;\n    exports.DecrementWrapStencilOp = DecrementWrapStencilOp;\n    exports.DefaultLoadingManager = DefaultLoadingManager;\n    exports.DepthFormat = DepthFormat;\n    exports.DepthStencilFormat = DepthStencilFormat;\n    exports.DepthTexture = DepthTexture;\n    exports.DirectionalLight = DirectionalLight;\n    exports.DirectionalLightHelper = DirectionalLightHelper;\n    exports.DiscreteInterpolant = DiscreteInterpolant;\n    exports.DodecahedronBufferGeometry = DodecahedronBufferGeometry;\n    exports.DodecahedronGeometry = DodecahedronGeometry;\n    exports.DoubleSide = DoubleSide;\n    exports.DstAlphaFactor = DstAlphaFactor;\n    exports.DstColorFactor = DstColorFactor;\n    exports.DynamicBufferAttribute = DynamicBufferAttribute;\n    exports.DynamicCopyUsage = DynamicCopyUsage;\n    exports.DynamicDrawUsage = DynamicDrawUsage;\n    exports.DynamicReadUsage = DynamicReadUsage;\n    exports.EdgesGeometry = EdgesGeometry;\n    exports.EdgesHelper = EdgesHelper;\n    exports.EllipseCurve = EllipseCurve;\n    exports.EqualDepth = EqualDepth;\n    exports.EqualStencilFunc = EqualStencilFunc;\n    exports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;\n    exports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;\n    exports.Euler = Euler;\n    exports.EventDispatcher = EventDispatcher;\n    exports.ExtrudeBufferGeometry = ExtrudeBufferGeometry;\n    exports.ExtrudeGeometry = ExtrudeGeometry;\n    exports.Face3 = Face3;\n    exports.Face4 = Face4;\n    exports.FaceColors = FaceColors;\n    exports.FileLoader = FileLoader;\n    exports.FlatShading = FlatShading;\n    exports.Float32Attribute = Float32Attribute;\n    exports.Float32BufferAttribute = Float32BufferAttribute;\n    exports.Float64Attribute = Float64Attribute;\n    exports.Float64BufferAttribute = Float64BufferAttribute;\n    exports.FloatType = FloatType;\n    exports.Fog = Fog;\n    exports.FogExp2 = FogExp2;\n    exports.Font = Font;\n    exports.FontLoader = FontLoader;\n    exports.FrontSide = FrontSide;\n    exports.Frustum = Frustum;\n    exports.GLBufferAttribute = GLBufferAttribute;\n    exports.GLSL1 = GLSL1;\n    exports.GLSL3 = GLSL3;\n    exports.GammaEncoding = GammaEncoding;\n    exports.Geometry = Geometry;\n    exports.GeometryUtils = GeometryUtils;\n    exports.GreaterDepth = GreaterDepth;\n    exports.GreaterEqualDepth = GreaterEqualDepth;\n    exports.GreaterEqualStencilFunc = GreaterEqualStencilFunc;\n    exports.GreaterStencilFunc = GreaterStencilFunc;\n    exports.GridHelper = GridHelper;\n    exports.Group = Group;\n    exports.HalfFloatType = HalfFloatType;\n    exports.HemisphereLight = HemisphereLight;\n    exports.HemisphereLightHelper = HemisphereLightHelper;\n    exports.HemisphereLightProbe = HemisphereLightProbe;\n    exports.IcosahedronBufferGeometry = IcosahedronBufferGeometry;\n    exports.IcosahedronGeometry = IcosahedronGeometry;\n    exports.ImageBitmapLoader = ImageBitmapLoader;\n    exports.ImageLoader = ImageLoader;\n    exports.ImageUtils = ImageUtils;\n    exports.ImmediateRenderObject = ImmediateRenderObject;\n    exports.IncrementStencilOp = IncrementStencilOp;\n    exports.IncrementWrapStencilOp = IncrementWrapStencilOp;\n    exports.InstancedBufferAttribute = InstancedBufferAttribute;\n    exports.InstancedBufferGeometry = InstancedBufferGeometry;\n    exports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;\n    exports.InstancedMesh = InstancedMesh;\n    exports.Int16Attribute = Int16Attribute;\n    exports.Int16BufferAttribute = Int16BufferAttribute;\n    exports.Int32Attribute = Int32Attribute;\n    exports.Int32BufferAttribute = Int32BufferAttribute;\n    exports.Int8Attribute = Int8Attribute;\n    exports.Int8BufferAttribute = Int8BufferAttribute;\n    exports.IntType = IntType;\n    exports.InterleavedBuffer = InterleavedBuffer;\n    exports.InterleavedBufferAttribute = InterleavedBufferAttribute;\n    exports.Interpolant = Interpolant;\n    exports.InterpolateDiscrete = InterpolateDiscrete;\n    exports.InterpolateLinear = InterpolateLinear;\n    exports.InterpolateSmooth = InterpolateSmooth;\n    exports.InvertStencilOp = InvertStencilOp;\n    exports.JSONLoader = JSONLoader;\n    exports.KeepStencilOp = KeepStencilOp;\n    exports.KeyframeTrack = KeyframeTrack;\n    exports.LOD = LOD;\n    exports.LatheBufferGeometry = LatheBufferGeometry;\n    exports.LatheGeometry = LatheGeometry;\n    exports.Layers = Layers;\n    exports.LensFlare = LensFlare;\n    exports.LessDepth = LessDepth;\n    exports.LessEqualDepth = LessEqualDepth;\n    exports.LessEqualStencilFunc = LessEqualStencilFunc;\n    exports.LessStencilFunc = LessStencilFunc;\n    exports.Light = Light;\n    exports.LightProbe = LightProbe;\n    exports.Line = Line;\n    exports.Line3 = Line3;\n    exports.LineBasicMaterial = LineBasicMaterial;\n    exports.LineCurve = LineCurve;\n    exports.LineCurve3 = LineCurve3;\n    exports.LineDashedMaterial = LineDashedMaterial;\n    exports.LineLoop = LineLoop;\n    exports.LinePieces = LinePieces;\n    exports.LineSegments = LineSegments;\n    exports.LineStrip = LineStrip;\n    exports.LinearEncoding = LinearEncoding;\n    exports.LinearFilter = LinearFilter;\n    exports.LinearInterpolant = LinearInterpolant;\n    exports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\n    exports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;\n    exports.LinearMipmapLinearFilter = LinearMipmapLinearFilter;\n    exports.LinearMipmapNearestFilter = LinearMipmapNearestFilter;\n    exports.LinearToneMapping = LinearToneMapping;\n    exports.Loader = Loader;\n    exports.LoaderUtils = LoaderUtils;\n    exports.LoadingManager = LoadingManager;\n    exports.LogLuvEncoding = LogLuvEncoding;\n    exports.LoopOnce = LoopOnce;\n    exports.LoopPingPong = LoopPingPong;\n    exports.LoopRepeat = LoopRepeat;\n    exports.LuminanceAlphaFormat = LuminanceAlphaFormat;\n    exports.LuminanceFormat = LuminanceFormat;\n    exports.MOUSE = MOUSE;\n    exports.Material = Material;\n    exports.MaterialLoader = MaterialLoader;\n    exports.Math = MathUtils;\n    exports.MathUtils = MathUtils;\n    exports.Matrix3 = Matrix3;\n    exports.Matrix4 = Matrix4;\n    exports.MaxEquation = MaxEquation;\n    exports.Mesh = Mesh;\n    exports.MeshBasicMaterial = MeshBasicMaterial;\n    exports.MeshDepthMaterial = MeshDepthMaterial;\n    exports.MeshDistanceMaterial = MeshDistanceMaterial;\n    exports.MeshFaceMaterial = MeshFaceMaterial;\n    exports.MeshLambertMaterial = MeshLambertMaterial;\n    exports.MeshMatcapMaterial = MeshMatcapMaterial;\n    exports.MeshNormalMaterial = MeshNormalMaterial;\n    exports.MeshPhongMaterial = MeshPhongMaterial;\n    exports.MeshPhysicalMaterial = MeshPhysicalMaterial;\n    exports.MeshStandardMaterial = MeshStandardMaterial;\n    exports.MeshToonMaterial = MeshToonMaterial;\n    exports.MinEquation = MinEquation;\n    exports.MirroredRepeatWrapping = MirroredRepeatWrapping;\n    exports.MixOperation = MixOperation;\n    exports.MultiMaterial = MultiMaterial;\n    exports.MultiplyBlending = MultiplyBlending;\n    exports.MultiplyOperation = MultiplyOperation;\n    exports.NearestFilter = NearestFilter;\n    exports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;\n    exports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;\n    exports.NearestMipmapLinearFilter = NearestMipmapLinearFilter;\n    exports.NearestMipmapNearestFilter = NearestMipmapNearestFilter;\n    exports.NeverDepth = NeverDepth;\n    exports.NeverStencilFunc = NeverStencilFunc;\n    exports.NoBlending = NoBlending;\n    exports.NoColors = NoColors;\n    exports.NoToneMapping = NoToneMapping;\n    exports.NormalAnimationBlendMode = NormalAnimationBlendMode;\n    exports.NormalBlending = NormalBlending;\n    exports.NotEqualDepth = NotEqualDepth;\n    exports.NotEqualStencilFunc = NotEqualStencilFunc;\n    exports.NumberKeyframeTrack = NumberKeyframeTrack;\n    exports.Object3D = Object3D;\n    exports.ObjectLoader = ObjectLoader;\n    exports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;\n    exports.OctahedronBufferGeometry = OctahedronBufferGeometry;\n    exports.OctahedronGeometry = OctahedronGeometry;\n    exports.OneFactor = OneFactor;\n    exports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;\n    exports.OneMinusDstColorFactor = OneMinusDstColorFactor;\n    exports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;\n    exports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;\n    exports.OrthographicCamera = OrthographicCamera;\n    exports.PCFShadowMap = PCFShadowMap;\n    exports.PCFSoftShadowMap = PCFSoftShadowMap;\n    exports.PMREMGenerator = PMREMGenerator;\n    exports.ParametricBufferGeometry = ParametricBufferGeometry;\n    exports.ParametricGeometry = ParametricGeometry;\n    exports.Particle = Particle;\n    exports.ParticleBasicMaterial = ParticleBasicMaterial;\n    exports.ParticleSystem = ParticleSystem;\n    exports.ParticleSystemMaterial = ParticleSystemMaterial;\n    exports.Path = Path;\n    exports.PerspectiveCamera = PerspectiveCamera;\n    exports.Plane = Plane;\n    exports.PlaneBufferGeometry = PlaneBufferGeometry;\n    exports.PlaneGeometry = PlaneGeometry;\n    exports.PlaneHelper = PlaneHelper;\n    exports.PointCloud = PointCloud;\n    exports.PointCloudMaterial = PointCloudMaterial;\n    exports.PointLight = PointLight;\n    exports.PointLightHelper = PointLightHelper;\n    exports.Points = Points;\n    exports.PointsMaterial = PointsMaterial;\n    exports.PolarGridHelper = PolarGridHelper;\n    exports.PolyhedronBufferGeometry = PolyhedronBufferGeometry;\n    exports.PolyhedronGeometry = PolyhedronGeometry;\n    exports.PositionalAudio = PositionalAudio;\n    exports.PropertyBinding = PropertyBinding;\n    exports.PropertyMixer = PropertyMixer;\n    exports.QuadraticBezierCurve = QuadraticBezierCurve;\n    exports.QuadraticBezierCurve3 = QuadraticBezierCurve3;\n    exports.Quaternion = Quaternion;\n    exports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;\n    exports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;\n    exports.REVISION = REVISION;\n    exports.RGBADepthPacking = RGBADepthPacking;\n    exports.RGBAFormat = RGBAFormat;\n    exports.RGBAIntegerFormat = RGBAIntegerFormat;\n    exports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;\n    exports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;\n    exports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;\n    exports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;\n    exports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;\n    exports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;\n    exports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;\n    exports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;\n    exports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;\n    exports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;\n    exports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;\n    exports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;\n    exports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;\n    exports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;\n    exports.RGBA_BPTC_Format = RGBA_BPTC_Format;\n    exports.RGBA_ETC2_EAC_Format = RGBA_ETC2_EAC_Format;\n    exports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;\n    exports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;\n    exports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;\n    exports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;\n    exports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;\n    exports.RGBDEncoding = RGBDEncoding;\n    exports.RGBEEncoding = RGBEEncoding;\n    exports.RGBEFormat = RGBEFormat;\n    exports.RGBFormat = RGBFormat;\n    exports.RGBIntegerFormat = RGBIntegerFormat;\n    exports.RGBM16Encoding = RGBM16Encoding;\n    exports.RGBM7Encoding = RGBM7Encoding;\n    exports.RGB_ETC1_Format = RGB_ETC1_Format;\n    exports.RGB_ETC2_Format = RGB_ETC2_Format;\n    exports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;\n    exports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;\n    exports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;\n    exports.RGFormat = RGFormat;\n    exports.RGIntegerFormat = RGIntegerFormat;\n    exports.RawShaderMaterial = RawShaderMaterial;\n    exports.Ray = Ray;\n    exports.Raycaster = Raycaster;\n    exports.RectAreaLight = RectAreaLight;\n    exports.RedFormat = RedFormat;\n    exports.RedIntegerFormat = RedIntegerFormat;\n    exports.ReinhardToneMapping = ReinhardToneMapping;\n    exports.RepeatWrapping = RepeatWrapping;\n    exports.ReplaceStencilOp = ReplaceStencilOp;\n    exports.ReverseSubtractEquation = ReverseSubtractEquation;\n    exports.RingBufferGeometry = RingBufferGeometry;\n    exports.RingGeometry = RingGeometry;\n    exports.SRGB8_ALPHA8_ASTC_10x10_Format = SRGB8_ALPHA8_ASTC_10x10_Format;\n    exports.SRGB8_ALPHA8_ASTC_10x5_Format = SRGB8_ALPHA8_ASTC_10x5_Format;\n    exports.SRGB8_ALPHA8_ASTC_10x6_Format = SRGB8_ALPHA8_ASTC_10x6_Format;\n    exports.SRGB8_ALPHA8_ASTC_10x8_Format = SRGB8_ALPHA8_ASTC_10x8_Format;\n    exports.SRGB8_ALPHA8_ASTC_12x10_Format = SRGB8_ALPHA8_ASTC_12x10_Format;\n    exports.SRGB8_ALPHA8_ASTC_12x12_Format = SRGB8_ALPHA8_ASTC_12x12_Format;\n    exports.SRGB8_ALPHA8_ASTC_4x4_Format = SRGB8_ALPHA8_ASTC_4x4_Format;\n    exports.SRGB8_ALPHA8_ASTC_5x4_Format = SRGB8_ALPHA8_ASTC_5x4_Format;\n    exports.SRGB8_ALPHA8_ASTC_5x5_Format = SRGB8_ALPHA8_ASTC_5x5_Format;\n    exports.SRGB8_ALPHA8_ASTC_6x5_Format = SRGB8_ALPHA8_ASTC_6x5_Format;\n    exports.SRGB8_ALPHA8_ASTC_6x6_Format = SRGB8_ALPHA8_ASTC_6x6_Format;\n    exports.SRGB8_ALPHA8_ASTC_8x5_Format = SRGB8_ALPHA8_ASTC_8x5_Format;\n    exports.SRGB8_ALPHA8_ASTC_8x6_Format = SRGB8_ALPHA8_ASTC_8x6_Format;\n    exports.SRGB8_ALPHA8_ASTC_8x8_Format = SRGB8_ALPHA8_ASTC_8x8_Format;\n    exports.Scene = Scene;\n    exports.SceneUtils = SceneUtils;\n    exports.ShaderChunk = ShaderChunk;\n    exports.ShaderLib = ShaderLib;\n    exports.ShaderMaterial = ShaderMaterial;\n    exports.ShadowMaterial = ShadowMaterial;\n    exports.Shape = Shape;\n    exports.ShapeBufferGeometry = ShapeBufferGeometry;\n    exports.ShapeGeometry = ShapeGeometry;\n    exports.ShapePath = ShapePath;\n    exports.ShapeUtils = ShapeUtils;\n    exports.ShortType = ShortType;\n    exports.Skeleton = Skeleton;\n    exports.SkeletonHelper = SkeletonHelper;\n    exports.SkinnedMesh = SkinnedMesh;\n    exports.SmoothShading = SmoothShading;\n    exports.Sphere = Sphere;\n    exports.SphereBufferGeometry = SphereBufferGeometry;\n    exports.SphereGeometry = SphereGeometry;\n    exports.Spherical = Spherical;\n    exports.SphericalHarmonics3 = SphericalHarmonics3;\n    exports.Spline = Spline;\n    exports.SplineCurve = SplineCurve;\n    exports.SplineCurve3 = SplineCurve3;\n    exports.SpotLight = SpotLight;\n    exports.SpotLightHelper = SpotLightHelper;\n    exports.Sprite = Sprite;\n    exports.SpriteMaterial = SpriteMaterial;\n    exports.SrcAlphaFactor = SrcAlphaFactor;\n    exports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;\n    exports.SrcColorFactor = SrcColorFactor;\n    exports.StaticCopyUsage = StaticCopyUsage;\n    exports.StaticDrawUsage = StaticDrawUsage;\n    exports.StaticReadUsage = StaticReadUsage;\n    exports.StereoCamera = StereoCamera;\n    exports.StreamCopyUsage = StreamCopyUsage;\n    exports.StreamDrawUsage = StreamDrawUsage;\n    exports.StreamReadUsage = StreamReadUsage;\n    exports.StringKeyframeTrack = StringKeyframeTrack;\n    exports.SubtractEquation = SubtractEquation;\n    exports.SubtractiveBlending = SubtractiveBlending;\n    exports.TOUCH = TOUCH;\n    exports.TangentSpaceNormalMap = TangentSpaceNormalMap;\n    exports.TetrahedronBufferGeometry = TetrahedronBufferGeometry;\n    exports.TetrahedronGeometry = TetrahedronGeometry;\n    exports.TextBufferGeometry = TextBufferGeometry;\n    exports.TextGeometry = TextGeometry;\n    exports.Texture = Texture;\n    exports.TextureLoader = TextureLoader;\n    exports.TorusBufferGeometry = TorusBufferGeometry;\n    exports.TorusGeometry = TorusGeometry;\n    exports.TorusKnotBufferGeometry = TorusKnotBufferGeometry;\n    exports.TorusKnotGeometry = TorusKnotGeometry;\n    exports.Triangle = Triangle;\n    exports.TriangleFanDrawMode = TriangleFanDrawMode;\n    exports.TriangleStripDrawMode = TriangleStripDrawMode;\n    exports.TrianglesDrawMode = TrianglesDrawMode;\n    exports.TubeBufferGeometry = TubeBufferGeometry;\n    exports.TubeGeometry = TubeGeometry;\n    exports.UVMapping = UVMapping;\n    exports.Uint16Attribute = Uint16Attribute;\n    exports.Uint16BufferAttribute = Uint16BufferAttribute;\n    exports.Uint32Attribute = Uint32Attribute;\n    exports.Uint32BufferAttribute = Uint32BufferAttribute;\n    exports.Uint8Attribute = Uint8Attribute;\n    exports.Uint8BufferAttribute = Uint8BufferAttribute;\n    exports.Uint8ClampedAttribute = Uint8ClampedAttribute;\n    exports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;\n    exports.Uniform = Uniform;\n    exports.UniformsLib = UniformsLib;\n    exports.UniformsUtils = UniformsUtils;\n    exports.UnsignedByteType = UnsignedByteType;\n    exports.UnsignedInt248Type = UnsignedInt248Type;\n    exports.UnsignedIntType = UnsignedIntType;\n    exports.UnsignedShort4444Type = UnsignedShort4444Type;\n    exports.UnsignedShort5551Type = UnsignedShort5551Type;\n    exports.UnsignedShort565Type = UnsignedShort565Type;\n    exports.UnsignedShortType = UnsignedShortType;\n    exports.VSMShadowMap = VSMShadowMap;\n    exports.Vector2 = Vector2;\n    exports.Vector3 = Vector3;\n    exports.Vector4 = Vector4;\n    exports.VectorKeyframeTrack = VectorKeyframeTrack;\n    exports.Vertex = Vertex;\n    exports.VertexColors = VertexColors;\n    exports.VideoTexture = VideoTexture;\n    exports.WebGL1Renderer = WebGL1Renderer;\n    exports.WebGLCubeRenderTarget = WebGLCubeRenderTarget;\n    exports.WebGLMultisampleRenderTarget = WebGLMultisampleRenderTarget;\n    exports.WebGLRenderTarget = WebGLRenderTarget;\n    exports.WebGLRenderTargetCube = WebGLRenderTargetCube;\n    exports.WebGLRenderer = WebGLRenderer;\n    exports.WebGLUtils = WebGLUtils;\n    exports.WireframeGeometry = WireframeGeometry;\n    exports.WireframeHelper = WireframeHelper;\n    exports.WrapAroundEnding = WrapAroundEnding;\n    exports.XHRLoader = XHRLoader;\n    exports.ZeroCurvatureEnding = ZeroCurvatureEnding;\n    exports.ZeroFactor = ZeroFactor;\n    exports.ZeroSlopeEnding = ZeroSlopeEnding;\n    exports.ZeroStencilOp = ZeroStencilOp;\n    exports.sRGBEncoding = sRGBEncoding;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));"]}